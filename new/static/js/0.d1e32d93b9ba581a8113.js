webpackJsonp([0],{xFTK:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),n=s.n(a),r=s("exGp"),l=s.n(r),c=s("7+uW"),i=s("/ocq"),o=s("CBxp"),u=s("pMNZ");c.default.use(i.a);var d={data:function(){return{list:[],options:[{value:"1",label:"全部個案"},{value:"3",label:"自費個案"},{value:"4",label:"公費個案"},{value:"5",label:"結案"}],s1:"",s2:1,seach:this.Function.p_json(this.$route.query)}},components:{Page:u.a,Seach:o.a},mounted:function(){var t=l()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GLOBAL.show_black=!0,t.next=3,this.all_ready();case 3:return t.next=5,this.get_data();case 5:this.GLOBAL.show_black=!1,console.log(this.$route);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),watch:{$route:function(t,e){var s=this;return l()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.GLOBAL.show_black=!0,s.seach=s.Function.p_json(s.$route.query),t.next=4,s.get_data();case 4:s.GLOBAL.show_black=!1;case 5:case"end":return t.stop()}},t,s)}))()}},methods:{get_data:function(){var t=l()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Function.get_case_user(this.$route.params.page,encodeURI(this.seach.key),this.seach.pMode);case 2:this.list=t.sent,console.log(this.list);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),show_c:function(){var t=l()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(this.$route),this.$router.push({name:"CaseList",params:{page:1},query:this.seach});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),del:function(){var t=l()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("確定刪除?")){t.next=3;break}return t.abrupt("return",0);case 3:return this.GLOBAL.show_black=!0,t.t0=alert,t.next=7,this.Function.del_case_user(e.Id);case 7:return t.t1=t.sent,(0,t.t0)(t.t1),t.next=11,this.get_data();case 11:this.GLOBAL.show_black=!1;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),unlock:function(){var t=l()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("確定解鎖?")){t.next=3;break}return t.abrupt("return",0);case 3:return this.GLOBAL.show_black=!0,t.t0=alert,t.next=7,this.Function.unlock_case_user(e.ContactUser.ContactUID);case 7:return t.t1=t.sent,(0,t.t0)(t.t1),t.next=11,this.get_data();case 11:this.GLOBAL.show_black=!1;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[s("h2",[t._v("個案管理")]),t._v(" "),s("div",{staticClass:"seach"},[s("el-col",{attrs:{span:4}},[s("el-input",{attrs:{placeholder:"輸入關鍵字","prefix-icon":"el-icon-search"},model:{value:t.seach.key,callback:function(e){t.$set(t.seach,"key",e)},expression:"seach.key"}})],1),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-select",{attrs:{placeholder:"請選擇個案類別"},model:{value:t.seach.pMode,callback:function(e){t.$set(t.seach,"pMode",e)},expression:"seach.pMode"}},t._l(t.options,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),s("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.show_c}},[t._v("搜尋")])],1),t._v(" "),s("div",{staticClass:"list-d case-list list-title"},[s("el-row",[s("el-col",{attrs:{xl:3,md:7,sm:7,xs:7}},[t._v("照片")]),t._v(" "),s("el-col",{attrs:{xl:3,md:5,sm:5,xs:5}},[t._v("姓名")]),t._v(" "),s("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3}},[t._v("個案編號")]),t._v(" "),s("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3}},[t._v("身分證字號")]),t._v(" "),s("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3}},[t._v("生日")]),t._v(" "),s("el-col",{attrs:{xl:3,md:3,sm:3,xs:3}},[t._v("性別")]),t._v(" "),s("el-col",{attrs:{xl:3,md:7,sm:7,xs:7}},[t._v("手機")]),t._v(" "),s("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3}},[t._v("市話")])],1)],1),t._v(" "),t._l(t.list.data,function(e,a){return s("div",{staticClass:"list-d case-list"},[s("el-row",[s("el-col",{attrs:{xl:3,md:7,sm:7,xs:7}},[s("img",{staticClass:"list-d-img",attrs:{src:e.Pic?e.Pic:"https://api.donkeymove.com//UploadFolder/images/default.png"}})]),t._v(" "),s("el-col",{attrs:{xl:3,md:5,sm:5,xs:5}},[t._v(t._s(e.Name))]),t._v(" "),s("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3}},[t._v(t._s(e.CaseUserNo))]),t._v(" "),s("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3}},[t._v(t._s(e.UID))]),t._v(" "),s("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3}},[t._v(t._s(t.Function.moment.yyyymmdd(e.Birthday)))]),t._v(" "),s("el-col",{attrs:{xl:3,md:3,sm:3,xs:3}},[t._v(t._s(1==e.Sex?"男":"女"))]),t._v(" "),s("el-col",{attrs:{xl:3,md:7,sm:7,xs:7}},[t._v(t._s(e.Phone))]),t._v(" "),s("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3}},[t._v(t._s(e.Tel))])],1),t._v(" "),s("div",{staticClass:"list-d-menu"},[s("router-link",{attrs:{to:"/CaseMore/"+e.Id}},[s("i",{staticClass:"el-icon-tickets",attrs:{title:"更多"}})]),t._v(" "),s("i",{staticClass:"el-icon-unlock hidden-md-and-down",attrs:{title:"解鎖"},on:{click:function(s){return t.unlock(e)}}}),t._v(" "),s("i",{staticClass:"el-icon-delete hidden-md-and-down",attrs:{title:"刪除"},on:{click:function(s){return t.del(e)}}})],1)],1)}),t._v(" "),t.list.data&&t.list.data.length<1?s("div",{staticClass:"no-found"},[t._v("查無資料")]):t._e(),t._v(" "),s("Page",{attrs:{max:t.list.pageCount,url:"CaseList",q:t.seach}})],2)},staticRenderFns:[]},_=s("VU/8")(d,h,!1,null,null,null);e.default=_.exports}});
//# sourceMappingURL=0.d1e32d93b9ba581a8113.js.map