{"version":3,"sources":["webpack:///./src/views/FormModel/List.vue?1ba8","webpack:///src/views/FormModel/List.vue","webpack:///./src/views/FormModel/List.vue?5f41","webpack:///./src/views/FormModel/List.vue","webpack:///./src/components/FormModelTable.vue?671c","webpack:///./src/components/FormModelTable.vue?4294","webpack:///src/components/FormModelTable.vue","webpack:///./src/components/FormModelTable.vue?d1a1","webpack:///./src/components/FormModelTable.vue","webpack:///./src/components/Page.vue?7f32","webpack:///src/components/Page.vue","webpack:///./src/components/Page.vue?0146","webpack:///./src/components/Page.vue","webpack:///./node_modules/@babel/runtime/regenerator/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","dialogVisiblePreview","on","$event","FormRow","FormDtlDTO","length","_e","copyVisible","model","value","callback","$$v","$set","expression","_v","staticClass","toCopy","staticStyle","toSearch","search","ref","$router","push","name","batchDel","list","data","handleSelectionChange","scopedSlots","_u","key","fn","scope","preview","row","Id","copy","UnitCode","query","del","page","pageCount","changePage","staticRenderFns","buttonList","changeList","form","blank","Name","Description","Enabled","components","methods","getButtonList","routers","forEach","routePath","element","path","toLowerCase","children","vm","hasBtn","some","x","getData","val","component","_l","item","index","_s","ColumnName","refInFor","props","type","Array","default","watch","handler","console","log","$forceUpdate","deep","immediate","computed","getMax","map","arr","obj","CRow","Math","max","a","b","getRow","filter","id","showRow","i","$refs","Row","getValue","Object","values","created","mounted","count","class","now","goTo","domProps","target","pList","$emit","module","exports","require"],"mappings":"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","file":"js/chunk-428a73be.2b4a9d94.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"FormModelList\"}},[_c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"title\":'表單預覽',\"visible\":_vm.dialogVisiblePreview,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisiblePreview=$event}}},[(_vm.FormRow.FormDtlDTO && _vm.FormRow.FormDtlDTO.length > 0)?_c('FormModelTable',{attrs:{\"data\":_vm.FormRow.FormDtlDTO}}):_vm._e()],1),_c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"title\":'表單複製',\"visible\":_vm.copyVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.copyVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"表單名稱\"}},[_c('el-input',{model:{value:(_vm.FormRow.FormName),callback:function ($$v) {_vm.$set(_vm.FormRow, \"FormName\", $$v)},expression:\"FormRow.FormName\"}})],1)],1),_c('h2',[_vm._v(\"表單預覽\")]),(_vm.FormRow.FormDtlDTO && _vm.FormRow.FormDtlDTO.length > 0)?_c('FormModelTable',{attrs:{\"data\":_vm.FormRow.FormDtlDTO}}):_vm._e(),_c('div',{staticClass:\"formButtonList\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toCopy}},[_vm._v(\"複製表單\")])],1)],1),_c('div',{staticClass:\"buttonList\"},[_c('el-input',{staticStyle:{\"width\":\"240px\"},attrs:{\"placeholder\":\"請輸入關鍵字\"},on:{\"change\":_vm.toSearch},model:{value:(_vm.search.key),callback:function ($$v) {_vm.$set(_vm.search, \"key\", $$v)},expression:\"search.key\"}}),_c('el-button',{ref:\"search\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toSearch}},[_vm._v(\"搜尋\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({ name: 'FormModelEdit' })}}},[_vm._v(\"新增\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.batchDel}},[_vm._v(\"批量刪除\")])],1),_c('div',{staticClass:\"tableD\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"header-cell-class-name\":\"tableHeader\",\"data\":_vm.list.data},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":\"報名表名稱\",\"prop\":\"FormName\",\"min-width\":\"90\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"iconList\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"預覽\",\"placement\":\"top\",\"open-delay\":500}},[_c('div',{staticClass:\"iconListD\",on:{\"click\":function($event){return _vm.preview(scope.row.Id)}}},[_c('i',{staticClass:\"el-icon-view\"})])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"複製\",\"placement\":\"top\",\"open-delay\":500}},[_c('div',{staticClass:\"iconListD\",on:{\"click\":function($event){return _vm.copy(scope.row)}}},[_c('i',{staticClass:\"el-icon-document-copy\"})])]),(scope.row.UnitCode != ' ')?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"編輯\",\"placement\":\"top\",\"open-delay\":500}},[_c('div',{staticClass:\"iconListD\",on:{\"click\":function($event){return _vm.$router.push({\n                    name: 'FormModelEdit',\n                    query: { Id: scope.row.Id },\n                  })}}},[_c('i',{staticClass:\"myicon-edit\"})])]):_vm._e(),(scope.row.UnitCode != ' ')?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"刪除\",\"placement\":\"top\",\"open-delay\":500}},[_c('div',{staticClass:\"iconListD\",on:{\"click\":function($event){return _vm.del(scope.row.Id)}}},[_c('i',{staticClass:\"myicon-delete\"})])]):_vm._e()],1)]}}])})],1)],1),_c('Page',{attrs:{\"now\":_vm.search.page,\"count\":_vm.list.pageCount,\"rightPage\":5,\"leftPage\":5},on:{\"changePage\":_vm.changePage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"FormModelList\">\r\n    <el-dialog\r\n      :close-on-click-modal=\"false\"\r\n      :title=\"'表單預覽'\"\r\n      :visible.sync=\"dialogVisiblePreview\"\r\n      width=\"50%\"\r\n    >\r\n      <!--預覽-->\r\n      <FormModelTable\r\n        :data=\"FormRow.FormDtlDTO\"\r\n        v-if=\"FormRow.FormDtlDTO && FormRow.FormDtlDTO.length > 0\"\r\n      ></FormModelTable>\r\n    </el-dialog>\r\n\r\n    <el-dialog\r\n      :close-on-click-modal=\"false\"\r\n      :title=\"'表單複製'\"\r\n      :visible.sync=\"copyVisible\"\r\n      width=\"50%\"\r\n    >\r\n      <!--預覽-->\r\n      <el-form label-width=\"80px\">\r\n        <el-form-item label=\"表單名稱\">\r\n          <el-input v-model=\"FormRow.FormName\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <h2>表單預覽</h2>\r\n      <FormModelTable\r\n        :data=\"FormRow.FormDtlDTO\"\r\n        v-if=\"FormRow.FormDtlDTO && FormRow.FormDtlDTO.length > 0\"\r\n      ></FormModelTable>\r\n      <div class=\"formButtonList\">\r\n        <el-button type=\"primary\" @click=\"toCopy\">複製表單</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <div class=\"buttonList\">\r\n      <el-input\r\n        style=\"width: 240px\"\r\n        placeholder=\"請輸入關鍵字\"\r\n        v-model=\"search.key\"\r\n        @change=\"toSearch\"\r\n      ></el-input>\r\n      <el-button type=\"primary\" ref=\"search\" @click=\"toSearch\">搜尋</el-button>\r\n      <el-button type=\"primary\" @click=\"$router.push({ name: 'FormModelEdit' })\"\r\n        >新增</el-button\r\n      >\r\n      <el-button type=\"danger\" @click=\"batchDel\">批量刪除</el-button>\r\n    </div>\r\n\r\n    <div class=\"tableD\">\r\n      <el-table\r\n        header-cell-class-name=\"tableHeader\"\r\n        :data=\"list.data\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column\r\n          label=\"報名表名稱\"\r\n          prop=\"FormName\"\r\n          min-width=\"90\"\r\n          sortable\r\n        ></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <!--<template slot-scope=\"scope\"></template>-->\r\n            <div class=\"iconList\">\r\n              <el-tooltip\r\n                class=\"item\"\r\n                effect=\"dark\"\r\n                content=\"預覽\"\r\n                placement=\"top\"\r\n                :open-delay=\"500\"\r\n              >\r\n                <div class=\"iconListD\" @click=\"preview(scope.row.Id)\">\r\n                  <i class=\"el-icon-view\"></i>\r\n                </div>\r\n              </el-tooltip>\r\n              <el-tooltip\r\n                class=\"item\"\r\n                effect=\"dark\"\r\n                content=\"複製\"\r\n                placement=\"top\"\r\n                :open-delay=\"500\"\r\n              >\r\n                <div class=\"iconListD\" @click=\"copy(scope.row)\">\r\n                  <i class=\"el-icon-document-copy\"></i>\r\n                </div>\r\n              </el-tooltip>\r\n              <el-tooltip\r\n                class=\"item\"\r\n                effect=\"dark\"\r\n                content=\"編輯\"\r\n                placement=\"top\"\r\n                :open-delay=\"500\"\r\n                v-if=\"scope.row.UnitCode != ' '\"\r\n              >\r\n                <div\r\n                  class=\"iconListD\"\r\n                  @click=\"\r\n                    $router.push({\r\n                      name: 'FormModelEdit',\r\n                      query: { Id: scope.row.Id },\r\n                    })\r\n                  \"\r\n                >\r\n                  <i class=\"myicon-edit\"></i>\r\n                </div>\r\n              </el-tooltip>\r\n              <el-tooltip\r\n                class=\"item\"\r\n                effect=\"dark\"\r\n                content=\"刪除\"\r\n                placement=\"top\"\r\n                :open-delay=\"500\"\r\n                v-if=\"scope.row.UnitCode != ' '\"\r\n              >\r\n                <div class=\"iconListD\" @click=\"del(scope.row.Id)\">\r\n                  <i class=\"myicon-delete\"></i>\r\n                </div>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <Page\r\n      :now=\"search.page\"\r\n      :count=\"list.pageCount\"\r\n      :rightPage=\"5\"\r\n      :leftPage=\"5\"\r\n      @changePage=\"changePage\"\r\n    ></Page>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Page from \"@/components/Page.vue\";\r\nimport FormModelTable from \"@/components/FormModelTable\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      buttonList: [],\r\n      search: {\r\n        page: 1,\r\n        key: \"\",\r\n      },\r\n      list: [],\r\n      changeList: [],\r\n      FormRow: \"\",\r\n      dialogVisiblePreview: false,\r\n      copyVisible: false,\r\n      form: \"\",\r\n      blank: {\r\n        Name: \"\",\r\n        Description: \"\",\r\n        Enabled: true,\r\n      },\r\n    };\r\n  },\r\n  components: { Page, FormModelTable },\r\n  async created() {\r\n    this.$store.dispatch(\"loadingHandler\", true);\r\n    let routers = JSON.parse(window.localStorage.router)\r\n      ? JSON.parse(window.localStorage.router)\r\n      : [];\r\n    this.getButtonList(this.$route.path, routers);\r\n    await this.getData(this.search);\r\n    this.$store.dispatch(\"loadingHandler\", false);\r\n  },\r\n  methods: {\r\n    async getData(x) {\r\n      this.$store.dispatch(\"loadingHandler\", true);\r\n      this.list = await this.$api.GetForm(x).then((res) => res.data.response);\r\n      this.$store.dispatch(\"loadingHandler\", false);\r\n    },\r\n    getButtonList(routePath, routers) {\r\n      const vm = this;\r\n      let buttonList = [];\r\n      routers.forEach((element) => {\r\n        if (routePath && element.path) {\r\n          let path = routePath.toLowerCase();\r\n          if (element.path && element.path.toLowerCase() === path) {\r\n            buttonList = element.children;\r\n            vm.buttonList = buttonList;\r\n            return;\r\n          } else if (element.children) {\r\n            this.getButtonList(path, element.children);\r\n          }\r\n        }\r\n      });\r\n      return buttonList;\r\n    },\r\n    hasBtn(btnType) {\r\n      const vm = this;\r\n      return this.buttonList.some((btn) => btn.iconCls == btnType);\r\n      // return true;\r\n    },\r\n    toSearch() {\r\n      this.changePage(1);\r\n    },\r\n    changePage(x) {\r\n      this.search.page = x;\r\n      this.getData(this.search);\r\n    },\r\n    async del(x, y = true) {\r\n      if (y) {\r\n        let yes = confirm(\"確定刪除?\");\r\n        if (!yes) return 0;\r\n      }\r\n      this.$store.dispatch(\"loadingHandler\", true);\r\n      let obj = { Id: x };\r\n      await this.$api.DeleteForm(obj).then((res) => {\r\n        if (res.data.success && y) {\r\n          this.getData(this.search);\r\n        }\r\n      });\r\n      this.$store.dispatch(\"loadingHandler\", false);\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.changeList = val;\r\n    },\r\n    async batchDel() {\r\n      let yes = confirm(\"確定批量刪除?\");\r\n      if (!yes) return 0;\r\n      for (let i in this.changeList) {\r\n        await this.del(this.changeList[i].Id, false);\r\n      }\r\n      this.getData(this.search);\r\n    },\r\n    async preview(x) {\r\n      this.$store.dispatch(\"loadingHandler\", true);\r\n      let obj = { Id: x };\r\n      this.FormRow = await this.$api\r\n        .GetFormById(obj)\r\n        .then((res) => res.data.response);\r\n      this.dialogVisiblePreview = !this.dialogVisiblePreview;\r\n      this.$store.dispatch(\"loadingHandler\", false);\r\n    },\r\n    async copy(x) {\r\n      let obj = { Id: x.Id };\r\n      let user = window.localStorage.user\r\n        ? JSON.parse(window.localStorage.user)\r\n        : null;\r\n      this.$store.dispatch(\"loadingHandler\", true);\r\n      this.copyVisible = true;\r\n      this.FormRow = await this.$api\r\n        .GetFormById(obj)\r\n        .then((res) => res.data.response);\r\n      this.FormRow.FormName += \" - Copy\";\r\n      this.FormRow.UnitCode = user.UnitCode;\r\n      this.$store.dispatch(\"loadingHandler\", false);\r\n    },\r\n    async toCopy() {\r\n      this.$store.dispatch(\"loadingHandler\", true);\r\n      let flag = await this.$api.PostForm(this.FormRow).then((res) => res.data);\r\n      this.$alertM.fire({\r\n        icon: flag.success ? \"success\" : \"error\",\r\n        title: flag.msg,\r\n      });\r\n      await this.getData(this.search);\r\n      this.copyVisible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=6fda0434&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormModelTable.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormModelTable.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},_vm._l((_vm.list),function(item,index){return _c('el-row',{key:index,attrs:{\"gutter\":16}},[_c('el-col',[_c('div',{staticClass:\"el-col-item\"},[_vm._v(_vm._s(item.ColumnName))]),_c('formComp',{ref:'Row',refInFor:true,attrs:{\"formData\":item}})],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"width:100%\">\r\n    <el-row v-for=\"(item,index) in list \" :key=\"index\" :gutter=\"16\">\r\n      <el-col>\r\n        <div class=\"el-col-item\">{{item.ColumnName}}</div>\r\n        <formComp :formData=\"item\" :ref=\"'Row'\"></formComp>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport formComp from \"@/components/formComp.vue\";\r\n//import alldata from \"@/assets/route\";\r\nexport default {\r\n  components: { formComp },\r\n  props:{\r\n    data: {\r\n      type: Array,\r\n      default: [],\r\n    }\r\n  },\r\n  watch: {\r\n    data: {\r\n      handler (newVal) {\r\n        this.list=newVal\r\n        console.log(this.list)\r\n        this.$forceUpdate()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      list:[]\r\n    };\r\n  },\r\n  computed: {\r\n    getMax() {\r\n      let arr = [];\r\n      this.list.map(obj => {\r\n        arr.push(obj.CRow);\r\n      });\r\n\r\n      let max = arr.reduce(function(a, b) {\r\n        return Math.max(a, b);\r\n      });\r\n      return max;\r\n    }\r\n  },\r\n  methods: {\r\n    getRow(id) {\r\n      console.log(\"getRow\",this.list.filter(obj => {return obj.CRow === id}))\r\n      return this.list.filter(obj => {\r\n        return obj.CRow === id;\r\n      });\r\n    },\r\n    showRow() {\r\n      /*\r\n        {\r\n    \"id\": 0,\r\n    \"activityRegisterId\": 0,\r\n    \"formDtlId\": 0,\r\n    \"inputVal\": \"string\"\r\n  }\r\n      */\r\n      let obj = {};\r\n      for (let i in this.$refs.Row) {\r\n        obj[\"Row\" + i] = this.$refs.Row[i].getValue;\r\n      }\r\n      //console.log(Object.values(obj));\r\n      return Object.values(obj)\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    // console.log(this.$refs.Row);\r\n  }\r\n};\r\n</script>\r\n<style lang='scss'>\r\n\r\n.el-col {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n}\r\n.el-col-item {\r\n  width: 90px;\r\n  margin: 0 10px;\r\n  text-align: left;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormModelTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormModelTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormModelTable.vue?vue&type=template&id=6b3aa47a&\"\nimport script from \"./FormModelTable.vue?vue&type=script&lang=js&\"\nexport * from \"./FormModelTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormModelTable.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_vm._l((_vm.pList),function(item,index){return [(item>0&&item<=_vm.count)?_c('div',{key:index,staticClass:\"pageD\",class:{'pageDonc':item==_vm.now},on:{\"click\":function($event){return _vm.goTo(item)}}},[_vm._v(_vm._s(item))]):_vm._e()]}),(_vm.now)?_c('select',{domProps:{\"value\":_vm.now},on:{\"change\":function($event){return _vm.goTo($event.target.value)}}},_vm._l((_vm.count),function(item,index){return _c('option',{key:index,domProps:{\"value\":item}},[_vm._v(_vm._s(item+\" / \"+_vm.count))])}),0):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page\">\r\n    <template v-for=\"(item,index) in pList\">  \r\n      <div class=\"pageD\" :class=\"{'pageDonc':item==now}\" :key=\"index\" v-if=\"item>0&&item<=count\" @click=\"goTo(item)\">{{item}}</div>\r\n    </template>\r\n    <select :value=\"now\" @change=\"goTo($event.target.value)\" v-if=\"now\">\r\n      <option v-for=\"(item,index) in count\" :key=\"index\" :value=\"item\">{{item+\" / \"+count}}</option>\r\n    </select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:[\"now\",\"count\",\"rightPage\",\"leftPage\"],\r\n  data() {\r\n    return {\r\n    }\r\n  },\r\n  computed: {\r\n    pList() {\r\n      var arr=[]\r\n      for(let i=this.now-this.leftPage;i<=this.now+this.rightPage;i++) {\r\n        arr.push(i)\r\n      }\r\n      return arr\r\n    }\r\n  },\r\n  methods: {\r\n    goTo(x) {\r\n      this.$emit(\"changePage\", x);\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=67a3b7aa&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"regenerator-runtime\");\n"],"sourceRoot":""}