(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-685f76f4"],{"43b3":function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"title"}},[e._v(" "+e._s(e.title)+" ")])},l=[],n={props:["title"]},a=n,i=o("2877"),s=Object(i["a"])(a,r,l,!1,null,null,null);t["a"]=s.exports},"46ac":function(e,t,o){"use strict";var r=o("8eb8"),l=o.n(r);l.a},"555d":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"FormModelEdit"}},[o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"表單預覽",visible:e.dialogVisiblePreview,width:"50%"},on:{"update:visible":function(t){e.dialogVisiblePreview=t}}},[e.dialogVisiblePreview?o("div",[e.form.FormDtlDTO&&e.form.FormDtlDTO.length>0?o("FormModelTable",{attrs:{data:e.form.FormDtlDTO}}):e._e()],1):e._e()]),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.isAdd?"新增":"修改",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"欄位名稱"}},[o("el-input",{model:{value:e.rowForm.ColumnName,callback:function(t){e.$set(e.rowForm,"ColumnName",t)},expression:"rowForm.ColumnName"}})],1),e.rowForm.MemberColumn?e._e():o("el-form-item",{attrs:{label:"欄位類型"}},[o("el-select",{on:{change:function(t){return e.setProfileColumn(e.rowForm.ColumnType)}},model:{value:e.rowForm.ColumnType,callback:function(t){e.$set(e.rowForm,"ColumnType",t)},expression:"rowForm.ColumnType"}},[o("el-option",{attrs:{label:"單行文字",value:1}}),o("el-option",{attrs:{label:"核取方塊",value:3}}),o("el-option",{attrs:{label:"選擇鈕",value:4}}),o("el-option",{attrs:{label:"下拉清單",value:5}}),o("el-option",{attrs:{label:"檔案類型",value:6}})],1)],1),2==e.rowForm.ColumnType&&e.dialogVisible?o("div",{staticClass:"el-form-item_tableBox"},[o("el-table",{attrs:{"header-cell-class-name":"tableHeader",data:e.rowForm.ProfileColumn}},[o("el-table-column",{attrs:{label:"寬度"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{model:{value:t.row.width,callback:function(o){e.$set(t.row,"width",o)},expression:"scope.row.width"}})]}}],null,!1,3334125583)}),o("el-table-column",{attrs:{label:"分隔符"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{model:{value:t.row.mark,callback:function(o){e.$set(t.row,"mark",o)},expression:"scope.row.mark"}})]}}],null,!1,133627452)}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"iconList"},[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.delFormRowItem(t.$index)}}},[e._v("刪除")])],1)]}}],null,!1,3866266899)})],1),o("div",{staticClass:"SeparateBox"},e._l(e.rowForm.ProfileColumn,(function(t,r){return o("div",{key:r,staticClass:"SeparateBoxItem",style:{width:t.width+"%"}},[o("el-input"),o("span",[e._v(e._s(t.mark))])],1)})),0),o("div",{staticClass:"formButtonList"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addFormRowItem(!0)}}},[e._v("新增選項")])],1)],1):e._e(),3!=e.rowForm.ColumnType&&4!=e.rowForm.ColumnType&&5!=e.rowForm.ColumnType||!e.dialogVisible||"Sex"==e.rowForm.MemberColumn?e._e():o("div",{staticClass:"el-form-item_tableBox"},[o("el-checkbox",{model:{value:e.valueBind,callback:function(t){e.valueBind=t},expression:"valueBind"}},[e._v("指定值綁定")]),o("el-table",{attrs:{"header-cell-class-name":"tableHeader",data:e.rowForm.ProfileColumn}},[o("el-table-column",{attrs:{label:"選項名稱"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{on:{input:function(o){return e.valueToBind(t.row)}},model:{value:t.row.name,callback:function(o){e.$set(t.row,"name",o)},expression:"scope.row.name"}})]}}],null,!1,1053608426)}),o("el-table-column",{attrs:{label:"指定值"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{model:{value:t.row.value,callback:function(o){e.$set(t.row,"value",o)},expression:"scope.row.value"}})]}}],null,!1,4065949250)}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"iconList"},[o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.delFormRowItem(t.$index)}}},[e._v("刪除")])],1)]}}],null,!1,3866266899)})],1),o("div",{staticClass:"formButtonList"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addFormRowItem()}}},[e._v("新增選項")])],1)],1),7==e.rowForm.ColumnType&&e.dialogVisible?o("div",{staticClass:"rowFormTree"},[o("el-checkbox",{model:{value:e.valueBind,callback:function(t){e.valueBind=t},expression:"valueBind"}},[e._v("指定值綁定")]),o("el-tree",{attrs:{data:e.rowForm.ProfileColumn,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,l=t.data;return o("div",{staticClass:"customTreeNode"},[o("div",{staticClass:"customTreeNodeTitle"},[e._v("選項名稱")]),o("el-input",{on:{input:function(t){return e.valueToBind(l)}},model:{value:l.label,callback:function(t){e.$set(l,"label",t)},expression:"data.label"}}),o("div",{staticClass:"customTreeNodeTitle"},[e._v("指定值")]),o("el-input",{model:{value:l.value,callback:function(t){e.$set(l,"value",t)},expression:"data.value"}}),o("div",{staticClass:"iconList"},[o("el-button",{attrs:{type:"success"},on:{click:function(t){return e.append(l)}}},[e._v("新增選項")]),o("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.remove(r,l)}}},[e._v("刪除選項")])],1)],1)}}],null,!1,2259031637)}),o("div",{staticClass:"formButtonList"},[o("el-button",{attrs:{type:"primary"},on:{click:e.parentAppend}},[e._v("新增首級選項")])],1)],1):e._e(),o("el-form-item",{attrs:{label:"數值類型"}},[o("el-select",{model:{value:e.rowForm.ColumnMode,callback:function(t){e.$set(e.rowForm,"ColumnMode",t)},expression:"rowForm.ColumnMode"}},[o("el-option",{attrs:{label:"任何文字",value:1}}),o("el-option",{attrs:{label:"日期",value:2}}),o("el-option",{attrs:{label:"E-mail",value:5}})],1)],1),o("el-form-item",{attrs:{label:"欄位設定"}},[o("el-select",{model:{value:e.rowForm.ColumnSet,callback:function(t){e.$set(e.rowForm,"ColumnSet",t)},expression:"rowForm.ColumnSet"}},[o("el-option",{attrs:{label:"不允許空白",value:1}}),o("el-option",{attrs:{label:"允許空白",value:2}})],1)],1),o("el-form-item",{attrs:{label:"會員欄位關聯"}},[o("el-select",{on:{change:e.changeMemberColumn},model:{value:e.rowForm.MemberColumn,callback:function(t){e.$set(e.rowForm,"MemberColumn",t)},expression:"rowForm.MemberColumn"}},[o("el-option",{attrs:{label:"請選擇",value:null}}),o("el-option",{attrs:{label:"會員帳號",value:"UserAccount"}}),o("el-option",{attrs:{label:"姓名",value:"UserName"}}),o("el-option",{attrs:{label:"電子郵件",value:"UserEmail"}}),o("el-option",{attrs:{label:"學校名稱",value:"UserSchool"}}),o("el-option",{attrs:{label:"所屬單位",value:"UnitName"}}),o("el-option",{attrs:{label:"身分證字號",value:"UID"}}),o("el-option",{attrs:{label:"性別",value:"Sex"}}),o("el-option",{attrs:{label:"職別",value:"UserTitle"}})],1)],1),o("el-form-item",{attrs:{label:"欄位備註"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.rowForm.ColumnRemark,callback:function(t){e.$set(e.rowForm,"ColumnRemark",t)},expression:"rowForm.ColumnRemark"}})],1),o("el-form-item",{attrs:{label:"是否為唯一鍵"}},[o("el-radio-group",{model:{value:e.rowForm.IsKeyWord,callback:function(t){e.$set(e.rowForm,"IsKeyWord",t)},expression:"rowForm.IsKeyWord"}},[o("el-radio",{attrs:{label:!0}},[e._v("是")]),o("el-radio",{attrs:{label:!1}},[e._v("否")])],1),o("p",{staticClass:"red"},[e._v("此為判別重複報名的選項 通常設定在電子郵件或帳號")])],1)],1),o("div",{staticClass:"formButtonList"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.subRow()}}},[e._v("確定")])],1)],1),o("Title",{attrs:{title:e.$router.currentRoute.query.Id?"表單模組編輯":"表單模組新增"}}),o("div",{staticClass:"form"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"表單名稱",prop:"FormName"}},[o("el-input",{staticStyle:{width:"598px"},model:{value:e.form.FormName,callback:function(t){e.$set(e.form,"FormName",t)},expression:"form.FormName"}})],1),o("el-form-item",{attrs:{label:"所屬類別",prop:"UnitCode"}},[o("el-select",{attrs:{placeholder:"請選擇"},model:{value:e.form.UnitCode,callback:function(t){e.$set(e.form,"UnitCode",t)},expression:"form.UnitCode"}},e._l(e.UnitList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.UntNameFull,value:e.UntId}})})),1)],1),o("el-form-item",{attrs:{label:"製作方式"}},[o("el-radio-group",{model:{value:e.importForm.IsImport,callback:function(t){e.$set(e.importForm,"IsImport",t)},expression:"importForm.IsImport"}},[o("el-radio",{attrs:{label:!1}},[e._v("從空白表單開始建立")]),o("el-radio",{attrs:{label:!0}},[e._v("從範本開始建立表單")])],1)],1),e.importForm.IsImport?o("el-form-item",[o("el-select",{attrs:{placeholder:"請選擇所屬類別"},model:{value:e.importForm.cUnit,callback:function(t){e.$set(e.importForm,"cUnit",t)},expression:"importForm.cUnit"}},e._l(e.UnitList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.UntNameFull,value:e.UntId}})})),1),o("el-select",{attrs:{placeholder:"請選擇表單名稱"},on:{change:e.importFormData},model:{value:e.importForm.cForm,callback:function(t){e.$set(e.importForm,"cForm",t)},expression:"importForm.cForm"}},e._l(e.filterFormList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.FormName,value:e.Id}})})),1)],1):e._e(),o("el-form-item",{attrs:{label:"啟用"}},[o("el-radio-group",{model:{value:e.form.IsEnable,callback:function(t){e.$set(e.form,"IsEnable",t)},expression:"form.IsEnable"}},[o("el-radio",{attrs:{label:!0}},[e._v("是")]),o("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),o("el-form-item",{attrs:{label:"表單說明"}},[o("el-input",{staticStyle:{width:"598px"},model:{value:e.form.FormSummary,callback:function(t){e.$set(e.form,"FormSummary",t)},expression:"form.FormSummary"}})],1),o("el-form-item",{attrs:{label:"報名按鈕名稱"}},[o("el-input",{staticStyle:{width:"598px"},model:{value:e.form.AddButtonLab,callback:function(t){e.$set(e.form,"AddButtonLab",t)},expression:"form.AddButtonLab"}})],1),o("el-form-item",{attrs:{label:"取消按鈕名稱"}},[o("el-input",{staticStyle:{width:"598px"},model:{value:e.form.CancelButtonLab,callback:function(t){e.$set(e.form,"CancelButtonLab",t)},expression:"form.CancelButtonLab"}})],1),o("el-form-item",{attrs:{label:"成功訊息"}},[o("el-input",{staticStyle:{width:"598px"},model:{value:e.form.SuccessMsg,callback:function(t){e.$set(e.form,"SuccessMsg",t)},expression:"form.SuccessMsg"}})],1)],1),o("div",{staticClass:"tableD"},[o("div",{staticClass:"tableDTitle"},[e._v("欄位管理")]),o("el-table",{attrs:{"header-cell-class-name":"tableHeader",data:e.form.FormDtlDTO}},[o("el-table-column",{attrs:{label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),o("el-table-column",{attrs:{label:"欄位名稱",prop:"ColumnName"}}),o("el-table-column",{attrs:{label:"欄位類型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.ColumnType?"單行文字":2==t.row.ColumnType?"單行-帶分隔符":3==t.row.ColumnType?"核取方塊":4==t.row.ColumnType?"選擇鈕":5==t.row.ColumnType?"下拉清單":6==t.row.ColumnType?"檔案類型":7==t.row.ColumnType?"聯動下拉單":"多行文字"))]}}])}),o("el-table-column",{attrs:{label:"數值類型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.ColumnMode?"任何文字":2==t.row.ColumnMode?"日期":3==t.row.ColumnMode?"整數數值":4==t.row.ColumnMode?"任何數值":"E-mail"))]}}])}),o("el-table-column",{attrs:{label:"欄位設定"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.ColumnSet?"不允許空白":"允許空白"))]}}])}),o("el-table-column",{attrs:{label:"欄位備註",prop:"ColumnRemark"}}),o("el-table-column",{attrs:{label:"是否為唯一鍵"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.IsKeyWord?"是":"否"))]}}])}),o("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"iconList"},[o("div",{staticClass:"iconListD",on:{click:function(o){return e.ArrayMove(e.form.FormDtlDTO,t.$index,t.$index-1==-1?e.form.FormDtlDTO.length-1:t.$index-1,t.row)}}},[o("i",{staticClass:"MenuSortListIcon myicon-arrow-up-2"})]),o("div",{staticClass:"iconListD",on:{click:function(o){return e.ArrayMove(e.form.FormDtlDTO,t.$index,t.$index+1==e.form.FormDtlDTO.length?0:t.$index+1,t.row)}}},[o("i",{staticClass:"MenuSortListIcon myicon-arrow-down-2"})]),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"編輯",placement:"top","open-delay":500}},[o("div",{staticClass:"iconListD",on:{click:function(o){e.getRowIndex=t.$index,e.showDialog(t.row)}}},[o("i",{staticClass:"myicon-edit"})])]),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"刪除",placement:"top","open-delay":500}},[o("div",{staticClass:"iconListD",on:{click:function(o){return e.delRow(t.$index)}}},[o("i",{staticClass:"myicon-delete"})])])],1)]}}])})],1),o("div",{staticClass:"formButtonList"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showDialog()}}},[e._v("新增一列")]),o("el-button",{attrs:{type:"primary"},on:{click:e.preview}},[e._v("預覽")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sub("form")}}},[e._v("儲存")])],1)],1)],1)],1)},l=[],n=o("a34a"),a=o.n(n),i=o("43b3"),s=o("64fe"),u=o("cc6e");function m(e,t){var o;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=c(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,n=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw n}}}}function c(e,t){if(e){if("string"===typeof e)return d(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function f(e,t,o,r,l,n,a){try{var i=e[n](a),s=i.value}catch(u){return void o(u)}i.done?t(s):Promise.resolve(s).then(r,l)}function p(e){return function(){var t=this,o=arguments;return new Promise((function(r,l){var n=e.apply(t,o);function a(e){f(n,r,l,a,i,"next",e)}function i(e){f(n,r,l,a,i,"throw",e)}a(void 0)}))}}var b={data:function(){return{valueBind:!0,SeparateData:[{width:"25",mark:"-"},{width:"25",mark:"-"},{width:"50",mark:"-"}],CascaderData:[{id:1,label:"",value:"",children:null},{id:2,label:"",value:"",children:null},{id:3,label:"",value:"",children:null}],dialogVisible:!1,dialogVisiblePreview:!1,isAdd:!0,importForm:{IsImport:!1,cUnit:"",cForm:[]},FormList:[],UnitList:[],form:{Id:0,FormName:"",UnitCode:"",FormSummary:"",FormFooter:"",AddButtonLab:"確認資料",CancelButtonLab:"取消",IsEnable:!0,SuccessMsg:"恭喜您完成本次報名",FormDtlDTO:[]},rules:{FormName:[{required:!0,message:" ",trigger:"blur"}],UnitCode:[{required:!0,message:" ",trigger:"blur"}],FormSummary:[{required:!0,message:" ",trigger:"blur"}],FormFooter:[{required:!0,message:" ",trigger:"blur"}]},getRowIndex:"",rowForm:"",rowFormBlank:{Id:0,FormId:0,CRow:1,CGrid:24,ColumnName:"",ColumnType:1,ProfileColumn:"",ColumnMode:1,ColumnSet:2,ColumnRemark:"",MemberColumn:null,IsKeyWord:!1}}},watch:{form:{handler:function(e){this.form=e},deep:!0,immediate:!0}},computed:{filterFormList:function(){var e=this;return this.FormList.filter((function(t){return t.UnitCode==e.importForm.cUnit||" "==t.UnitCode}))}},components:{Title:i["a"],FormModelTable:s["a"],Ck:u["a"]},created:function(){var e=this;return p(a.a.mark((function t(){var o,r;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.dispatch("loadingHandler",!0),!e.$router.currentRoute.query.Id){t.next=6;break}return o={Id:e.$router.currentRoute.query.Id},t.next=5,e.$api.GetFormById(o).then((function(e){return e.data.response}));case 5:e.form=t.sent;case 6:return e.form.FormDtlDTO||(e.form.FormDtlDTO=[]),t.next=9,e.$api.GetAdminUserById({Id:JSON.parse(localStorage.user).Id}).then((function(e){return e.data.response}));case 9:return r=t.sent,t.next=12,e.$api.GetUnits().then((function(e){return e.data}));case 12:return e.UnitList=t.sent,e.UnitList=e.UnitList.filter((function(e){return-1!=r.CtrlUnits.indexOf(e.UntId)})),t.next=16,e.$api.GetFormNoPage().then((function(e){return e.data}));case 16:e.FormList=t.sent,e.$store.dispatch("loadingHandler",!1);case 18:case"end":return t.stop()}}),t)})))()},methods:{sub:function(e){var t=this;return p(a.a.mark((function o(){var r,l;return a.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:r=t,t.$refs[e].validate(function(){var e=p(a.a.mark((function e(o){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o){e.next=14;break}if(!t.$router.currentRoute.query.Id){e.next=7;break}return t.form.FormDtlDTO.forEach((function(e){e.FormId=t.form.Id})),e.next=5,t.$api.PutForm(t.form).then((function(e){l=e.data.msg})).catch((function(){return"網路錯誤"}));case 5:e.next=10;break;case 7:return t.form.FormDtlDTO.forEach((function(e){e.FormId=0})),e.next=10,t.$api.PostForm(t.form).then((function(e){l=e.data.msg,r.$alertM.fire({icon:"網路錯誤"==l?"error":"success",title:l})})).catch((function(){return"網路錯誤"}));case 10:t.$router.push({path:"/FormModel/List"}),t.$store.dispatch("loadingHandler",!1),e.next=16;break;case 14:return r.$alertM.fire({icon:"error",title:"請檢查欄位是否正確填寫"}),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return o.stop()}}),o)})))()},importFormData:function(){var e=this;return p(a.a.mark((function t(){var o,r,l,n,i,s;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("loadingHandler",!0),o=e.form.Id,r=e.form.FormName,l=e.form.UnitCode,t.next=6,e.$api.GetFormById({Id:e.importForm.cForm}).then((function(e){return e.data.response}));case 6:e.form=t.sent,e.form.Id=o,e.form.FormName=r,e.form.UnitCode=l,n=m(e.form.FormDtlDTO);try{for(n.s();!(i=n.n()).done;)s=i.value,s.FormId=o}catch(a){n.e(a)}finally{n.f()}e.$store.dispatch("loadingHandler",!1);case 13:case"end":return t.stop()}}),t)})))()},subRow:function(){this.dialogVisible=!this.dialogVisible,2!=this.rowForm.ColumnType&&3!=this.rowForm.ColumnType&&4!=this.rowForm.ColumnType&&5!=this.rowForm.ColumnType&&7!=this.rowForm.ColumnType||(this.rowForm.ProfileColumn=JSON.stringify(this.rowForm.ProfileColumn)),this.isAdd?this.addRow():this.editRow()},addRow:function(){this.form.FormDtlDTO.push(this.rowForm)},editRow:function(){this.form.FormDtlDTO[this.getRowIndex]=this.rowForm,this.form.FormDtlDTO.push({}),this.form.FormDtlDTO.splice(this.form.FormDtlDTO.length-1,1)},delRow:function(e){this.form.FormDtlDTO.splice(e,1)},showDialog:function(e){e?(this.isAdd=!1,this.rowForm=JSON.parse(JSON.stringify(e))):(this.isAdd=!0,this.rowForm=JSON.parse(JSON.stringify(this.rowFormBlank)),this.rowForm.CRow=this.form.FormDtlDTO.length+1),2!=this.rowForm.ColumnType&&3!=this.rowForm.ColumnType&&4!=this.rowForm.ColumnType&&5!=this.rowForm.ColumnType&&7!=this.rowForm.ColumnType||(this.rowForm.ProfileColumn=JSON.parse(this.rowForm.ProfileColumn)),this.dialogVisible=!this.dialogVisible},setProfileColumn:function(e){this.rowForm.ProfileColumn=2==e?JSON.parse(JSON.stringify(this.SeparateData)):3==e||4==e||5==e?[]:7==e?JSON.parse(JSON.stringify(this.CascaderData)):""},addFormRowItem:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.rowForm.ProfileColumn.push({width:"25",mark:"-"}):this.rowForm.ProfileColumn.push({name:"",value:""})},delFormRowItem:function(e){this.rowForm.ProfileColumn.splice(e,1)},append:function(e){e.children||(e.children=[]),e.children.push({id:(new Date).getTime(),value:"",label:"",children:null}),this.$forceUpdate()},remove:function(e,t){var o=e.parent,r=o.data.children||o.data,l=r.findIndex((function(e){return e.id===t.id}));r.splice(l,1),console.log("parent",o),e.parent.data.length&&e.parent.data.children.length||(e.parent.data.children=null,console.log(this.rowForm.ProfileColumn))},parentAppend:function(){this.rowForm.ProfileColumn.push({id:(new Date).getTime(),value:"",label:"",children:null})},preview:function(){this.dialogVisiblePreview=!this.dialogVisiblePreview},arrayEx:function(e,t){for(var o=[],r=e;r<=t;r++)o.push(r);return o},changeMemberColumn:function(){this.rowForm.ColumnType=1},valueToBind:function(e){if(this.valueBind){var t=e.name||e.label;e.value=t}},ArrayMove:function(e,t,o,r){if(o>=e.length){var l=o-e.length+1;while(l--)e.push(void 0)}return e.splice(o,0,e.splice(t,1)[0]),r.CRow=o+1,e}}},v=b,h=o("2877"),w=Object(h["a"])(v,r,l,!1,null,null,null);t["default"]=w.exports},"64fe":function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{width:"100%"}},e._l(e.list,(function(t,r){return o("el-row",{key:r,attrs:{gutter:16}},[o("el-col",[o("div",{staticClass:"el-col-item"},[e._v(e._s(t.ColumnName))]),o("formComp",{ref:"Row",refInFor:!0,attrs:{formData:t}})],1)],1)})),1)},l=[],n=o("571b"),a={components:{formComp:n["a"]},props:{data:{type:Array,default:[]}},watch:{data:{handler:function(e){this.list=e,console.log(this.list),this.$forceUpdate()},deep:!0,immediate:!0}},data:function(){return{list:[]}},computed:{getMax:function(){var e=[];this.list.map((function(t){e.push(t.CRow)}));var t=e.reduce((function(e,t){return Math.max(e,t)}));return t}},methods:{getRow:function(e){return console.log("getRow",this.list.filter((function(t){return t.CRow===e}))),this.list.filter((function(t){return t.CRow===e}))},showRow:function(){var e={};for(var t in this.$refs.Row)e["Row"+t]=this.$refs.Row[t].getValue;return Object.values(e)}},created:function(){},mounted:function(){}},i=a,s=(o("46ac"),o("2877")),u=Object(s["a"])(i,r,l,!1,null,null,null);t["a"]=u.exports},"8eb8":function(e,t,o){},a34a:function(e,t,o){e.exports=o("96cf")},c297:function(e,t,o){"use strict";var r=o("e3ff"),l=o.n(r);l.a},cc6e:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{style:{width:e.width},attrs:{id:"ckComp"}},[o("ckeditor",{attrs:{value:e.value},on:{input:e.updata}})],1)},l=[],n={name:"Ck",props:["value","width"],data:function(){return{ckContent:""}},methods:{updata:function(e){this.$emit("input",e)}}},a=n,i=(o("c297"),o("2877")),s=Object(i["a"])(a,r,l,!1,null,null,null);t["a"]=s.exports},e3ff:function(e,t,o){}}]);
//# sourceMappingURL=chunk-685f76f4.d4b60c94.js.map