(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83e9da20"],{"0524":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>'},"0a061":function(t,e,n){},"0db1":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>'},1033:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>'},1414:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>'},1799:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"pagination"}},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"pager-count":5,"current-page":t.setCurrentPage,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)},o=[],i=(n("c1df"),n("4360")),a={name:"Pagination",data:function(){return{}},props:{total:{type:Number,default:1,required:!0},keyWord:{type:String,default:"",required:!1},start:{type:String,default:"",required:!1},end:{type:String,default:"",required:!1},currentPage:{type:Number,default:1,required:!1},pageSize:{type:Number,default:10,required:!1}},computed:{setCurrentPage:{get:function(){return this.$props.currentPage},set:function(){}}},methods:{handleCurrentChange:function(t){if(i["a"].dispatch("loadingHandler",!0),this.setCurrentPage=t,this.$props.end){console.log("END");var e=this.$props.keyWord;console.log(e);var n=this.$props.start,r=this.$props.end;this.$emit("changePage",t,e,n,r),window.scrollTo(0,0)}else{var o=this.$props.keyWord;this.$emit("changePage",t,o),window.scrollTo(0,0)}}}},u=a,c=n("2877"),s=Object(c["a"])(u,r,o,!1,null,null,null);e["a"]=s.exports},1805:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>'},"18ce":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'},"18ea":function(t,e,n){},"19d2":function(t,e,n){},"1a1b":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>'},"1af3":function(t,e,n){},"1bd3":function(t,e){t.exports='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>'},"1cb8":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'},"1efe":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'},2074:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>'},2260:function(t,e,n){},2609:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>'},"26ee":function(t,e,n){"use strict";var r=n("5ea3");function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i="object"==("undefined"===typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,a=r["a"]||i||Function("return this")();e["a"]=a},"2a21":function(t,e,n){},"2b8c":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'},"2d3ad":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>\n'},"2f74":function(t,e,n){"use strict";function r(){return!1}e["a"]=r},"332d":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>'},"356b":function(t,e,n){},3879:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'},"3a7f":function(t,e,n){},"3d1d":function(t,e,n){},"43ae":function(t,e,n){},"4ca4":function(t,e){t.exports='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'},"507e":function(t,e,n){},"51a6":function(t,e,n){},"546e":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>'},"58e0":function(t,e,n){"use strict";(function(t){var r=n("26ee"),o=n("2f74");function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a="object"==("undefined"===typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,u=a&&"object"==i(t)&&t&&!t.nodeType&&t,c=u&&u.exports===a,s=c?r["a"].Buffer:void 0,l=s?s.isBuffer:void 0,f=l||o["a"];e["a"]=f}).call(this,n("dd40")(t))},"5dbf":function(t,e){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'},"5ea3":function(t,e,n){"use strict";(function(t){function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var r="object"==("undefined"===typeof t?"undefined":n(t))&&t&&t.Object===Object&&t;e["a"]=r}).call(this,n("c8ba"))},"5f69":function(t,e,n){},6134:function(t,e,n){},6378:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'},"660d":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>'},6649:function(t,e,n){},"6cdf":function(t,e,n){},7201:function(t,e,n){},"74c7":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'},7639:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>'},"77bd":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>'},"7de4":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>'},"7def":function(t,e,n){},"7eec":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>'},8030:function(t,e,n){},"807d":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>'},8708:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>'},"875d":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>'},"8b56":function(t,e,n){},"8de7":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>'},"8ef8":function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'},"92bd":function(t,e,n){},"97d4":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"headerBox"}},[n("div",{staticClass:"searchBox"},[t.showDatePicker?n("el-date-picker",{staticClass:"datePicker",attrs:{type:"daterange","range-separator":"~","start-placeholder":"開始時間","end-placeholder":"結束時間"},on:{change:t.setSearchDate},model:{value:t.searchDate,callback:function(e){t.searchDate=e},expression:"searchDate"}}):t._e(),t.hasBtn("btnSearch")&&!t.isEvent?n("el-input",{staticClass:"keyWordInput",attrs:{placeholder:"請輸入關鍵字"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setSearchHandler(e)}},model:{value:t.keyWordInput,callback:function(e){t.keyWordInput=e},expression:"keyWordInput"}}):t._e(),t.hasBtn("btnSearch")&&t.isEvent?n("el-input",{staticClass:"keyWordInput",attrs:{placeholder:"請輸入關鍵字"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setSearchHandlerDate(e)}},model:{value:t.keyWordInput,callback:function(e){t.keyWordInput=e},expression:"keyWordInput"}}):t._e(),t.hasBtn("btnSearch")&&!t.isEvent?n("el-button",{staticClass:"searchBtn",attrs:{loading:t.searchLoading,type:"primary"},on:{click:t.setSearchHandler}},[t._v("搜尋")]):t._e(),t.hasBtn("btnSearch")&&t.isEvent?n("el-button",{staticClass:"searchBtn",attrs:{loading:t.searchLoading,type:"primary"},on:{click:t.setSearchHandlerDate}},[t._v("搜尋")]):t._e(),t.hasBtn("btnAdd")?n("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:function(e){return t.setHandleAddOrEdit("add")}}},[t._v("新增")]):t._e(),t.hasBtn("btnEdit")&&t.isEvent?n("el-button",{staticClass:"changeBtn",attrs:{type:"primary"},on:{click:t.setChangeHandler}},[t._v("批次替換")]):t._e(),t.hasBtn("btnImport")?n("el-button",{staticClass:"importBtn",attrs:{type:"primary"},on:{click:t.setImportHandler}},[t._v("匯入")]):t._e(),t.hasBtn("btnExport")?n("el-button",{staticClass:"exportBtn",attrs:{type:"primary"},on:{click:t.setExportHandler}},[t._v("匯出")]):t._e()],1)])},o=[],i=n("c1df"),a=n.n(i),u={name:"HeaderBox",data:function(){return{keyWordInput:"",changeDialogVisible:!1,importDialogVisible:!1,searchDate:""}},props:{buttonList:{type:Array,required:!0,default:[]},showDatePicker:{type:Boolean,default:!1,required:!1},searchLoading:{type:Boolean,default:!1,required:!1},isEvent:{type:Boolean,default:!1,required:!1}},methods:{hasBtn:function(t){return this.buttonList.some((function(e){return e.iconCls==t}))},setHandleAddOrEdit:function(t){this.$emit("handleAddOrEdit",t)},setChangeHandler:function(){this.$emit("changeHandler")},setSearchDate:function(){this.$emit("getSearchDate",this.searchDate)},setSearchHandler:function(){var t=this,e=1,n=t.keyWordInput;t.$emit("searchHandler",{page:e,key:n})},setExportHandler:function(){var t=this,e=t.keyWordInput;if(null!==t.searchDate&&t.searchDate){var n=a()(t.searchDate[0]).format("YYYY-MM-DD"),r=a()(t.searchDate[1]).format("YYYY-MM-DD");t.$emit("exportHandler",{key:e,startDate:n,endDate:r})}else{var o="",i="";t.$emit("exportHandler",{key:e,startDate:o,endDate:i})}},setImportHandler:function(){this.$emit("importHandler",!0)},setSearchHandlerDate:function(){var t=this,e=1,n=t.keyWordInput;if(console.log(t.searchDate),null!==t.searchDate&&t.searchDate){console.log("y");var r=a()(t.searchDate[0]).format("YYYY-MM-DD"),o=a()(t.searchDate[1]).format("YYYY-MM-DD");t.$emit("searchHandlerDate",{page:e,key:n,startDate:r,endDate:o})}else{console.log("n");var i="",u="";t.$emit("searchHandlerDate",{page:e,key:n,startDate:i,endDate:u})}}}},c=u,s=n("2877"),l=Object(s["a"])(c,r,o,!1,null,null,null);e["a"]=l.exports},a34a:function(t,e,n){t.exports=n("96cf")},b0d6:function(t,e,n){},b3ce:function(t,e,n){},bcf9:function(t,e,n){},c44c:function(t,e,n){},c6eb:function(t,e,n){"use strict";(function(t){var r=n("5ea3");function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i="object"==("undefined"===typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i,c=u&&r["a"].process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(e){}}();e["a"]=s}).call(this,n("dd40")(t))},c7cb:function(t,e){t.exports='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><polyline points="8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914" transform="translate(1,0)"></polyline><line x1="0" y1="4.21581031" x2="2" y2="2.17810059" transform="translate(1, 0)"></line><line x1="0" y1="6.21581031" x2="2" y2="4.17810059" transform="translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)"></line></svg>\n'},c7ef:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>'},cf28:function(t,e,n){},d043:function(t,e,n){},d1c4:function(t,e,n){},d2df:function(t,e,n){},da88:function(t,e,n){},da97:function(t,e,n){},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},dde1:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'},dff1:function(t,e,n){"use strict";(function(t){var r=n("26ee");function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i="object"==("undefined"===typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i,c=u?r["a"].Buffer:void 0,s=c?c.allocUnsafe:void 0;function l(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}e["a"]=l}).call(this,n("dd40")(t))},e046:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>'},e281:function(t,e,n){},e348:function(t,e,n){},e472:function(t,e,n){},e800:function(t,e,n){"use strict";(function(t){var e=n("f2ea");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var o="19.1.1",i="object"===("undefined"===typeof window?"undefined":r(window))?window:t;if(i.CKEDITOR_VERSION)throw new e["b"]("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);i.CKEDITOR_VERSION=o}).call(this,n("c8ba"))},e8dd:function(t,e,n){},eca2:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"calendarEvent"}},[n("HeaderBox",{attrs:{buttonList:t.buttonList,showDatePicker:!0,isEvent:!0,searchLoading:t.searchLoading},on:{searchHandlerDate:t.searchHandlerDate,changeHandler:t.changeHandler,exportHandler:t.exportHandler,importHandler:t.importHandler,handleAddOrEdit:t.handleAddOrEdit,getSearchDate:t.getSearchDate}}),t.eventsData?n("div",{staticClass:"mainTable"},[n("div",{staticClass:"tableContainer mt-5"},[n("el-table",{staticStyle:{width:"100%",overflow:"auto"},attrs:{"header-cell-class-name":"tableHeader","empty-text":"暫無資料",data:t.eventsData,"default-sort":{prop:"date",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{width:"160",prop:"EventName",label:"活動 / 會議名稱",sortable:""}}),n("el-table-column",{attrs:{width:"130",prop:"EventTypeName",label:"行事曆類別",sortable:""}}),n("el-table-column",{attrs:{width:"200",prop:"ShowStartDate",label:"公告時間",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"showDateBox"},[n("span",{staticClass:"dateFz"},[t._v(t._s(e.row.ShowStartDate))]),n("div",{staticClass:"dateLine"}),n("span",{staticClass:"dateFz"},[t._v(t._s(e.row.ShowEndDate))])])]}}],null,!1,3855030085)}),n("el-table-column",{attrs:{width:"200",prop:"EventStartDate",label:"活動 / 會議時間",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"eventDateBox"},[n("span",{staticClass:"dateFz"},[t._v(t._s(e.row.EventStartDate))]),n("div",{staticClass:"dateLine"}),n("span",{staticClass:"dateFz"},[t._v(t._s(e.row.EventEndDate))])])]}}],null,!1,1259344650)}),n("el-table-column",{attrs:{prop:"EventAddr",label:"地點",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":500,placement:"top-start"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("span",[t._v(t._s(e.row.EventAddr))])]),n("p",{staticClass:"textOverflow"},[n("span",[t._v(t._s(e.row.EventAddr))])])])]}}],null,!1,90742400)}),n("el-table-column",{attrs:{width:"220",prop:"emit",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.hasBtn("btnEdit")?n("el-button",{staticClass:"outline",attrs:{size:"mini"},on:{click:function(n){return t.copyHandler(e.row)}}},[t._v("複製")]):t._e(),t.hasBtn("btnEdit")?n("el-button",{staticClass:"outline",attrs:{size:"mini"},on:{click:function(n){return t.handleAddOrEdit("edit",e.row)}}},[t._v("編輯")]):t._e(),t.hasBtn("btnDelete")?n("el-button",{staticClass:"outline",attrs:{type:"danger",size:"mini"},on:{click:function(n){return t.deleteHandler(e.row)}}},[t._v("刪除")]):t._e()]}}],null,!1,1212799887)})],1)],1)]):t._e(),t.totalCount?n("Pagination",{attrs:{keyWord:t.keyWordInput,start:t.startDate,end:t.endDate,total:t.totalCount,"page-size":t.pageSize,currentPage:t.currentPage},on:{changePage:t.getEvents}}):t._e(),t.unitsData?n("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.addOrEdit,visible:t.addOrEditDialog,"custom-class":"addOrEditDialog"},on:{"update:visible":function(e){t.addOrEditDialog=e}}},[n("ValidationObserver",{ref:"obs"},[n("div",{staticClass:"inputBox",staticStyle:{"margin-top":"3rem"}},[n("div",{staticClass:"inputTitle"},[t._v("活動 / 會議名稱")]),n("ValidationProvider",{attrs:{name:"請輸入活動會議名稱!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("el-input",{class:o,staticStyle:{width:"550px"},attrs:{type:"textarea",rows:2,placeholder:"請輸入活動 / 會議名稱"},model:{value:t.eventNameInput,callback:function(e){t.eventNameInput=e},expression:"eventNameInput"}}),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}],null,!1,3886912801)})],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("活動 / 會議描述")]),n("ValidationProvider",{attrs:{name:"請輸入活動會議描述!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("div",{ref:"ck",staticClass:"personalContainer mt-5 ck"},[n("ckeditor",{class:o,attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.inputDescription,callback:function(e){t.inputDescription=e},expression:"inputDescription"}})],1),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}],null,!1,4214488343)})],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("行事曆類別")]),n("ValidationProvider",{attrs:{name:"請選擇類別!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[t.eventTypeData?n("el-select",{class:o,attrs:{placeholder:"請選擇行事曆類別"},model:{value:t.eventCategorySelete,callback:function(e){t.eventCategorySelete=e},expression:"eventCategorySelete"}},t._l(t.eventTypeData,(function(t){return n("el-option",{key:t.Value,attrs:{label:t.Text,value:t.Value}})})),1):t._e(),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}],null,!1,3874567301)})],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("公告時間")]),n("ValidationProvider",{attrs:{name:"請選擇公告時間!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("el-date-picker",{class:o,attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"公告時間開始","end-placeholder":"公告時間結束",placeholder:"請選擇時間"},model:{value:t.showDate,callback:function(e){t.showDate=e},expression:"showDate"}}),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}],null,!1,3456618218)})],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("會議 / 活動時間")]),n("ValidationProvider",{attrs:{name:"請選擇活動時間!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("el-date-picker",{class:o,attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"開始時間","end-placeholder":"結束時間"},model:{value:t.eventDate,callback:function(e){t.eventDate=e},expression:"eventDate"}}),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}],null,!1,1544891061)})],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("會議 / 活動地點")]),n("ValidationProvider",{attrs:{name:"請輸入會議 / 活動地點!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("el-input",{class:o,staticStyle:{width:"600px"},attrs:{placeholder:"請輸入會議 / 活動地點"},model:{value:t.eventSiteInput,callback:function(e){t.eventSiteInput=e},expression:"eventSiteInput"}}),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}],null,!1,2944595328)})],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("連結")]),n("ValidationProvider",{attrs:{name:"請輸入會議 / 活動連結!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("el-input",{class:o,staticStyle:{width:"600px"},attrs:{placeholder:"請輸入會議 / 活動連結"},model:{value:t.eventUrlInput,callback:function(e){t.eventUrlInput=e},expression:"eventUrlInput"}}),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}],null,!1,3830732861)})],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("單位")]),n("ValidationProvider",{attrs:{name:"請選擇單位!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[t.userControlUnit?n("el-select",{class:o,attrs:{filterable:"","no-match-text":"暫無資料",placeholder:"請選擇單位"},model:{value:t.unitSelete,callback:function(e){t.unitSelete=e},expression:"unitSelete"}},t._l(t.userControlUnit,(function(t){return n("el-option",{key:t.UntId,attrs:{label:t.UntNameFull,value:t.UntId}})})),1):t._e(),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}],null,!1,3140432657)})],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("上傳文件")]),n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.$store.state.apiBase+"Img","list-type":"text",headers:t.uploadHeader,"on-success":t.successUpload}},[n("el-tooltip",{staticClass:"item",attrs:{"open-delay":500,effect:"dark",placement:"top-start"}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 檔案格式限制:doc/docx/xls/xlsx/ppt/pttx/pdf/jpg/png "),n("br"),t._v("檔案大小限制:10MB ")]),n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("選擇上傳文件")])],1)],1)],1),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputTitle"},[t._v("已上傳文件")]),0===t.uploadUrl.length?n("p",{staticClass:"noFiles"},[t._v("尚未上傳文件")]):t._e(),t.uploadUrl?n("div",t._l(t.uploadUrl,(function(e,r){return n("el-button",{key:r,staticClass:"downloadBtn",attrs:{size:"mini"}},[n("el-tooltip",{staticClass:"item",attrs:{"open-delay":500,effect:"dark",content:t.fileName(e),placement:"top-start"}},[e?n("p",{staticClass:"fileName"},[n("i",{staticClass:"fas fa-trash-alt",on:{"!click":function(e){return t.delFile(r)}}}),t._v(" "+t._s(t.fileName(e))+" ")]):t._e()])],1)})),1):t._e()]),n("div",{staticClass:"inputBox",staticStyle:{"align-items":"flex-start"}},[n("div",{staticClass:"inputTitle"},[t._v("參與人員")]),n("div",[n("el-checkbox",{staticClass:"relatedCheck",model:{value:t.isRelated,callback:function(e){t.isRelated=e},expression:"isRelated"}},[t._v("是否關聯")]),n("div",{staticClass:"selectBox"},[n("el-select",{staticClass:"unitSelect",attrs:{filterable:"","no-match-text":"暫無資料",placeholder:"請選擇最高單位"},on:{change:t.lv1Change},model:{value:t.unit1,callback:function(e){t.unit1=e},expression:"unit1"}},t._l(t.unitLv1,(function(e){return n("el-option",{key:e.UntId,attrs:{value:e.UntId,label:e.UntNameFull}},[t._v(t._s(e.UntNameFull))])})),1),t.unit1&&t.unitLv2.length>0?n("el-select",{staticClass:"unitSelect",attrs:{filterable:"","no-match-text":"暫無資料",placeholder:"請選擇次高單位"},on:{change:t.lv2Change},model:{value:t.unit2,callback:function(e){t.unit2=e},expression:"unit2"}},t._l(t.unitLv2,(function(e){return n("el-option",{key:e.UntId,attrs:{value:e.UntId,label:e.UntNameFull}},[t._v(t._s(e.UntNameFull))])})),1):t._e(),t.unit2&&t.unitLv3.length>0?n("el-select",{staticClass:"unitSelect",attrs:{filterable:"","no-match-text":"暫無資料",placeholder:"請選擇單位"},on:{change:t.lv3Change},model:{value:t.unit3,callback:function(e){t.unit3=e},expression:"unit3"}},t._l(t.unitLv3,(function(e){return n("el-option",{key:e.UntId,attrs:{value:e.UntId,label:e.UntNameFull}},[t._v(t._s(e.UntNameFull))])})),1):t._e()],1)],1)]),n("div",{staticClass:"inputBox",staticStyle:{"align-items":"flex-start"}},[n("div",{staticClass:"inputTitle"}),n("div",{staticClass:"selectBox"},[n("el-select",{attrs:{filterable:"","no-match-text":"暫無資料",loading:t.userNameLoading,"loading-text":"Loading...","no-data-text":"暫無資料",placeholder:"請選擇名稱"},on:{change:t.setUser},model:{value:t.userNameSelect,callback:function(e){t.userNameSelect=e},expression:"userNameSelect"}},t._l(t.usersData,(function(t){return n("el-option",{key:t.Account,attrs:{value:t.Account,label:t.Name}})})),1),n("el-select",{attrs:{placeholder:"職稱"},model:{value:t.memberTitle,callback:function(e){t.memberTitle=e},expression:"memberTitle"}},[n("el-option",{attrs:{value:t.userData.Title}},[t._v(t._s(t.userData.Title))])],1),n("el-select",{attrs:{placeholder:"Role"},model:{value:t.rloeSelect,callback:function(e){t.rloeSelect=e},expression:"rloeSelect"}},t._l(t.rolesData,(function(t){return n("el-option",{key:t,attrs:{value:t}})})),1)],1),n("el-button",{attrs:{loading:t.addLoading},on:{click:t.addToTable}},[t._v("加入")])],1),n("div",{staticClass:"inputBox",staticStyle:{"align-items":"flex-start"}},[n("div",{staticClass:"inputTitle"}),t.usersTableData?n("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-class-name":"tableHeader","empty-text":"暫無資料",data:t.usersTableData}},[n("el-table-column",{attrs:{prop:"userName",label:"姓名",width:"180"}}),n("el-table-column",{attrs:{prop:"usertitle",label:"職稱",width:"180"}}),n("el-table-column",{attrs:{prop:"unit",label:"單位"}}),n("el-table-column",{attrs:{prop:"",label:"刪除"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},nativeOn:{click:function(n){return n.preventDefault(),t.deleteRow(e.$index,t.usersTableData)}}},[t._v("刪除")])]}}],null,!1,2083692978)})],1):t._e()],1)]),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.addOrEditDialog=!1}}},[t._v("取 消")]),"新增"===t.addOrEdit?n("el-button",{attrs:{type:"primary"},on:{click:t.addHandler}},[t._v("新 增")]):t._e(),"編輯"===t.addOrEdit?n("el-button",{attrs:{type:"primary"},on:{click:t.editHandler}},[t._v("編 輯")]):t._e(),"複製"===t.addOrEdit?n("el-button",{attrs:{type:"primary"},on:{click:t.addHandler}},[t._v("複 製")]):t._e()],1)],1):t._e(),n("el-dialog",{attrs:{"close-on-click-modal":!1,title:"替換人員","custom-class":"changeDialog",visible:t.changeDialog},on:{"update:visible":function(e){t.changeDialog=e}}},[n("ValidationObserver",{ref:"obs2"},[n("div",{staticClass:"changeInputBox"},[n("p",{staticClass:"changeInputTitle"},[t._v("原始人員")]),n("ValidationProvider",{attrs:{name:"請原始人員!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("el-select",{class:o,attrs:{filterable:"","no-match-text":"無匹配資料","no-data-text":"無資料",placeholder:"請選擇原始人員"},model:{value:t.changeMember,callback:function(e){t.changeMember=e},expression:"changeMember"}},t._l(t.changeMemberData,(function(t,e){return n("el-option",{key:""+(t+e),attrs:{value:t}})})),1),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}])})],1),n("div",{staticClass:"changeInputBox"},[n("p",{staticClass:"changeInputTitle"},[t._v("替換人員")]),n("ValidationProvider",{attrs:{name:"請輸入欲替換人員!!",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("el-autocomplete",{staticClass:"inline-input",class:o,attrs:{"fetch-suggestions":t.querySearch,placeholder:"請輸入欲替換人員","trigger-on-focus":!1},model:{value:t.newChangeMember,callback:function(e){t.newChangeMember=e},expression:"newChangeMember"}}),r[0]?n("span",{staticClass:"validateSpan"},[t._v(t._s(r[0]))]):t._e()]}}])})],1)]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.changeDialog=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.confirmChange}},[t._v("提 交")])],1)],1),n("el-dialog",{attrs:{"close-on-click-modal":!1,title:"匯入文件",visible:t.importDialogVisible,width:"30%"},on:{"update:visible":function(e){t.importDialogVisible=e}}},[n("el-upload",{ref:"import",staticClass:"upload-demo",attrs:{multiple:!1,action:"https://scan.1966.org.tw/api/CalendarEvent/ImportExcel/xlsx","list-type":"text",headers:t.uploadHeader,"before-upload":t.beforeAvatarUpload,"on-success":t.successImport,"on-error":t.errorImport,"auto-upload":!1,limit:1,"on-exceed":t.importExceed}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("選擇上傳文件")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("限制上傳 xlsx 或 xls 格式文件")])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.importDialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.confireImport}},[t._v("匯 入")])],1)],1)],1)},o=[],i=n("a34a"),a=n.n(i),u=n("97d4"),c=n("1799"),s=n("c1df"),l=n.n(s),f=n("26ee"),h=f["a"].Symbol,p=h,y=Object.prototype,d=y.hasOwnProperty,v=y.toString,m=p?p.toStringTag:void 0;function b(t){var e=d.call(t,m),n=t[m];try{t[m]=void 0;var r=!0}catch(i){}var o=v.call(t);return r&&(e?t[m]=n:delete t[m]),o}var g=b,w=Object.prototype,_=w.toString;function k(t){return _.call(t)}var S=k,O="[object Null]",P="[object Undefined]",A=p?p.toStringTag:void 0;function R(t){return null==t?void 0===t?P:O:A&&A in Object(t)?g(t):S(t)}var j=R;function E(t,e){return function(n){return t(e(n))}}var x=E,T=x(Object.getPrototypeOf,Object),C=T;function I(t){return I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function D(t){return null!=t&&"object"==I(t)}var M=D,N="[object Object]",V=Function.prototype,B=Object.prototype,F=V.toString,L=B.hasOwnProperty,z=F.call(Object);function U(t){if(!M(t)||j(t)!=N)return!1;var e=C(t);if(null===e)return!0;var n=L.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&F.call(n)==z}var H=U;function $(){this.__data__=[],this.size=0}var W=$;function q(t,e){return t===e||t!==t&&e!==e}var Y=q;function G(t,e){var n=t.length;while(n--)if(Y(t[n][0],e))return n;return-1}var K=G,J=Array.prototype,X=J.splice;function Z(t){var e=this.__data__,n=K(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():X.call(e,n,1),--this.size,!0}var Q=Z;function tt(t){var e=this.__data__,n=K(e,t);return n<0?void 0:e[n][1]}var et=tt;function nt(t){return K(this.__data__,t)>-1}var rt=nt;function ot(t,e){var n=this.__data__,r=K(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var it=ot;function at(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}at.prototype.clear=W,at.prototype["delete"]=Q,at.prototype.get=et,at.prototype.has=rt,at.prototype.set=it;var ut=at;function ct(){this.__data__=new ut,this.size=0}var st=ct;function lt(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}var ft=lt;function ht(t){return this.__data__.get(t)}var pt=ht;function yt(t){return this.__data__.has(t)}var dt=yt;function vt(t){return vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function mt(t){var e=vt(t);return null!=t&&("object"==e||"function"==e)}var bt=mt,gt="[object AsyncFunction]",wt="[object Function]",_t="[object GeneratorFunction]",kt="[object Proxy]";function St(t){if(!bt(t))return!1;var e=j(t);return e==wt||e==_t||e==gt||e==kt}var Ot=St,Pt=f["a"]["__core-js_shared__"],At=Pt,Rt=function(){var t=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jt(t){return!!Rt&&Rt in t}var Et=jt,xt=Function.prototype,Tt=xt.toString;function Ct(t){if(null!=t){try{return Tt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var It=Ct,Dt=/[\\^$.*+?()[\]{}|]/g,Mt=/^\[object .+?Constructor\]$/,Nt=Function.prototype,Vt=Object.prototype,Bt=Nt.toString,Ft=Vt.hasOwnProperty,Lt=RegExp("^"+Bt.call(Ft).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zt(t){if(!bt(t)||Et(t))return!1;var e=Ot(t)?Lt:Mt;return e.test(It(t))}var Ut=zt;function Ht(t,e){return null==t?void 0:t[e]}var $t=Ht;function Wt(t,e){var n=$t(t,e);return Ut(n)?n:void 0}var qt=Wt,Yt=qt(f["a"],"Map"),Gt=Yt,Kt=qt(Object,"create"),Jt=Kt;function Xt(){this.__data__=Jt?Jt(null):{},this.size=0}var Zt=Xt;function Qt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var te=Qt,ee="__lodash_hash_undefined__",ne=Object.prototype,re=ne.hasOwnProperty;function oe(t){var e=this.__data__;if(Jt){var n=e[t];return n===ee?void 0:n}return re.call(e,t)?e[t]:void 0}var ie=oe,ae=Object.prototype,ue=ae.hasOwnProperty;function ce(t){var e=this.__data__;return Jt?void 0!==e[t]:ue.call(e,t)}var se=ce,le="__lodash_hash_undefined__";function fe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Jt&&void 0===e?le:e,this}var he=fe;function pe(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}pe.prototype.clear=Zt,pe.prototype["delete"]=te,pe.prototype.get=ie,pe.prototype.has=se,pe.prototype.set=he;var ye=pe;function de(){this.size=0,this.__data__={hash:new ye,map:new(Gt||ut),string:new ye}}var ve=de;function me(t){return me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function be(t){var e=me(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var ge=be;function we(t,e){var n=t.__data__;return ge(e)?n["string"==typeof e?"string":"hash"]:n.map}var _e=we;function ke(t){var e=_e(this,t)["delete"](t);return this.size-=e?1:0,e}var Se=ke;function Oe(t){return _e(this,t).get(t)}var Pe=Oe;function Ae(t){return _e(this,t).has(t)}var Re=Ae;function je(t,e){var n=_e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ee=je;function xe(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}xe.prototype.clear=ve,xe.prototype["delete"]=Se,xe.prototype.get=Pe,xe.prototype.has=Re,xe.prototype.set=Ee;var Te=xe,Ce=200;function Ie(t,e){var n=this.__data__;if(n instanceof ut){var r=n.__data__;if(!Gt||r.length<Ce-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Te(r)}return n.set(t,e),this.size=n.size,this}var De=Ie;function Me(t){var e=this.__data__=new ut(t);this.size=e.size}Me.prototype.clear=st,Me.prototype["delete"]=ft,Me.prototype.get=pt,Me.prototype.has=dt,Me.prototype.set=De;var Ne=Me;function Ve(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}var Be=Ve,Fe=function(){try{var t=qt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Le=Fe;function ze(t,e,n){"__proto__"==e&&Le?Le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ue=ze,He=Object.prototype,$e=He.hasOwnProperty;function We(t,e,n){var r=t[e];$e.call(t,e)&&Y(r,n)&&(void 0!==n||e in t)||Ue(t,e,n)}var qe=We;function Ye(t,e,n,r){var o=!n;n||(n={});var i=-1,a=e.length;while(++i<a){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Ue(n,u,c):qe(n,u,c)}return n}var Ge=Ye;function Ke(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}var Je=Ke,Xe="[object Arguments]";function Ze(t){return M(t)&&j(t)==Xe}var Qe=Ze,tn=Object.prototype,en=tn.hasOwnProperty,nn=tn.propertyIsEnumerable,rn=Qe(function(){return arguments}())?Qe:function(t){return M(t)&&en.call(t,"callee")&&!nn.call(t,"callee")},on=rn,an=Array.isArray,un=an,cn=n("58e0");function sn(t){return sn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}var ln=9007199254740991,fn=/^(?:0|[1-9]\d*)$/;function hn(t,e){var n=sn(t);return e=null==e?ln:e,!!e&&("number"==n||"symbol"!=n&&fn.test(t))&&t>-1&&t%1==0&&t<e}var pn=hn,yn=9007199254740991;function dn(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=yn}var vn=dn,mn="[object Arguments]",bn="[object Array]",gn="[object Boolean]",wn="[object Date]",_n="[object Error]",kn="[object Function]",Sn="[object Map]",On="[object Number]",Pn="[object Object]",An="[object RegExp]",Rn="[object Set]",jn="[object String]",En="[object WeakMap]",xn="[object ArrayBuffer]",Tn="[object DataView]",Cn="[object Float32Array]",In="[object Float64Array]",Dn="[object Int8Array]",Mn="[object Int16Array]",Nn="[object Int32Array]",Vn="[object Uint8Array]",Bn="[object Uint8ClampedArray]",Fn="[object Uint16Array]",Ln="[object Uint32Array]",zn={};function Un(t){return M(t)&&vn(t.length)&&!!zn[j(t)]}zn[Cn]=zn[In]=zn[Dn]=zn[Mn]=zn[Nn]=zn[Vn]=zn[Bn]=zn[Fn]=zn[Ln]=!0,zn[mn]=zn[bn]=zn[xn]=zn[gn]=zn[Tn]=zn[wn]=zn[_n]=zn[kn]=zn[Sn]=zn[On]=zn[Pn]=zn[An]=zn[Rn]=zn[jn]=zn[En]=!1;var Hn=Un;function $n(t){return function(e){return t(e)}}var Wn=$n,qn=n("c6eb"),Yn=qn["a"]&&qn["a"].isTypedArray,Gn=Yn?Wn(Yn):Hn,Kn=Gn,Jn=Object.prototype,Xn=Jn.hasOwnProperty;function Zn(t,e){var n=un(t),r=!n&&on(t),o=!n&&!r&&Object(cn["a"])(t),i=!n&&!r&&!o&&Kn(t),a=n||r||o||i,u=a?Je(t.length,String):[],c=u.length;for(var s in t)!e&&!Xn.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||pn(s,c))||u.push(s);return u}var Qn=Zn,tr=Object.prototype;function er(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||tr;return t===n}var nr=er,rr=x(Object.keys,Object),or=rr,ir=Object.prototype,ar=ir.hasOwnProperty;function ur(t){if(!nr(t))return or(t);var e=[];for(var n in Object(t))ar.call(t,n)&&"constructor"!=n&&e.push(n);return e}var cr=ur;function sr(t){return null!=t&&vn(t.length)&&!Ot(t)}var lr=sr;function fr(t){return lr(t)?Qn(t):cr(t)}var hr=fr;function pr(t,e){return t&&Ge(e,hr(e),t)}var yr=pr;function dr(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var vr=dr,mr=Object.prototype,br=mr.hasOwnProperty;function gr(t){if(!bt(t))return vr(t);var e=nr(t),n=[];for(var r in t)("constructor"!=r||!e&&br.call(t,r))&&n.push(r);return n}var wr=gr;function _r(t){return lr(t)?Qn(t,!0):wr(t)}var kr=_r;function Sr(t,e){return t&&Ge(e,kr(e),t)}var Or=Sr,Pr=n("dff1");function Ar(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}var Rr=Ar;function jr(t,e){var n=-1,r=null==t?0:t.length,o=0,i=[];while(++n<r){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}var Er=jr;function xr(){return[]}var Tr=xr,Cr=Object.prototype,Ir=Cr.propertyIsEnumerable,Dr=Object.getOwnPropertySymbols,Mr=Dr?function(t){return null==t?[]:(t=Object(t),Er(Dr(t),(function(e){return Ir.call(t,e)})))}:Tr,Nr=Mr;function Vr(t,e){return Ge(t,Nr(t),e)}var Br=Vr;function Fr(t,e){var n=-1,r=e.length,o=t.length;while(++n<r)t[o+n]=e[n];return t}var Lr=Fr,zr=Object.getOwnPropertySymbols,Ur=zr?function(t){var e=[];while(t)Lr(e,Nr(t)),t=C(t);return e}:Tr,Hr=Ur;function $r(t,e){return Ge(t,Hr(t),e)}var Wr=$r;function qr(t,e,n){var r=e(t);return un(t)?r:Lr(r,n(t))}var Yr=qr;function Gr(t){return Yr(t,hr,Nr)}var Kr=Gr;function Jr(t){return Yr(t,kr,Hr)}var Xr=Jr,Zr=qt(f["a"],"DataView"),Qr=Zr,to=qt(f["a"],"Promise"),eo=to,no=qt(f["a"],"Set"),ro=no,oo=qt(f["a"],"WeakMap"),io=oo,ao="[object Map]",uo="[object Object]",co="[object Promise]",so="[object Set]",lo="[object WeakMap]",fo="[object DataView]",ho=It(Qr),po=It(Gt),yo=It(eo),vo=It(ro),mo=It(io),bo=j;(Qr&&bo(new Qr(new ArrayBuffer(1)))!=fo||Gt&&bo(new Gt)!=ao||eo&&bo(eo.resolve())!=co||ro&&bo(new ro)!=so||io&&bo(new io)!=lo)&&(bo=function(t){var e=j(t),n=e==uo?t.constructor:void 0,r=n?It(n):"";if(r)switch(r){case ho:return fo;case po:return ao;case yo:return co;case vo:return so;case mo:return lo}return e});var go=bo,wo=Object.prototype,_o=wo.hasOwnProperty;function ko(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&_o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var So=ko,Oo=f["a"].Uint8Array,Po=Oo;function Ao(t){var e=new t.constructor(t.byteLength);return new Po(e).set(new Po(t)),e}var Ro=Ao;function jo(t,e){var n=e?Ro(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Eo=jo,xo=/\w*$/;function To(t){var e=new t.constructor(t.source,xo.exec(t));return e.lastIndex=t.lastIndex,e}var Co=To,Io=p?p.prototype:void 0,Do=Io?Io.valueOf:void 0;function Mo(t){return Do?Object(Do.call(t)):{}}var No=Mo;function Vo(t,e){var n=e?Ro(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Bo=Vo,Fo="[object Boolean]",Lo="[object Date]",zo="[object Map]",Uo="[object Number]",Ho="[object RegExp]",$o="[object Set]",Wo="[object String]",qo="[object Symbol]",Yo="[object ArrayBuffer]",Go="[object DataView]",Ko="[object Float32Array]",Jo="[object Float64Array]",Xo="[object Int8Array]",Zo="[object Int16Array]",Qo="[object Int32Array]",ti="[object Uint8Array]",ei="[object Uint8ClampedArray]",ni="[object Uint16Array]",ri="[object Uint32Array]";function oi(t,e,n){var r=t.constructor;switch(e){case Yo:return Ro(t);case Fo:case Lo:return new r(+t);case Go:return Eo(t,n);case Ko:case Jo:case Xo:case Zo:case Qo:case ti:case ei:case ni:case ri:return Bo(t,n);case zo:return new r;case Uo:case Wo:return new r(t);case Ho:return Co(t);case $o:return new r;case qo:return No(t)}}var ii=oi,ai=Object.create,ui=function(){function t(){}return function(e){if(!bt(e))return{};if(ai)return ai(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ci=ui;function si(t){return"function"!=typeof t.constructor||nr(t)?{}:ci(C(t))}var li=si,fi="[object Map]";function hi(t){return M(t)&&go(t)==fi}var pi=hi,yi=qn["a"]&&qn["a"].isMap,di=yi?Wn(yi):pi,vi=di,mi="[object Set]";function bi(t){return M(t)&&go(t)==mi}var gi=bi,wi=qn["a"]&&qn["a"].isSet,_i=wi?Wn(wi):gi,ki=_i,Si=1,Oi=2,Pi=4,Ai="[object Arguments]",Ri="[object Array]",ji="[object Boolean]",Ei="[object Date]",xi="[object Error]",Ti="[object Function]",Ci="[object GeneratorFunction]",Ii="[object Map]",Di="[object Number]",Mi="[object Object]",Ni="[object RegExp]",Vi="[object Set]",Bi="[object String]",Fi="[object Symbol]",Li="[object WeakMap]",zi="[object ArrayBuffer]",Ui="[object DataView]",Hi="[object Float32Array]",$i="[object Float64Array]",Wi="[object Int8Array]",qi="[object Int16Array]",Yi="[object Int32Array]",Gi="[object Uint8Array]",Ki="[object Uint8ClampedArray]",Ji="[object Uint16Array]",Xi="[object Uint32Array]",Zi={};function Qi(t,e,n,r,o,i){var a,u=e&Si,c=e&Oi,s=e&Pi;if(n&&(a=o?n(t,r,o,i):n(t)),void 0!==a)return a;if(!bt(t))return t;var l=un(t);if(l){if(a=So(t),!u)return Rr(t,a)}else{var f=go(t),h=f==Ti||f==Ci;if(Object(cn["a"])(t))return Object(Pr["a"])(t,u);if(f==Mi||f==Ai||h&&!o){if(a=c||h?{}:li(t),!u)return c?Wr(t,Or(a,t)):Br(t,yr(a,t))}else{if(!Zi[f])return o?t:{};a=ii(t,f,u)}}i||(i=new Ne);var p=i.get(t);if(p)return p;i.set(t,a),ki(t)?t.forEach((function(r){a.add(Qi(r,e,n,r,t,i))})):vi(t)&&t.forEach((function(r,o){a.set(o,Qi(r,e,n,o,t,i))}));var y=s?c?Xr:Kr:c?keysIn:hr,d=l?void 0:y(t);return Be(d||t,(function(r,o){d&&(o=r,r=t[o]),qe(a,o,Qi(r,e,n,o,t,i))})),a}Zi[Ai]=Zi[Ri]=Zi[zi]=Zi[Ui]=Zi[ji]=Zi[Ei]=Zi[Hi]=Zi[$i]=Zi[Wi]=Zi[qi]=Zi[Yi]=Zi[Ii]=Zi[Di]=Zi[Mi]=Zi[Ni]=Zi[Vi]=Zi[Bi]=Zi[Fi]=Zi[Gi]=Zi[Ki]=Zi[Ji]=Zi[Xi]=!0,Zi[xi]=Zi[Ti]=Zi[Li]=!1;var ta=Qi,ea=1,na=4;function ra(t,e){return e="function"==typeof e?e:void 0,ta(t,ea|na,e)}var oa=ra;function ia(t){return M(t)&&1===t.nodeType&&!H(t)}var aa=ia;function ua(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ca(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ca(t,e){if(t){if("string"===typeof t)return sa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sa(t,e):void 0}}function sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function la(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ha(t,e,n){return e&&fa(t.prototype,e),n&&fa(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var pa=function(){function t(e,n){la(this,t),this._config={},n&&this.define(ya(n)),e&&this._setObjectToTarget(this._config,e)}return ha(t,[{key:"set",value:function(t,e){this._setToTarget(this._config,t,e)}},{key:"define",value:function(t,e){var n=!0;this._setToTarget(this._config,t,e,n)}},{key:"get",value:function(t){return this._getFromSource(this._config,t)}},{key:"names",value:a.a.mark((function t(){var e,n,r;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=0,n=Object.keys(this._config);case 1:if(!(e<n.length)){t.next=8;break}return r=n[e],t.next=5,r;case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"_setToTarget",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(H(e))this._setObjectToTarget(t,e,r);else{var o=e.split(".");e=o.pop();var i,a=ua(o);try{for(a.s();!(i=a.n()).done;){var u=i.value;H(t[u])||(t[u]={}),t=t[u]}}catch(c){a.e(c)}finally{a.f()}if(H(n))return H(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,r);r&&"undefined"!=typeof t[e]||(t[e]=n)}}},{key:"_getFromSource",value:function(t,e){var n=e.split(".");e=n.pop();var r,o=ua(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(!H(t[i])){t=null;break}t=t[i]}}catch(a){o.e(a)}finally{o.f()}return t?ya(t[e]):void 0}},{key:"_setObjectToTarget",value:function(t,e,n){var r=this;Object.keys(e).forEach((function(o){r._setToTarget(t,o,e[o],n)}))}}]),t}();function ya(t){return oa(t,da)}function da(t){return aa(t)?t:void 0}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function va(){return function t(){t.called=!0}}var ma=va;function ba(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ga=function t(e,n){ba(this,t),this.source=e,this.name=n,this.path=[],this.stop=ma(),this.off=ma()},wa=new Array(256).fill().map((function(t,e){return("0"+e.toString(16)).slice(-2)}));
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _a(){var t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+wa[t>>0&255]+wa[t>>8&255]+wa[t>>16&255]+wa[t>>24&255]+wa[e>>0&255]+wa[e>>8&255]+wa[e>>16&255]+wa[e>>24&255]+wa[n>>0&255]+wa[n>>8&255]+wa[n>>16&255]+wa[n>>24&255]+wa[r>>0&255]+wa[r>>8&255]+wa[r>>16&255]+wa[r>>24&255]}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ka={get:function(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},Sa=ka,Oa=(n("e800"),n("f2ea"));function Pa(t){return ja(t)||Ra(t)||Da(t)||Aa()}function Aa(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ra(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function ja(t){if(Array.isArray(t))return Ma(t)}function Ea(t,e){return Ca(t)||Ta(t,e)||Da(t,e)||xa()}function xa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ta(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function Ca(t){if(Array.isArray(t))return t}function Ia(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Da(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Da(t,e){if(t){if("string"===typeof t)return Ma(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ma(t,e):void 0}}function Ma(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Na=Symbol("listeningTo"),Va=Symbol("emitterId"),Ba={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,t,e,n)},once:function(t,e,n){var r=!1,o=function(t){if(!r){r=!0,t.off();for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.call.apply(e,[this,t].concat(o))}};this.listenTo(this,t,o,n)},off:function(t,e){this.stopListening(this,t,e)},listenTo:function(t,e,n){var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[Na]||(this[Na]={});var a=this[Na];Ua(t)||za(t);var u=Ua(t);(r=a[u])||(r=a[u]={emitter:t,callbacks:{}}),(o=r.callbacks[e])||(o=r.callbacks[e]=[]),o.push(n),Wa(t,e);var c,s=qa(t,e),l=Sa.get(i.priority),f={callback:n,priority:l},h=Ia(s);try{for(h.s();!(c=h.n()).done;){for(var p=c.value,y=!1,d=0;d<p.length;d++)if(p[d].priority<l){p.splice(d,0,f),y=!0;break}y||p.push(f)}}catch(v){h.e(v)}finally{h.f()}},stopListening:function(t,e,n){var r=this[Na],o=t&&Ua(t),i=r&&o&&r[o],a=i&&e&&i.callbacks[e];if(!(!r||t&&!i||e&&!a))if(n)Ka(t,e,n);else if(a){while(n=a.pop())Ka(t,e,n);delete i.callbacks[e]}else if(i){for(e in i.callbacks)this.stopListening(t,e);delete r[o]}else{for(o in r)this.stopListening(r[o].emitter);delete this[Na]}},fire:function(t){try{var e=t instanceof ga?t:new ga(this,t),n=e.name,r=Ya(this,n);e.path.push(this);for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r){var u=[e].concat(i);r=Array.from(r);for(var c=0;c<r.length;c++)if(r[c].callback.apply(this,u),e.off.called&&(delete e.off.called,Ka(this,n,r[c].callback)),e.stop.called)break}if(this._delegations){var s=this._delegations.get(n),l=this._delegations.get("*");s&&Ga(s,e,i),l&&Ga(l,e,i)}return e.return}catch(f){Oa["b"].rethrowUnexpectedError(f,this)}},delegate:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return{to:function(e,r){t._delegations||(t._delegations=new Map),n.forEach((function(n){var o=t._delegations.get(n);o?o.set(e,r):t._delegations.set(n,new Map([[e,r]]))}))}}},stopDelegating:function(t,e){if(this._delegations)if(t)if(e){var n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}},Fa=Ba;function La(t,e){return t[Na]&&t[Na][e]?t[Na][e].emitter:null}function za(t,e){t[Va]||(t[Va]=e||_a())}function Ua(t){return t[Va]}function Ha(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function $a(){return{callbacks:[],childEvents:[]}}function Wa(t,e){var n=Ha(t);if(!n[e]){var r=e,o=null,i=[];while(""!==r){if(n[r])break;n[r]=$a(),i.push(n[r]),o&&n[r].childEvents.push(o),o=r,r=r.substr(0,r.lastIndexOf(":"))}if(""!==r){var a,u=Ia(i);try{for(u.s();!(a=u.n()).done;){var c=a.value;c.callbacks=n[r].callbacks.slice()}}catch(s){u.e(s)}finally{u.f()}n[r].childEvents.push(o)}}}function qa(t,e){var n=Ha(t)[e];if(!n)return[];for(var r=[n.callbacks],o=0;o<n.childEvents.length;o++){var i=qa(t,n.childEvents[o]);r=r.concat(i)}return r}function Ya(t,e){var n;return t._events&&(n=t._events[e])&&n.callbacks.length?n.callbacks:e.indexOf(":")>-1?Ya(t,e.substr(0,e.lastIndexOf(":"))):null}function Ga(t,e,n){var r,o=Ia(t);try{for(o.s();!(r=o.n()).done;){var i=Ea(r.value,2),a=i[0],u=i[1];u?"function"==typeof u&&(u=u(e.name)):u=e.name;var c=new ga(e.source,u);c.path=Pa(e.path),a.fire.apply(a,[c].concat(Pa(n)))}}catch(s){o.e(s)}finally{o.f()}}function Ka(t,e,n){var r,o=qa(t,e),i=Ia(o);try{for(i.s();!(r=i.n()).done;)for(var a=r.value,u=0;u<a.length;u++)a[u].callback==n&&(a.splice(u,1),u--)}catch(c){i.e(c)}finally{i.f()}}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ja(t){return!(!t||!t[Symbol.iterator])}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xa(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.forEach((function(e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach((function(n){if(!(n in t.prototype)){var r=Object.getOwnPropertyDescriptor(e,n);r.enumerable=!1,Object.defineProperty(t.prototype,n,r)}}))}))}function Za(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Qa(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Qa(t,e){if(t){if("string"===typeof t)return tu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(t,e):void 0}}function tu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ru(t,e,n){return e&&nu(t.prototype,e),n&&nu(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ou=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eu(this,t);var r=Ja(e);if(r||(n=e),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r){var o,i=Za(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}}catch(u){i.e(u)}finally{i.f()}}}return ru(t,[{key:"add",value:function(t,e){var n=this._getItemIdBeforeAdding(t);if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new Oa["b"]("collection-add-item-invalid-index",this);return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this}},{key:"get",value:function(t){var e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new Oa["b"]("collection-get-invalid-arg: Index or id must be given.",this);e=this._items[t]}return e||null}},{key:"has",value:function(t){if("string"==typeof t)return this._itemMap.has(t);var e=this._idProperty,n=t[e];return this._itemMap.has(n)}},{key:"getIndex",value:function(t){var e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}},{key:"remove",value:function(t){var e,n,r,o=!1,i=this._idProperty;if("string"==typeof t?(n=t,r=this._itemMap.get(n),o=!r,r&&(e=this._items.indexOf(r))):"number"==typeof t?(e=t,r=this._items[e],o=!r,r&&(n=r[i])):(r=t,n=r[i],e=this._items.indexOf(r),o=-1==e||!this._itemMap.get(n)),o)throw new Oa["b"]("collection-remove-404: Item not found.",this);this._items.splice(e,1),this._itemMap.delete(n);var a=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(a),this.fire("remove",r,e),r}},{key:"map",value:function(t,e){return this._items.map(t,e)}},{key:"find",value:function(t,e){return this._items.find(t,e)}},{key:"filter",value:function(t,e){return this._items.filter(t,e)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);while(this.length)this.remove(0)}},{key:"bindTo",value:function(t){var e=this;if(this._bindToCollection)throw new Oa["b"]("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=t,{as:function(t){e._setUpBindToBinding((function(e){return new t(e)}))},using:function(t){"function"==typeof t?e._setUpBindToBinding((function(e){return t(e)})):e._setUpBindToBinding((function(e){return e[t]}))}}}},{key:"_setUpBindToBinding",value:function(t){var e,n=this,r=this._bindToCollection,o=function(e,o,i){var a=r._bindToCollection==n,u=r._bindToInternalToExternalMap.get(o);if(a&&u)n._bindToExternalToInternalMap.set(o,u),n._bindToInternalToExternalMap.set(u,o);else{var c=t(o);if(!c)return void n._skippedIndexesFromExternal.push(i);var s,l=i,f=Za(n._skippedIndexesFromExternal);try{for(f.s();!(s=f.n()).done;){var h=s.value;i>h&&l--}}catch(m){f.e(m)}finally{f.f()}var p,y=Za(r._skippedIndexesFromExternal);try{for(y.s();!(p=y.n()).done;){var d=p.value;l>=d&&l++}}catch(m){y.e(m)}finally{y.f()}n._bindToExternalToInternalMap.set(o,c),n._bindToInternalToExternalMap.set(c,o),n.add(c,l);for(var v=0;v<r._skippedIndexesFromExternal.length;v++)l<=r._skippedIndexesFromExternal[v]&&r._skippedIndexesFromExternal[v]++}},i=Za(r);try{for(i.s();!(e=i.n()).done;){var a=e.value;o(null,a,r.getIndex(a))}}catch(u){i.e(u)}finally{i.f()}this.listenTo(r,"add",o),this.listenTo(r,"remove",(function(t,e,r){var o=n._bindToExternalToInternalMap.get(e);o&&n.remove(o),n._skippedIndexesFromExternal=n._skippedIndexesFromExternal.reduce((function(t,e){return r<e&&t.push(e-1),r>e&&t.push(e),t}),[])}))}},{key:"_getItemIdBeforeAdding",value:function(t){var e,n=this._idProperty;if(n in t){if(e=t[n],"string"!=typeof e)throw new Oa["b"]("collection-add-invalid-id",this);if(this.get(e))throw new Oa["b"]("collection-add-item-already-exists",this)}else t[n]=e=_a();return e}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}]),t}();function iu(t,e){return cu(t)||uu(t,e)||lu(t,e)||au()}function au(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uu(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function cu(t){if(Array.isArray(t))return t}function su(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=lu(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function lu(t,e){if(t){if("string"===typeof t)return fu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(t,e):void 0}}function fu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yu(t,e,n){return e&&pu(t.prototype,e),n&&pu(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(ou,Fa);var du=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];hu(this,t),this._context=e,this._plugins=new Map,this._availablePlugins=new Map;var o,i=su(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.pluginName&&this._availablePlugins.set(a.pluginName,a)}}catch(h){i.e(h)}finally{i.f()}this._contextPlugins=new Map;var u,c=su(r);try{for(c.s();!(u=c.n()).done;){var s=iu(u.value,2),l=s[0],f=s[1];this._contextPlugins.set(l,f),this._contextPlugins.set(f,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}}catch(h){c.e(h)}finally{c.f()}}return yu(t,[{key:Symbol.iterator,value:a.a.mark((function t(){var e,n,r;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=su(this._plugins),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=10;break}if(r=n.value,"function"!=typeof r[0]){t.next=8;break}return t.next=8,r;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"get",value:function(t){var e=this._plugins.get(t);if(!e){var n="plugincollection-plugin-not-loaded: The requested plugin is not loaded.",r=t;throw"function"==typeof t&&(r=t.pluginName||t.name),new Oa["b"](n,this._context,{plugin:r})}return e}},{key:"has",value:function(t){return this._plugins.has(t)}},{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,r=this._context,o=new Set,i=[],a=d(t),u=d(e),c=y(t);if(c){var s="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(Oa["a"])(s),{plugins:c}),Promise.reject(new Oa["b"](s,r,{plugins:c}))}return Promise.all(a.map(l)).then((function(){return f(i,"init")})).then((function(){return f(i,"afterInit")})).then((function(){return i}));function l(t){if(!u.includes(t)&&!n._plugins.has(t)&&!o.has(t))return h(t).catch((function(e){throw console.error(Object(Oa["a"])("plugincollection-load: It was not possible to load the plugin."),{plugin:t}),e}))}function f(t,e){return t.reduce((function(t,r){return r[e]?n._contextPlugins.has(r)?t:t.then(r[e].bind(r)):t}),Promise.resolve())}function h(t){return new Promise((function(a){o.add(t),t.requires&&t.requires.forEach((function(n){var o=p(n);if(t.isContextPlugin&&!o.isContextPlugin)throw new Oa["b"]("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:o.name,requiredBy:t.name});if(e.includes(o))throw new Oa["b"]("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",r,{plugin:o.name,requiredBy:t.name});l(o)}));var u=n._contextPlugins.get(t)||new t(r);n._add(t,u),i.push(u),a()}))}function p(t){return"function"==typeof t?t:n._availablePlugins.get(t)}function y(t){var e,n=[],r=su(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;p(o)||n.push(o)}}catch(i){r.e(i)}finally{r.f()}return n.length?n:null}function d(t){return t.map((function(t){return p(t)})).filter((function(t){return!!t}))}}},{key:"destroy",value:function(){var t,e=[],n=su(this);try{for(n.s();!(t=n.n()).done;){var r=iu(t.value,2),o=r[1];"function"!=typeof o.destroy||this._contextPlugins.has(o)||e.push(o.destroy())}}catch(i){n.e(i)}finally{n.f()}return Promise.all(e)}},{key:"_add",value:function(t,e){this._plugins.set(t,e);var n=t.pluginName;if(n){if(this._plugins.has(n))throw new Oa["b"]("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}]),t}();function vu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("number"!==typeof n)throw new Oa["b"]("translation-service-quantity-not-a-number: Expecting `quantity` to be a number.",null,{quantity:n});var r=bu();1===r&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var o=e.id||e.string;if(0===r||!mu(t,o))return 1!==n?e.plural:e.string;var i=window.CKEDITOR_TRANSLATIONS[t].dictionary,a=window.CKEDITOR_TRANSLATIONS[t].getPluralForm||function(t){return 1===t?0:1};if("string"===typeof i[o])return i[o];var u=Number(a(n));return i[o][u]}function mu(t,e){return!!window.CKEDITOR_TRANSLATIONS[t]&&!!window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}function bu(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}function gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _u(t,e,n){return e&&wu(t.prototype,e),n&&wu(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(du,Fa),
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var ku=["ar","fa","he","ku","ug"],Su=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gu(this,t),this.uiLanguage=n.uiLanguage||"en",this.contentLanguage=n.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Pu(this.uiLanguage),this.contentLanguageDirection=Pu(this.contentLanguage),this.t=function(t,n){return e._t(t,n)}}return _u(t,[{key:"_t",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(e)||(e=[e]),"string"===typeof t&&(t={string:t});var n=!!t.plural,r=n?e[0]:1,o=vu(this.uiLanguage,t,r);return Ou(o,e)}},{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}}]),t}();function Ou(t,e){return t.replace(/%(\d+)/g,(function(t,n){return n<e.length?e[n]:t}))}function Pu(t){return ku.includes(t)?"rtl":"ltr"}function Au(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ru(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ru(t,e){if(t){if("string"===typeof t)return ju(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ju(t,e):void 0}}function ju(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tu(t,e,n){return e&&xu(t.prototype,e),n&&xu(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Cu=function(){function t(e){Eu(this,t),this.config=new pa(e,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new du(this,n);var r=this.config.get("language")||{};this.locale=new Su({uiLanguage:"string"===typeof r?r:r.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new ou,this._contextOwner=null}return Tu(t,[{key:"initPlugins",value:function(){var t,e=this.config.get("plugins")||[],n=Au(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("function"!=typeof r)throw new Oa["b"]("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:r});if(!0!==r.isContextPlugin)throw new Oa["b"]("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:r})}}catch(o){n.e(o)}finally{n.f()}return this.plugins.init(e)}},{key:"destroy",value:function(){var t=this;return Promise.all(Array.from(this.editors,(function(t){return t.destroy()}))).then((function(){return t.plugins.destroy()}))}},{key:"_addEditor",value:function(t,e){if(this._contextOwner)throw new Oa["b"]("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(t),e&&(this._contextOwner=t)}},{key:"_removeEditor",value:function(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var t,e={},n=Au(this.config.names());try{for(n.s();!(t=n.n()).done;){var r=t.value;["plugins","removePlugins","extraPlugins"].includes(r)||(e[r]=this.config.get(r))}}catch(o){n.e(o)}finally{n.f()}return e}}],[{key:"create",value:function(t){var e=this;return new Promise((function(n){var r=new e(t);n(r.initPlugins().then((function(){return r})))}))}}]),t}();
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Iu(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}var Du=4;function Mu(t){return ta(t,Du)}var Nu=Mu;function Vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fu(t,e,n){return e&&Bu(t.prototype,e),n&&Bu(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Lu=function(){function t(e){Vu(this,t),this.document=e,this.parent=null}return Fu(t,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){var t=[],e=this;while(e.parent)t.unshift(e.index),e=e.parent;return t}},{key:"getAncestors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;while(n)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"getCommonAncestor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(e),r=t.getAncestors(e),o=0;while(n[o]==r[o]&&n[o])o++;return 0===o?null:n[o-1]}},{key:"isBefore",value:function(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),r=Iu(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}},{key:"isAfter",value:function(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}},{key:"toJSON",value:function(){var t=Nu(this);return delete t.parent,t}},{key:"is",value:function(t){return"node"===t||"view:node"===t}},{key:"index",get:function(){var t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new Oa["b"]("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}},{key:"nextSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null}},{key:"previousSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null}},{key:"root",get:function(){var t=this;while(t.parent)t=t.parent;return t}}]),t}();function zu(t){return zu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(t)}function Uu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $u(t,e,n){return e&&Hu(t.prototype,e),n&&Hu(t,n),t}function Wu(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qu(t,e)}function qu(t,e){return qu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qu(t,e)}function Yu(t){var e=Ju();return function(){var n,r=Xu(t);if(e){var o=Xu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gu(this,n)}}function Gu(t,e){return!e||"object"!==zu(e)&&"function"!==typeof e?Ku(t):e}function Ku(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ju(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Xu(t){return Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xu(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(Lu,Fa);var Zu=function(t){Wu(n,t);var e=Yu(n);function n(t,r){var o;return Uu(this,n),o=e.call(this,t),o._textData=r,o}return $u(n,[{key:"is",value:function(t){return"text"===t||"view:text"===t||"node"===t||"view:node"===t}},{key:"isSimilar",value:function(t){return t instanceof n&&(this===t||this.data===t.data)}},{key:"_clone",value:function(){return new n(this.document,this.data)}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(t){this._fireChange("text",this),this._textData=t}}]),n}(Lu);function Qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ec(t,e,n){return e&&tc(t.prototype,e),n&&tc(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var nc=function(){function t(e,n,r){if(Qu(this,t),this.textNode=e,n<0||n>e.data.length)throw new Oa["b"]("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(r<0||n+r>e.data.length)throw new Oa["b"]("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}return ec(t,[{key:"is",value:function(t){return"textProxy"===t||"view:textProxy"===t}},{key:"getAncestors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this.textNode:this.parent;while(null!==n)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),t}();
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rc(t){var e=new Map;for(var n in t)e.set(n,t[n]);return e}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function oc(t){return Ja(t)?new Map(t):rc(t)}function ic(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ac(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ac(t,e){if(t){if("string"===typeof t)return uc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uc(t,e):void 0}}function uc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lc(t,e,n){return e&&sc(t.prototype,e),n&&sc(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var fc=function(){function t(){cc(this,t),this._patterns=[],this.add.apply(this,arguments)}return lc(t,[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];("string"==typeof i||i instanceof RegExp)&&(i={name:i}),i.classes&&("string"==typeof i.classes||i.classes instanceof RegExp)&&(i.classes=[i.classes]),this._patterns.push(i)}}},{key:"match",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i,a=o[r],u=ic(this._patterns);try{for(u.s();!(i=u.n()).done;){var c=i.value,s=hc(a,c);if(s)return{element:a,pattern:c,match:s}}}catch(l){u.e(l)}finally{u.f()}}return null}},{key:"matchAll",value:function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a,u=i[o],c=ic(this._patterns);try{for(c.s();!(a=c.n()).done;){var s=a.value,l=hc(u,s);l&&t.push({element:u,pattern:s,match:l})}}catch(f){c.e(f)}finally{c.f()}}return t.length>0?t:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}]),t}();function hc(t,e){if("function"==typeof e)return e(t);var n={};return e.name&&(n.name=pc(e.name,t.name),!n.name)||e.attributes&&(n.attributes=yc(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=dc(e.classes,t),!n.classes))&&(!(e.styles&&(n.styles=vc(e.styles,t),!n.styles))&&n)}function pc(t,e){return t instanceof RegExp?t.test(e):t===e}function yc(t,e){var n=[];for(var r in t){var o=t[r];if(!e.hasAttribute(r))return null;var i=e.getAttribute(r);if(!0===o)n.push(r);else if(o instanceof RegExp){if(!o.test(i))return null;n.push(r)}else{if(i!==o)return null;n.push(r)}}return n}function dc(t,e){var n,r=[],o=ic(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i instanceof RegExp){var a,u=e.getClassNames(),c=ic(u);try{for(c.s();!(a=c.n()).done;){var s=a.value;i.test(s)&&r.push(s)}}catch(l){c.e(l)}finally{c.f()}if(0===r.length)return null}else{if(!e.hasClass(i))return null;r.push(i)}}}catch(l){o.e(l)}finally{o.f()}return r}function vc(t,e){var n=[];for(var r in t){var o=t[r];if(!e.hasStyle(r))return null;var i=e.getStyle(r);if(o instanceof RegExp){if(!o.test(i))return null;n.push(r)}else{if(i!==o)return null;n.push(r)}}return n}function mc(t){return mc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(t)}var bc="[object Symbol]";function gc(t){return"symbol"==mc(t)||M(t)&&j(t)==bc}var wc=gc;function _c(t){return _c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(t)}var kc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sc=/^\w*$/;function Oc(t,e){if(un(t))return!1;var n=_c(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!wc(t))||(Sc.test(t)||!kc.test(t)||null!=e&&t in Object(e))}var Pc=Oc,Ac="Expected a function";function Rc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ac);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Rc.Cache||Te),n}Rc.Cache=Te;var jc=Rc,Ec=500;function xc(t){var e=jc(t,(function(t){return n.size===Ec&&n.clear(),t})),n=e.cache;return e}var Tc=xc,Cc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ic=/\\(\\)?/g,Dc=Tc((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Cc,(function(t,n,r,o){e.push(r?o.replace(Ic,"$1"):n||t)})),e})),Mc=Dc;function Nc(t,e){var n=-1,r=null==t?0:t.length,o=Array(r);while(++n<r)o[n]=e(t[n],n,t);return o}var Vc=Nc,Bc=1/0,Fc=p?p.prototype:void 0,Lc=Fc?Fc.toString:void 0;function zc(t){if("string"==typeof t)return t;if(un(t))return Vc(t,zc)+"";if(wc(t))return Lc?Lc.call(t):"";var e=t+"";return"0"==e&&1/t==-Bc?"-0":e}var Uc=zc;function Hc(t){return null==t?"":Uc(t)}var $c=Hc;function Wc(t,e){return un(t)?t:Pc(t,e)?[t]:Mc($c(t))}var qc=Wc;function Yc(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Gc=Yc,Kc=1/0;function Jc(t){if("string"==typeof t||wc(t))return t;var e=t+"";return"0"==e&&1/t==-Kc?"-0":e}var Xc=Jc;function Zc(t,e){e=qc(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[Xc(e[n++])];return n&&n==r?t:void 0}var Qc=Zc;function ts(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;var i=Array(o);while(++r<o)i[r]=t[r+e];return i}var es=ts;function ns(t,e){return e.length<2?t:Qc(t,es(e,0,-1))}var rs=ns;function os(t,e){return e=qc(e,t),t=rs(t,e),null==t||delete t[Xc(Gc(e))]}var is=os;function as(t,e){return null==t||is(t,e)}var us=as;function cs(t,e,n){var r=null==t?void 0:Qc(t,e);return void 0===r?n:r}var ss=cs;function ls(t,e,n){(void 0!==n&&!Y(t[e],n)||void 0===n&&!(e in t))&&Ue(t,e,n)}var fs=ls;function hs(t){return function(e,n,r){var o=-1,i=Object(e),a=r(e),u=a.length;while(u--){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}var ps=hs,ys=ps(),ds=ys;function vs(t){return M(t)&&lr(t)}var ms=vs;function bs(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var gs=bs;function ws(t){return Ge(t,kr(t))}var _s=ws;function ks(t,e,n,r,o,i,a){var u=gs(t,n),c=gs(e,n),s=a.get(c);if(s)fs(t,n,s);else{var l=i?i(u,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var h=un(c),p=!h&&Object(cn["a"])(c),y=!h&&!p&&Kn(c);l=c,h||p||y?un(u)?l=u:ms(u)?l=Rr(u):p?(f=!1,l=Object(Pr["a"])(c,!0)):y?(f=!1,l=Bo(c,!0)):l=[]:H(c)||on(c)?(l=u,on(u)?l=_s(u):bt(u)&&!Ot(u)||(l=li(c))):f=!1}f&&(a.set(c,l),o(l,c,r,i,a),a["delete"](c)),fs(t,n,l)}}var Ss=ks;function Os(t,e,n,r,o){t!==e&&ds(e,(function(i,a){if(o||(o=new Ne),bt(i))Ss(t,e,a,n,Os,r,o);else{var u=r?r(gs(t,a),i,a+"",t,e,o):void 0;void 0===u&&(u=i),fs(t,a,u)}}),kr)}var Ps=Os;function As(t){return t}var Rs=As;function js(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Es=js,xs=Math.max;function Ts(t,e,n){return e=xs(void 0===e?t.length-1:e,0),function(){var r=arguments,o=-1,i=xs(r.length-e,0),a=Array(i);while(++o<i)a[o]=r[e+o];o=-1;var u=Array(e+1);while(++o<e)u[o]=r[o];return u[e]=n(a),Es(t,this,u)}}var Cs=Ts;function Is(t){return function(){return t}}var Ds=Is,Ms=Le?function(t,e){return Le(t,"toString",{configurable:!0,enumerable:!1,value:Ds(e),writable:!0})}:Rs,Ns=Ms,Vs=800,Bs=16,Fs=Date.now;function Ls(t){var e=0,n=0;return function(){var r=Fs(),o=Bs-(r-n);if(n=r,o>0){if(++e>=Vs)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zs=Ls,Us=zs(Ns),Hs=Us;function $s(t,e){return Hs(Cs(t,e,Rs),t+"")}var Ws=$s;function qs(t){return qs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(t)}function Ys(t,e,n){if(!bt(n))return!1;var r=qs(e);return!!("number"==r?lr(n)&&pn(e,n.length):"string"==r&&e in n)&&Y(n[e],t)}var Gs=Ys;function Ks(t){return Ws((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Gs(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);while(++r<o){var u=n[r];u&&t(e,u,r,i)}return e}))}var Js=Ks,Xs=Js((function(t,e,n){Ps(t,e,n)})),Zs=Xs;function Qs(t,e,n,r){if(!bt(t))return t;e=qc(e,t);var o=-1,i=e.length,a=i-1,u=t;while(null!=u&&++o<i){var c=Xc(e[o]),s=n;if(o!=a){var l=u[c];s=r?r(l,c,u):void 0,void 0===s&&(s=bt(l)?l:pn(e[o+1])?[]:{})}qe(u,c,s),u=u[c]}return t}var tl=Qs;function el(t,e,n){return null==t?t:tl(t,e,n)}var nl=el;function rl(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ll(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ol(t){return ul(t)||al(t)||ll(t)||il()}function il(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function al(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function ul(t){if(Array.isArray(t))return fl(t)}function cl(t,e){return pl(t)||hl(t,e)||ll(t,e)||sl()}function sl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ll(t,e){if(t){if("string"===typeof t)return fl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fl(t,e):void 0}}function fl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hl(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function pl(t){if(Array.isArray(t))return t}function yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vl(t,e,n){return e&&dl(t.prototype,e),n&&dl(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ml=function(){function t(e){yl(this,t),this._styles={},this._styleProcessor=e}return vl(t,[{key:"setTo",value:function(t){this.clear();for(var e=Array.from(gl(t).entries()),n=0,r=e;n<r.length;n++){var o=cl(r[n],2),i=o[0],a=o[1];this._styleProcessor.toNormalizedForm(i,a,this._styles)}}},{key:"has",value:function(t){if(this.isEmpty)return!1;var e=this._styleProcessor.getReducedForm(t,this._styles),n=e.find((function(e){var n=cl(e,1),r=n[0];return r===t}));return Array.isArray(n)}},{key:"set",value:function(t,e){if(bt(t))for(var n=0,r=Object.entries(t);n<r.length;n++){var o=cl(r[n],2),i=o[0],a=o[1];this._styleProcessor.toNormalizedForm(i,a,this._styles)}else this._styleProcessor.toNormalizedForm(t,e,this._styles)}},{key:"remove",value:function(t){var e=wl(t);us(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}},{key:"getNormalized",value:function(t){return this._styleProcessor.getNormalized(t,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(t){return t.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(t){if(!this.isEmpty){if(this._styles[t]&&!bt(this._styles[t]))return this._styles[t];var e=this._styleProcessor.getReducedForm(t,this._styles),n=e.find((function(e){var n=cl(e,1),r=n[0];return r===t}));return Array.isArray(n)?n[1]:void 0}}},{key:"getStyleNames",value:function(){if(this.isEmpty)return[];var t=this._getStylesEntries();return t.map((function(t){var e=cl(t,1),n=e[0];return n}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var t=[],e=Object.keys(this._styles),n=0,r=e;n<r.length;n++){var o=r[n];t.push.apply(t,ol(this._styleProcessor.getReducedForm(o,this._styles)))}return t}},{key:"_cleanEmptyObjectsOnPath",value:function(t){var e=t.split("."),n=e.length>1;if(n){var r=e.splice(0,e.length-1).join("."),o=ss(this._styles,r);if(o){var i=!Array.from(Object.keys(o)).length;i&&this.remove(r)}}}},{key:"isEmpty",get:function(){var t=Object.entries(this._styles),e=Array.from(t);return!e.length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}}]),t}(),bl=function(){function t(){yl(this,t),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return vl(t,[{key:"toNormalizedForm",value:function(t,e,n){if(bt(e))_l(n,wl(t),e);else if(this._normalizers.has(t)){var r=this._normalizers.get(t),o=r(e),i=o.path,a=o.value;_l(n,i,a)}else _l(n,t,e)}},{key:"getNormalized",value:function(t,e){if(!t)return Zs({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){var n=this._extractors.get(t);if("string"===typeof n)return ss(e,n);var r=n(t,e);if(r)return r}return ss(e,wl(t))}},{key:"getReducedForm",value:function(t,e){var n=this.getNormalized(t,e);if(void 0===n)return[];if(this._reducers.has(t)){var r=this._reducers.get(t);return r(n)}return[[t,n]]}},{key:"getRelatedStyles",value:function(t){return this._consumables.get(t)||[]}},{key:"setNormalizer",value:function(t,e){this._normalizers.set(t,e)}},{key:"setExtractor",value:function(t,e){this._extractors.set(t,e)}},{key:"setReducer",value:function(t,e){this._reducers.set(t,e)}},{key:"setStyleRelation",value:function(t,e){this._mapStyleNames(t,e);var n,r=rl(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._mapStyleNames(o,[t])}}catch(i){r.e(i)}finally{r.f()}}},{key:"_mapStyleNames",value:function(t,e){var n;this._consumables.has(t)||this._consumables.set(t,[]),(n=this._consumables.get(t)).push.apply(n,ol(e))}}]),t}();function gl(t){var e=null,n=0,r=0,o=null,i=new Map;if(""===t)return i;";"!=t.charAt(t.length-1)&&(t+=";");for(var a=0;a<t.length;a++){var u=t.charAt(a);if(null===e)switch(u){case":":o||(o=t.substr(n,a-n),r=a+1);break;case'"':case"'":e=u;break;case";":var c=t.substr(r,a-r);o&&i.set(o.trim(),c.trim()),o=null,n=a+1;break}else u===e&&(e=null)}return i}function wl(t){return t.replace("-",".")}function _l(t,e,n){var r=n;bt(n)&&(r=Zs({},ss(t,e),n)),nl(t,e,r)}function kl(t){return kl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(t)}function Sl(t,e,n){return Sl=Hl()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(t,r),i=new o;return n&&Fl(i,n.prototype),i},Sl.apply(null,arguments)}function Ol(t,e){return Rl(t)||Al(t,e)||Tl(t,e)||Pl()}function Pl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Al(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function Rl(t){if(Array.isArray(t))return t}function jl(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Tl(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function El(t){return Il(t)||Cl(t)||Tl(t)||xl()}function xl(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tl(t,e){if(t){if("string"===typeof t)return Dl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dl(t,e):void 0}}function Cl(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Il(t){if(Array.isArray(t))return Dl(t)}function Dl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ml(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vl(t,e,n){return e&&Nl(t.prototype,e),n&&Nl(t,n),t}function Bl(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fl(t,e)}function Fl(t,e){return Fl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fl(t,e)}function Ll(t){var e=Hl();return function(){var n,r=$l(t);if(e){var o=$l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zl(this,n)}}function zl(t,e){return!e||"object"!==kl(e)&&"function"!==typeof e?Ul(t):e}function Ul(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function $l(t){return $l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$l(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Wl=function(t){Bl(n,t);var e=Ll(n);function n(t,r,o,i){var a;if(Ml(this,n),a=e.call(this,t),a.name=r,a._attrs=ql(o),a._children=[],i&&a._insertChild(0,i),a._classes=new Set,a._attrs.has("class")){var u=a._attrs.get("class");Yl(a._classes,u),a._attrs.delete("class")}return a._styles=new ml(a.document.stylesProcessor),a._attrs.has("style")&&(a._styles.setTo(a._attrs.get("style")),a._attrs.delete("style")),a._customProperties=new Map,a}return Vl(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("element"===t||"view:element"===t):t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this._classes.size>0)){t.next=3;break}return t.next=3,"class";case 3:if(this._styles.isEmpty){t.next=6;break}return t.next=6,"style";case 6:return t.delegateYield(this._attrs.keys(),"t0",7);case 7:case"end":return t.stop()}}),t,this)}))},{key:"getAttributes",value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(this._attrs.entries(),"t0",1);case 1:if(!(this._classes.size>0)){t.next=4;break}return t.next=4,["class",this.getAttribute("class")];case 4:if(this._styles.isEmpty){t.next=7;break}return t.next=7,["style",this.getAttribute("style")];case 7:case"end":return t.stop()}}),t,this)}))},{key:"getAttribute",value:function(t){if("class"==t)return this._classes.size>0?El(this._classes).join(" "):void 0;if("style"==t){var e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(t)}},{key:"hasAttribute",value:function(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}},{key:"isSimilar",value:function(t){if(!(t instanceof n))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;var e,r=jl(this._attrs);try{for(r.s();!(e=r.n()).done;){var o=Ol(e.value,2),i=o[0],a=o[1];if(!t._attrs.has(i)||t._attrs.get(i)!==a)return!1}}catch(p){r.e(p)}finally{r.f()}var u,c=jl(this._classes);try{for(c.s();!(u=c.n()).done;){var s=u.value;if(!t._classes.has(s))return!1}}catch(p){c.e(p)}finally{c.f()}var l,f=jl(this._styles.getStyleNames());try{for(f.s();!(l=f.n()).done;){var h=l.value;if(!t._styles.has(h)||t._styles.getAsString(h)!==this._styles.getAsString(h))return!1}}catch(p){f.e(p)}finally{f.f()}return!0}},{key:"hasClass",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];if(!this._classes.has(i))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(t){return this._styles.getAsString(t)}},{key:"getNormalizedStyle",value:function(t){return this._styles.getNormalized(t)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];if(!this._styles.has(i))return!1}return!0}},{key:"findAncestor",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Sl(fc,e),o=this.parent;while(o){if(r.match(o))return o;o=o.parent}return null}},{key:"getCustomProperty",value:function(t){return this._customProperties.get(t)}},{key:"getCustomProperties",value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"getIdentity",value:function(){var t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map((function(t){return"".concat(t[0],'="').concat(t[1],'"')})).sort().join(" ");return this.name+(""==t?"":' class="'.concat(t,'"'))+(e?' style="'.concat(e,'"'):"")+(""==n?"":" ".concat(n))}},{key:"_clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];if(t){var n,r=jl(this.getChildren());try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push(o._clone(t))}}catch(a){r.e(a)}finally{r.f()}}var i=new this.constructor(this.document,this.name,this._attrs,e);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){this._fireChange("children",this);var n,r=0,o=Gl(this.document,e),i=jl(o);try{for(i.s();!(n=i.n()).done;){var a=n.value;null!==a.parent&&a._remove(),a.parent=this,a.document=this.document,this._children.splice(t,0,a),t++,r++}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"_removeChildren",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}},{key:"_setAttribute",value:function(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?Yl(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}},{key:"_removeAttribute",value:function(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}},{key:"_addClass",value:function(t){var e=this;this._fireChange("attributes",this),t=Array.isArray(t)?t:[t],t.forEach((function(t){return e._classes.add(t)}))}},{key:"_removeClass",value:function(t){var e=this;this._fireChange("attributes",this),t=Array.isArray(t)?t:[t],t.forEach((function(t){return e._classes.delete(t)}))}},{key:"_setStyle",value:function(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}},{key:"_removeStyle",value:function(t){var e=this;this._fireChange("attributes",this),t=Array.isArray(t)?t:[t],t.forEach((function(t){return e._styles.remove(t)}))}},{key:"_setCustomProperty",value:function(t,e){this._customProperties.set(t,e)}},{key:"_removeCustomProperty",value:function(t){return this._customProperties.delete(t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}}]),n}(Lu);function ql(t){t=oc(t);var e,n=jl(t);try{for(n.s();!(e=n.n()).done;){var r=Ol(e.value,2),o=r[0],i=r[1];null===i?t.delete(o):"string"!=typeof i&&t.set(o,String(i))}}catch(a){n.e(a)}finally{n.f()}return t}function Yl(t,e){var n=e.split(/\s+/);t.clear(),n.forEach((function(e){return t.add(e)}))}function Gl(t,e){return"string"==typeof e?[new Zu(t,e)]:(Ja(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Zu(t,e):e instanceof nc?new Zu(t,e.data):e})))}function Kl(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Zl(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Jl(t){return tf(t)||Ql(t)||Zl(t)||Xl()}function Xl(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zl(t,e){if(t){if("string"===typeof t)return ef(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ef(t,e):void 0}}function Ql(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function tf(t){if(Array.isArray(t))return ef(t)}function ef(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nf(t){return nf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(t)}function rf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function af(t,e,n){return e&&of(t.prototype,e),n&&of(t,n),t}function uf(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cf(t,e)}function cf(t,e){return cf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cf(t,e)}function sf(t){var e=hf();return function(){var n,r=pf(t);if(e){var o=pf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lf(this,n)}}function lf(t,e){return!e||"object"!==nf(e)&&"function"!==typeof e?ff(t):e}function ff(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hf(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pf(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var yf=function(t){uf(n,t);var e=sf(n);function n(t,r,o,i){var a;return rf(this,n),a=e.call(this,t,r,o,i),a.getFillerOffset=df,a}return af(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}}]),n}(Wl);function df(){var t=Jl(this.getChildren()),e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;var n,r=Kl(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!o.is("uiElement"))return null}}catch(i){r.e(i)}finally{r.f()}return this.childCount}var vf=Js((function(t,e){Ge(e,kr(e),t)})),mf=vf;function bf(t){return bf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(t)}function gf(t){return Sf(t)||kf(t)||_f(t)||wf()}function wf(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _f(t,e){if(t){if("string"===typeof t)return Of(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Of(t,e):void 0}}function kf(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Sf(t){if(Array.isArray(t))return Of(t)}function Of(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Pf=Symbol("observableProperties"),Af=Symbol("boundObservables"),Rf=Symbol("boundProperties"),jf={set:function(t,e){var n=this;if(bt(t))Object.keys(t).forEach((function(e){n.set(e,t[e])}),this);else{xf(this);var r=this[Pf];if(t in this&&!r.has(t))throw new Oa["b"]("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:function(){return r.get(t)},set:function(e){var n=r.get(t),o=this.fire("set:"+t,t,e,n);void 0===o&&(o=e),n===o&&r.has(t)||(r.set(t,o),this.fire("change:"+t,t,o,n))}}),this[t]=e}},bind:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length||!Df(n))throw new Oa["b"]("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(n).size!==n.length)throw new Oa["b"]("observable-bind-duplicate-properties: Properties must be unique.",this);xf(this);var o=this[Rf];n.forEach((function(e){if(o.has(e))throw new Oa["b"]("observable-bind-rebind: Cannot bind the same property more than once.",t)}));var i=new Map;return n.forEach((function(t){var e={property:t,to:[]};o.set(t,e),i.set(t,e)})),{to:Tf,toMany:Cf,_observable:this,_bindProperties:n,_to:[],_bindings:i}},unbind:function(){var t=this;if(this[Pf]){for(var e=this[Rf],n=this[Af],r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(o.length){if(!Df(o))throw new Oa["b"]("observable-unbind-wrong-properties: Properties must be strings.",this);o.forEach((function(r){var o,i,a,u,c=e.get(r);c&&(c.to.forEach((function(e){o=e[0],i=e[1],a=n.get(o),u=a[i],u.delete(c),u.size||delete a[i],Object.keys(a).length||(n.delete(o),t.stopListening(o,"change"))})),e.delete(r))}))}else n.forEach((function(e,n){t.stopListening(n,"change")})),n.clear(),e.clear()}},decorate:function(t){var e=this,n=this[t];if(!n)throw new Oa["b"]("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:t});this.on(t,(function(t,r){t.return=n.apply(e,r)})),this[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.fire(t,n)}}};mf(jf,Fa);var Ef=jf;function xf(t){t[Pf]||(Object.defineProperty(t,Pf,{value:new Map}),Object.defineProperty(t,Af,{value:new Map}),Object.defineProperty(t,Rf,{value:new Map}))}function Tf(){var t=this,e=Mf.apply(void 0,arguments),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new Oa["b"]("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(r>1&&e.callback)throw new Oa["b"]("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);e.to.forEach((function(e){if(e.properties.length&&e.properties.length!==r)throw new Oa["b"]("observable-bind-to-properties-length: The number of properties must match.",t);e.properties.length||(e.properties=t._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),Ff(this._observable,this._to),Vf(this),this._bindProperties.forEach((function(e){Bf(t._observable,e)}))}function Cf(t,e,n){if(this._bindings.size>1)throw new Oa["b"]("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to.apply(this,gf(If(t,e)).concat([n]))}function If(t,e){var n=t.map((function(t){return[t,e]}));return Array.prototype.concat.apply([],n)}function Df(t){return t.every((function(t){return"string"==typeof t}))}function Mf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw new Oa["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);var r,o={to:[]};return"function"==typeof e[e.length-1]&&(o.callback=e.pop()),e.forEach((function(t){if("string"==typeof t)r.properties.push(t);else{if("object"!=bf(t))throw new Oa["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);r={observable:t,properties:[]},o.to.push(r)}})),o}function Nf(t,e,n,r){var o=t[Af],i=o.get(n),a=i||{};a[r]||(a[r]=new Set),a[r].add(e),i||o.set(n,a)}function Vf(t){var e;t._bindings.forEach((function(n,r){t._to.forEach((function(o){e=o.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([o.observable,e]),Nf(t._observable,n,o.observable,e)}))}))}function Bf(t,e){var n,r=t[Rf],o=r.get(e);o.callback?n=o.callback.apply(t,o.to.map((function(t){return t[0][t[1]]}))):(n=o.to[0],n=n[0][n[1]]),t.hasOwnProperty(e)?t[e]=n:t.set(e,n)}function Ff(t,e){e.forEach((function(e){var n,r=t[Af];r.get(e.observable)||t.listenTo(e.observable,"change",(function(o,i){n=r.get(e.observable)[i],n&&n.forEach((function(e){Bf(t,e.property)}))}))}))}function Lf(t){return Lf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(t)}function zf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hf(t,e,n){return e&&Uf(t.prototype,e),n&&Uf(t,n),t}function $f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wf(t,e)}function Wf(t,e){return Wf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wf(t,e)}function qf(t){var e=Kf();return function(){var n,r=Jf(t);if(e){var o=Jf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yf(this,n)}}function Yf(t,e){return!e||"object"!==Lf(e)&&"function"!==typeof e?Gf(t):e}function Gf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kf(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jf(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Xf=function(t){$f(n,t);var e=qf(n);function n(t,r,o,i){var a;return zf(this,n),a=e.call(this,t,r,o,i),a.set("isReadOnly",!1),a.set("isFocused",!1),a.bind("isReadOnly").to(t),a.bind("isFocused").to(t,"isFocused",(function(e){return e&&t.selection.editableElement==Gf(a)})),a.listenTo(t.selection,"change",(function(){a.isFocused=t.isFocused&&t.selection.editableElement==Gf(a)})),a}return Hf(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"destroy",value:function(){this.stopListening()}}]),n}(yf);function Zf(t){return Zf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(t)}function Qf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eh(t,e,n){return e&&th(t.prototype,e),n&&th(t,n),t}function nh(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rh(t,e)}function rh(t,e){return rh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rh(t,e)}function oh(t){var e=uh();return function(){var n,r=ch(t);if(e){var o=ch(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ih(this,n)}}function ih(t,e){return!e||"object"!==Zf(e)&&"function"!==typeof e?ah(t):e}function ah(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uh(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ch(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(Xf,Ef);var sh=Symbol("rootName"),lh=function(t){nh(n,t);var e=oh(n);function n(t,r){var o;return Qf(this,n),o=e.call(this,t,r),o.rootName="main",o}return eh(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"rootName",get:function(){return this.getCustomProperty(sh)},set:function(t){this._setCustomProperty(sh,t)}},{key:"_name",set:function(t){this.name=t}}]),n}(Xf);function fh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ph(t,e,n){return e&&hh(t.prototype,e),n&&hh(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var yh=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fh(this,t),!e.boundaries&&!e.startPosition)throw new Oa["b"]("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new Oa["b"]("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this.position=bh._createAt(e.startPosition):this.position=bh._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return ph(t,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(t){var e,n,r;do{r=this.position;var o=this.next();e=o.done,n=o.value}while(!e&&t(n));e||(this.position=r)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var t,e=this.position.clone(),n=this.position,r=e.parent;if(null===r.parent&&e.offset===r.childCount)return{done:!0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};if(r instanceof Zu){if(e.isAtEnd)return this.position=bh._createAfter(r),this._next();t=r.data[e.offset]}else t=r.getChild(e.offset);if(t instanceof Wl)return this.shallow?e.offset++:e=new bh(t,0),this.position=e,this._formatReturnValue("elementStart",t,n,e,1);if(t instanceof Zu){if(this.singleCharacters)return e=new bh(t,0),this.position=e,this._next();var o,i=t.data.length;return t==this._boundaryEndParent?(i=this.boundaries.end.offset,o=new nc(t,0,i),e=bh._createAfter(o)):(o=new nc(t,0,t.data.length),e.offset++),this.position=e,this._formatReturnValue("text",o,n,e,i)}if("string"==typeof t){var a;if(this.singleCharacters)a=1;else{var u=r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length;a=u-e.offset}var c=new nc(r,e.offset,a);return e.offset+=a,this.position=e,this._formatReturnValue("text",c,n,e,a)}return e=bh._createAfter(r),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,n,e)}},{key:"_previous",value:function(){var t,e=this.position.clone(),n=this.position,r=e.parent;if(null===r.parent&&0===e.offset)return{done:!0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};if(r instanceof Zu){if(e.isAtStart)return this.position=bh._createBefore(r),this._previous();t=r.data[e.offset-1]}else t=r.getChild(e.offset-1);if(t instanceof Wl)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",t,n,e,1)):(e=new bh(t,t.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",t,n,e));if(t instanceof Zu){if(this.singleCharacters)return e=new bh(t,t.data.length),this.position=e,this._previous();var o,i=t.data.length;if(t==this._boundaryStartParent){var a=this.boundaries.start.offset;o=new nc(t,a,t.data.length-a),i=o.data.length,e=bh._createBefore(o)}else o=new nc(t,0,t.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",o,n,e,i)}if("string"==typeof t){var u;if(this.singleCharacters)u=1;else{var c=r===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-c}e.offset-=u;var s=new nc(r,e.offset,u);return this.position=e,this._formatReturnValue("text",s,n,e,u)}return e=bh._createBefore(r),this.position=e,this._formatReturnValue("elementStart",r,n,e,1)}},{key:"_formatReturnValue",value:function(t,e,n,r,o){return e instanceof nc&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=bh._createAfter(e.textNode):(r=bh._createAfter(e.textNode),this.position=r)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=bh._createBefore(e.textNode):(r=bh._createBefore(e.textNode),this.position=r))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:o}}}}]),t}();function dh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mh(t,e,n){return e&&vh(t.prototype,e),n&&vh(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var bh=function(){function t(e,n){dh(this,t),this.parent=e,this.offset=n}return mh(t,[{key:"getShiftedBy",value:function(e){var n=t._createAt(this),r=n.offset+e;return n.offset=r<0?0:r,n}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var n=new yh(e);return n.skip(t),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(t){var e=this.getAncestors(),n=t.getAncestors(),r=0;while(e[r]==n[r]&&e[r])r++;return 0===r?null:e[r-1]}},{key:"is",value:function(t){return"position"===t||"view:position"===t}},{key:"isEqual",value:function(t){return this.parent==t.parent&&this.offset==t.offset}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"compareWith",value:function(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";var e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);var r=Iu(e,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return e[r]<n[r]?"before":"after"}}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.startPosition=this,new yh(t)}},{key:"clone",value:function(){return new t(this.parent,this.offset)}},{key:"nodeAfter",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){var t=this.parent;while(!(t instanceof Xf)){if(!t.parent)return null;t=t.parent}return t}}],[{key:"_createAt",value:function(e,n){if(e instanceof t)return new this(e.parent,e.offset);var r=e;if("end"==n)n=r.is("text")?r.data.length:r.childCount;else{if("before"==n)return this._createBefore(r);if("after"==n)return this._createAfter(r);if(0!==n&&!n)throw new Oa["b"]("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",r)}return new t(r,n)}},{key:"_createAfter",value:function(e){if(e.is("textProxy"))return new t(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new Oa["b"]("view-position-after-root: You can not make position after root.",e,{root:e});return new t(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("textProxy"))return new t(e.textNode,e.offsetInText);if(!e.parent)throw new Oa["b"]("view-position-before-root: You can not make position before root.",e,{root:e});return new t(e.parent,e.index)}}]),t}();function gh(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=wh(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function wh(t,e){if(t){if("string"===typeof t)return _h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_h(t,e):void 0}}function _h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oh(t,e,n){return e&&Sh(t.prototype,e),n&&Sh(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ph=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;kh(this,t),this.start=e.clone(),this.end=n?n.clone():e.clone()}return Oh(t,[{key:Symbol.iterator,value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(new yh({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"getEnlarged",value:function(){var e=this.start.getLastMatchingPosition(Ah,{direction:"backward"}),n=this.end.getLastMatchingPosition(Ah);return e.parent.is("text")&&e.isAtStart&&(e=bh._createBefore(e.parent)),n.parent.is("text")&&n.isAtEnd&&(n=bh._createAfter(n.parent)),new t(e,n)}},{key:"getTrimmed",value:function(){var e=this.start.getLastMatchingPosition(Ah);if(e.isAfter(this.end)||e.isEqual(this.end))return new t(e,e);var n=this.end.getLastMatchingPosition(Ah,{direction:"backward"}),r=e.nodeAfter,o=n.nodeBefore;return r&&r.is("text")&&(e=new bh(r,0)),o&&o.is("text")&&(n=new bh(o,o.data.length)),new t(e,n)}},{key:"isEqual",value:function(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}},{key:"getDifference",value:function(e){var n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new t(this.start,e.start)),this.containsPosition(e.end)&&n.push(new t(e.end,this.end))):n.push(this.clone()),n}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var n=this.start,r=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(r=e.end),new t(n,r)}return null}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new yh(t)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}},{key:"clone",value:function(){return new t(this.start,this.end)}},{key:"getItems",value:a.a.mark((function t(){var e,n,r,o,i,u=arguments;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=u.length>0&&void 0!==u[0]?u[0]:{},e.boundaries=this,e.ignoreElementEnd=!0,n=new yh(e),r=gh(n),t.prev=5,r.s();case 7:if((o=r.n()).done){t.next=13;break}return i=o.value,t.next=11,i.item;case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](5),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[5,15,18,21]])}))},{key:"getPositions",value:a.a.mark((function t(){var e,n,r,o,i,u=arguments;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},e.boundaries=this,n=new yh(e),t.next=5,n.position;case 5:r=gh(n),t.prev=6,r.s();case 8:if((o=r.n()).done){t.next=14;break}return i=o.value,t.next=12,i.nextPosition;case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](6),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,this,[[6,16,19,22]])}))},{key:"is",value:function(t){return"range"===t||"view:range"===t}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromParentsAndOffsets",value:function(t,e,n,r){return new this(new bh(t,e),new bh(n,r))}},{key:"_createFromPositionAndShift",value:function(t,e){var n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}},{key:"_createIn",value:function(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}},{key:"_createOn",value:function(t){var e=t.is("textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(bh._createBefore(t),e)}}]),t}();function Ah(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function Rh(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=jh(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function jh(t,e){if(t){if("string"===typeof t)return Eh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eh(t,e):void 0}}function Eh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function xh(t){var e,n=0,r=Rh(t);try{for(r.s();!(e=r.n()).done;){e.value;n++}}catch(o){r.e(o)}finally{r.f()}return n}function Th(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ch(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ch(t,e){if(t){if("string"===typeof t)return Ih(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ih(t,e):void 0}}function Ih(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nh(t,e,n){return e&&Mh(t.prototype,e),n&&Mh(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Vh=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Dh(this,t),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,n,r)}return Nh(t,[{key:"getRanges",value:a.a.mark((function t(){var e,n,r;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Th(this._ranges),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,r.clone();case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var t,e=null,n=Th(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.start.isBefore(e.start)||(e=r)}}catch(o){n.e(o)}finally{n.f()}return e?e.clone():null}},{key:"getLastRange",value:function(){var t,e=null,n=Th(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.end.isAfter(e.end)||(e=r)}}catch(o){n.e(o)}finally{n.f()}return e?e.clone():null}},{key:"getFirstPosition",value:function(){var t=this.getFirstRange();return t?t.start.clone():null}},{key:"getLastPosition",value:function(){var t=this.getLastRange();return t?t.end.clone():null}},{key:"isEqual",value:function(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var e,n=Th(this._ranges);try{for(n.s();!(e=n.n()).done;){var r,o=e.value,i=!1,a=Th(t._ranges);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(o.isEqual(u)){i=!0;break}}}catch(c){a.e(c)}finally{a.f()}if(!i)return!1}}catch(c){n.e(c)}finally{n.f()}return!0}},{key:"isSimilar",value:function(t){if(this.isBackward!=t.isBackward)return!1;var e=xh(this.getRanges()),n=xh(t.getRanges());if(e!=n)return!1;if(0==e)return!0;var r,o=Th(this.getRanges());try{for(o.s();!(r=o.n()).done;){var i=r.value;i=i.getTrimmed();var a,u=!1,c=Th(t.getRanges());try{for(c.s();!(a=c.n()).done;){var s=a.value;if(s=s.getTrimmed(),i.start.isEqual(s.start)&&i.end.isEqual(s.end)){u=!0;break}}}catch(l){c.e(l)}finally{c.f()}if(!u)return!1}}catch(l){o.e(l)}finally{o.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(e,n,r){if(null===e)this._setRanges([]),this._setFakeOptions(n);else if(e instanceof t||e instanceof zh)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Ph)this._setRanges([e],n&&n.backward),this._setFakeOptions(n);else if(e instanceof bh)this._setRanges([new Ph(e)]),this._setFakeOptions(n);else if(e instanceof Lu){var o,i=!!r&&!!r.backward;if(void 0===n)throw new Oa["b"]("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);o="in"==n?Ph._createIn(e):"on"==n?Ph._createOn(e):new Ph(bh._createAt(e,n)),this._setRanges([o],i),this._setFakeOptions(r)}else{if(!Ja(e))throw new Oa["b"]("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(e,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}},{key:"setFocus",value:function(t,e){if(null===this.anchor)throw new Oa["b"]("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);var n=bh._createAt(t,e);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new Ph(n,r),!0):this._addRange(new Ph(r,n)),this.fire("change")}}},{key:"is",value:function(t){return"selection"===t||"view:selection"===t}},{key:"_setRanges",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=Array.from(t),this._ranges=[];var n,r=Th(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._addRange(o)}}catch(i){r.e(i)}finally{r.f()}this._lastRangeBackward=!!e}},{key:"_setFakeOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}},{key:"_addRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t instanceof Ph))throw new Oa["b"]("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(t),this._lastRangeBackward=!!e}},{key:"_pushRange",value:function(t){var e,n=Th(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.isIntersecting(r))throw new Oa["b"]("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:t,intersectingRange:r})}}catch(o){n.e(o)}finally{n.f()}this._ranges.push(new Ph(t.start,t.end))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?t.end:t.start;return e.clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?t.start:t.end;return e.clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}]),t}();function Bh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lh(t,e,n){return e&&Fh(t.prototype,e),n&&Fh(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(Vh,Fa);var zh=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Bh(this,t),this._selection=new Vh,this._selection.delegate("change").to(this),this._selection.setTo(e,n,r)}return Lh(t,[{key:"getRanges",value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(t){return this._selection.isEqual(t)}},{key:"isSimilar",value:function(t){return this._selection.isSimilar(t)}},{key:"is",value:function(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}},{key:"_setTo",value:function(t,e,n){this._selection.setTo(t,e,n)}},{key:"_setFocus",value:function(t,e){this._selection.setFocus(t,e)}},{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}}]),t}();function Uh(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Hh(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Hh(t,e){if(t){if("string"===typeof t)return $h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$h(t,e):void 0}}function $h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yh(t,e,n){return e&&qh(t.prototype,e),n&&qh(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(zh,Fa);var Gh=function(){function t(e){Wh(this,t),this.selection=new zh,this.roots=new ou({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}return Yh(t,[{key:"getRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(t)}},{key:"registerPostFixer",value:function(t){this._postFixers.add(t)}},{key:"destroy",value:function(){this.roots.map((function(t){return t.destroy()})),this.stopListening()}},{key:"_callPostFixers",value:function(t){var e=!1;do{var n,r=Uh(this._postFixers);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(e=o(t),e)break}}catch(i){r.e(i)}finally{r.f()}}while(e)}}]),t}();function Kh(t){return Kh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(t)}function Jh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zh(t,e,n){return e&&Xh(t.prototype,e),n&&Xh(t,n),t}function Qh(t,e,n){return Qh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=tp(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Qh(t,e,n||t)}function tp(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=up(t),null===t)break;return t}function ep(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&np(t,e)}function np(t,e){return np=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},np(t,e)}function rp(t){var e=ap();return function(){var n,r=up(t);if(e){var o=up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return op(this,n)}}function op(t,e){return!e||"object"!==Kh(e)&&"function"!==typeof e?ip(t):e}function ip(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ap(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},up(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(Gh,Ef);var cp=10,sp=function(t){ep(n,t);var e=rp(n);function n(t,r,o,i){var a;return Jh(this,n),a=e.call(this,t,r,o,i),a.getFillerOffset=lp,a._priority=cp,a._id=null,a._clonesGroup=null,a}return Zh(n,[{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new Oa["b"]("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}},{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"isSimilar",value:function(t){return null!==this.id||null!==t.id?this.id===t.id:Qh(up(n.prototype),"isSimilar",this).call(this,t)&&this.priority==t.priority}},{key:"_clone",value:function(t){var e=Qh(up(n.prototype),"_clone",this).call(this,t);return e._priority=this._priority,e._id=this._id,e}},{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}}]),n}(Wl);function lp(){if(fp(this))return null;var t=this.parent;while(t&&t.is("attributeElement")){if(fp(t)>1)return null;t=t.parent}return!t||fp(t)>1?null:this.childCount}function fp(t){return Array.from(t.getChildren()).filter((function(t){return!t.is("uiElement")})).length}function hp(t){return hp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(t)}function pp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dp(t,e,n){return e&&yp(t.prototype,e),n&&yp(t,n),t}function vp(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mp(t,e)}function mp(t,e){return mp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mp(t,e)}function bp(t){var e=_p();return function(){var n,r=kp(t);if(e){var o=kp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gp(this,n)}}function gp(t,e){return!e||"object"!==hp(e)&&"function"!==typeof e?wp(t):e}function wp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kp(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */sp.DEFAULT_PRIORITY=cp;var Sp=function(t){vp(n,t);var e=bp(n);function n(t,r,o,i){var a;return pp(this,n),a=e.call(this,t,r,o,i),a.getFillerOffset=Op,a}return dp(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof Lu||Array.from(e).length>0))throw new Oa["b"]("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,e])}}]),n}(Wl);function Op(){return null}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Pp=navigator.userAgent.toLowerCase(),Ap={isMac:jp(Pp),isGecko:Ep(Pp),isSafari:xp(Pp),isAndroid:Tp(Pp),features:{isRegExpUnicodePropertySupported:Cp()}},Rp=Ap;function jp(t){return t.indexOf("macintosh")>-1}function Ep(t){return!!t.match(/gecko\/\d+/)}function xp(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}function Tp(t){return t.indexOf("android")>-1}function Cp(){var t=!1;try{t=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(e){}return t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ip={"⌘":"ctrl","⇧":"shift","⌥":"alt"},Dp={ctrl:"⌘",shift:"⇧",alt:"⌥"},Mp=Fp();function Np(t){var e;if("string"==typeof t){if(e=Mp[t.toLowerCase()],!e)throw new Oa["b"]("keyboard-unknown-key: Unknown key name.",null,{key:t})}else e=t.keyCode+(t.altKey?Mp.alt:0)+(t.ctrlKey?Mp.ctrl:0)+(t.shiftKey?Mp.shift:0);return e}function Vp(t){return"string"==typeof t&&(t=Lp(t)),t.map((function(t){return"string"==typeof t?Np(t):t})).reduce((function(t,e){return e+t}),0)}function Bp(t){return Rp.isMac?Lp(t).map((function(t){return Dp[t.toLowerCase()]||t})).reduce((function(t,e){return t.slice(-1)in Ip?t+e:t+"+"+e})):t}function Fp(){for(var t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},e=65;e<=90;e++){var n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(var r=48;r<=57;r++)t[r-48]=r;for(var o=112;o<=123;o++)t["f"+(o-111)]=o;return t}function Lp(t){return t.split(/\s*\+\s*/)}function zp(t){return zp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(t)}function Up(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Hp(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Hp(t,e){if(t){if("string"===typeof t)return $p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$p(t,e):void 0}}function $p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yp(t,e,n){return e&&qp(t.prototype,e),n&&qp(t,n),t}function Gp(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kp(t,e)}function Kp(t,e){return Kp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kp(t,e)}function Jp(t){var e=Qp();return function(){var n,r=ty(t);if(e){var o=ty(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xp(this,n)}}function Xp(t,e){return!e||"object"!==zp(e)&&"function"!==typeof e?Zp(t):e}function Zp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qp(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ty(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ey=function(t){Gp(n,t);var e=Jp(n);function n(t,r,o,i){var a;return Wp(this,n),a=e.call(this,t,r,o,i),a.getFillerOffset=ry,a}return Yp(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof Lu||Array.from(e).length>0))throw new Oa["b"]("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}},{key:"render",value:function(t){return this.toDomElement(t)}},{key:"toDomElement",value:function(t){var e,n=t.createElement(this.name),r=Up(this.getAttributeKeys());try{for(r.s();!(e=r.n()).done;){var o=e.value;n.setAttribute(o,this.getAttribute(o))}}catch(i){r.e(i)}finally{r.f()}return n}}]),n}(Wl);function ny(t){t.document.on("keydown",(function(e,n){return oy(e,n,t.domConverter)}))}function ry(){return null}function oy(t,e,n){if(e.keyCode==Mp.arrowright){var r=e.domTarget.ownerDocument.defaultView.getSelection(),o=1==r.rangeCount&&r.getRangeAt(0).collapsed;if(o||e.shiftKey){var i=r.focusNode,a=r.focusOffset,u=n.domPositionToView(i,a);if(null===u)return;var c=!1,s=u.getLastMatchingPosition((function(t){return t.item.is("uiElement")&&(c=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))}));if(c){var l=n.viewPositionToDom(s);o?r.collapse(l.parent,l.offset):r.extend(l.parent,l.offset)}}}}function iy(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ay(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ay(t,e){if(t){if("string"===typeof t)return uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uy(t,e):void 0}}function uy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ly(t,e,n){return e&&sy(t.prototype,e),n&&sy(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var fy=function(){function t(e,n){cy(this,t),this.document=e,this._children=[],n&&this._insertChild(0,n)}return ly(t,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(t){return"documentFragment"===t||"view:documentFragment"===t}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(t,e){this._fireChange("children",this);var n,r=0,o=hy(this.document,e),i=iy(o);try{for(i.s();!(n=i.n()).done;){var a=n.value;null!==a.parent&&a._remove(),a.parent=this,this._children.splice(t,0,a),t++,r++}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"_removeChildren",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}},{key:"_fireChange",value:function(t,e){this.fire("change:"+t,e)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}]),t}();function hy(t,e){return"string"==typeof e?[new Zu(t,e)]:(Ja(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Zu(t,e):e instanceof nc?new Zu(t,e.data):e})))}function py(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=vy(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function yy(t){return by(t)||my(t)||vy(t)||dy()}function dy(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vy(t,e){if(t){if("string"===typeof t)return gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gy(t,e):void 0}}function my(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function by(t){if(Array.isArray(t))return gy(t)}function gy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e,n){return e&&_y(t.prototype,e),n&&_y(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(fy,Fa);var Sy=function(){function t(e){wy(this,t),this.document=e,this._cloneGroups=new Map}return ky(t,[{key:"setSelection",value:function(t,e,n){this.document.selection._setTo(t,e,n)}},{key:"setSelectionFocus",value:function(t,e){this.document.selection._setFocus(t,e)}},{key:"createText",value:function(t){return new Zu(this.document,t)}},{key:"createAttributeElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sp(this.document,t,e);return n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),r}},{key:"createContainerElement",value:function(t,e){return new yf(this.document,t,e)}},{key:"createEditableElement",value:function(t,e){var n=new Xf(this.document,t,e);return n._document=this.document,n}},{key:"createEmptyElement",value:function(t,e){return new Sp(this.document,t,e)}},{key:"createUIElement",value:function(t,e,n){var r=new ey(this.document,t,e);return n&&(r.render=n),r}},{key:"setAttribute",value:function(t,e,n){n._setAttribute(t,e)}},{key:"removeAttribute",value:function(t,e){e._removeAttribute(t)}},{key:"addClass",value:function(t,e){e._addClass(t)}},{key:"removeClass",value:function(t,e){e._removeClass(t)}},{key:"setStyle",value:function(t,e,n){H(t)&&void 0===n&&(n=e),n._setStyle(t,e)}},{key:"removeStyle",value:function(t,e){e._removeStyle(t)}},{key:"setCustomProperty",value:function(t,e,n){n._setCustomProperty(t,e)}},{key:"removeCustomProperty",value:function(t,e){return e._removeCustomProperty(t)}},{key:"breakAttributes",value:function(t){return t instanceof bh?this._breakAttributes(t):this._breakAttributesRange(t)}},{key:"breakContainer",value:function(t){var e=t.parent;if(!e.is("containerElement"))throw new Oa["b"]("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!e.parent)throw new Oa["b"]("view-writer-break-root: Trying to break root element.",this.document);if(t.isAtStart)return bh._createBefore(e);if(!t.isAtEnd){var n=e._clone(!1);this.insert(bh._createAfter(e),n);var r=new Ph(t,bh._createAt(e,"end")),o=new bh(n,0);this.move(r,o)}return bh._createAfter(e)}},{key:"mergeAttributes",value:function(t){var e=t.offset,n=t.parent;if(n.is("text"))return t;if(n.is("attributeElement")&&0===n.childCount){var r=n.parent,o=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new bh(r,o))}var i=n.getChild(e-1),a=n.getChild(e);if(!i||!a)return t;if(i.is("text")&&a.is("text"))return Ey(i,a);if(i.is("attributeElement")&&a.is("attributeElement")&&i.isSimilar(a)){var u=i.childCount;return i._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new bh(i,u))}return t}},{key:"mergeContainers",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;if(!e||!n||!e.is("containerElement")||!n.is("containerElement"))throw new Oa["b"]("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);var r=e.getChild(e.childCount-1),o=r instanceof Zu?bh._createAt(r,"end"):bh._createAt(e,"end");return this.move(Ph._createIn(n),bh._createAt(e,"end")),this.remove(Ph._createOn(n)),o}},{key:"insert",value:function(t,e){e=Ja(e)?yy(e):[e],xy(e,this.document);var n=Py(t);if(!n)throw new Oa["b"]("view-writer-invalid-position-container",this.document);var r,o=this._breakAttributes(t,!0),i=n._insertChild(o.offset,e),a=py(e);try{for(a.s();!(r=a.n()).done;){var u=r.value;this._addToClonedElementsGroup(u)}}catch(f){a.e(f)}finally{a.f()}var c=o.getShiftedBy(i),s=this.mergeAttributes(o);if(0===i)return new Ph(s,s);s.isEqual(o)||c.offset--;var l=this.mergeAttributes(c);return new Ph(s,l)}},{key:"remove",value:function(t){var e=t instanceof Ph?t:Ph._createOn(t);if(Iy(e,this.document),e.isCollapsed)return new fy(this.document);var n,r=this._breakAttributesRange(e,!0),o=r.start,i=r.end,a=o.parent,u=i.offset-o.offset,c=a._removeChildren(o.offset,u),s=py(c);try{for(s.s();!(n=s.n()).done;){var l=n.value;this._removeFromClonedElementsGroup(l)}}catch(h){s.e(h)}finally{s.f()}var f=this.mergeAttributes(o);return e.start=f,e.end=f.clone(),new fy(this.document,c)}},{key:"clear",value:function(t,e){Iy(t,this.document);var n,r=t.getWalker({direction:"backward",ignoreElementEnd:!0}),o=py(r);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.item,u=void 0;if(a.is("element")&&e.isSimilar(a))u=Ph._createOn(a);else if(!i.nextPosition.isAfter(t.start)&&a.is("textProxy")){var c=a.getAncestors().find((function(t){return t.is("element")&&e.isSimilar(t)}));c&&(u=Ph._createIn(c))}u&&(u.end.isAfter(t.end)&&(u.end=t.end),u.start.isBefore(t.start)&&(u.start=t.start),this.remove(u))}}catch(s){o.e(s)}finally{o.f()}}},{key:"move",value:function(t,e){var n;if(e.isAfter(t.end)){e=this._breakAttributes(e,!0);var r=e.parent,o=r.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=r.childCount-o}else n=this.remove(t);return this.insert(e,n)}},{key:"wrap",value:function(t,e){if(!(e instanceof sp))throw new Oa["b"]("view-writer-wrap-invalid-attribute",this.document);if(Iy(t,this.document),t.isCollapsed){var n=t.start;n.parent.is("element")&&!Oy(n.parent)&&(n=n.getLastMatchingPosition((function(t){return t.item.is("uiElement")}))),n=this._wrapPosition(n,e);var r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new Ph(n)}return this._wrapRange(t,e)}},{key:"unwrap",value:function(t,e){if(!(e instanceof sp))throw new Oa["b"]("view-writer-unwrap-invalid-attribute",this.document);if(Iy(t,this.document),t.isCollapsed)return t;var n=this._breakAttributesRange(t,!0),r=n.start,o=n.end,i=r.parent,a=this._unwrapChildren(i,r.offset,o.offset,e),u=this.mergeAttributes(a.start);u.isEqual(a.start)||a.end.offset--;var c=this.mergeAttributes(a.end);return new Ph(u,c)}},{key:"rename",value:function(t,e){var n=new yf(this.document,t,e.getAttributes());return this.insert(bh._createAfter(e),n),this.move(Ph._createIn(e),bh._createAt(n,0)),this.remove(Ph._createOn(e)),n}},{key:"clearClonedElementsGroup",value:function(t){this._cloneGroups.delete(t)}},{key:"createPositionAt",value:function(t,e){return bh._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return bh._createAfter(t)}},{key:"createPositionBefore",value:function(t){return bh._createBefore(t)}},{key:"createRange",value:function(t,e){return new Ph(t,e)}},{key:"createRangeOn",value:function(t){return Ph._createOn(t)}},{key:"createRangeIn",value:function(t){return Ph._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Vh(t,e,n)}},{key:"_wrapChildren",value:function(t,e,n,r){var o=e,i=[];while(o<n){var a=t.getChild(o),u=a.is("text"),c=a.is("attributeElement"),s=a.is("emptyElement"),l=a.is("uiElement");if(c&&this._wrapAttributeElement(r,a))i.push(new bh(t,o));else if(u||s||l||c&&Ay(r,a)){var f=r._clone();a._remove(),f._appendChild(a),t._insertChild(o,f),this._addToClonedElementsGroup(f),i.push(new bh(t,o))}else c&&this._wrapChildren(a,0,a.childCount,r);o++}for(var h=0,p=0,y=i;p<y.length;p++){var d=y[p];if(d.offset-=h,d.offset!=e){var v=this.mergeAttributes(d);v.isEqual(d)||(h++,n--)}}return Ph._createFromParentsAndOffsets(t,e,t,n)}},{key:"_unwrapChildren",value:function(t,e,n,r){var o=e,i=[];while(o<n){var a=t.getChild(o);if(a.is("attributeElement"))if(a.isSimilar(r)){var u=a.getChildren(),c=a.childCount;a._remove(),t._insertChild(o,u),this._removeFromClonedElementsGroup(a),i.push(new bh(t,o),new bh(t,o+c)),o+=c,n+=c-1}else this._unwrapAttributeElement(r,a)?(i.push(new bh(t,o),new bh(t,o+1)),o++):(this._unwrapChildren(a,0,a.childCount,r),o++);else o++}for(var s=0,l=0,f=i;l<f.length;l++){var h=f[l];if(h.offset-=s,h.offset!=e&&h.offset!=n){var p=this.mergeAttributes(h);p.isEqual(h)||(s++,n--)}}return Ph._createFromParentsAndOffsets(t,e,t,n)}},{key:"_wrapRange",value:function(t,e){var n=this._breakAttributesRange(t,!0),r=n.start,o=n.end,i=r.parent,a=this._wrapChildren(i,r.offset,o.offset,e),u=this.mergeAttributes(a.start);u.isEqual(a.start)||a.end.offset--;var c=this.mergeAttributes(a.end);return new Ph(u,c)}},{key:"_wrapPosition",value:function(t,e){if(e.isSimilar(t.parent))return Ry(t.clone());t.parent.is("text")&&(t=jy(t));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},t.parent._insertChild(t.offset,n);var r=new Ph(t,t.getShiftedBy(1));this.wrap(r,e);var o=new bh(n.parent,n.index);n._remove();var i=o.nodeBefore,a=o.nodeAfter;return i instanceof Zu&&a instanceof Zu?Ey(i,a):Ry(o)}},{key:"_wrapAttributeElement",value:function(t,e){if(!Dy(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var n,r=py(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var o=n.value;if("class"!==o&&"style"!==o&&(e.hasAttribute(o)&&e.getAttribute(o)!==t.getAttribute(o)))return!1}}catch(m){r.e(m)}finally{r.f()}var i,a=py(t.getStyleNames());try{for(a.s();!(i=a.n()).done;){var u=i.value;if(e.hasStyle(u)&&e.getStyle(u)!==t.getStyle(u))return!1}}catch(m){a.e(m)}finally{a.f()}var c,s=py(t.getAttributeKeys());try{for(s.s();!(c=s.n()).done;){var l=c.value;"class"!==l&&"style"!==l&&(e.hasAttribute(l)||this.setAttribute(l,t.getAttribute(l),e))}}catch(m){s.e(m)}finally{s.f()}var f,h=py(t.getStyleNames());try{for(h.s();!(f=h.n()).done;){var p=f.value;e.hasStyle(p)||this.setStyle(p,t.getStyle(p),e)}}catch(m){h.e(m)}finally{h.f()}var y,d=py(t.getClassNames());try{for(d.s();!(y=d.n()).done;){var v=y.value;e.hasClass(v)||this.addClass(v,e)}}catch(m){d.e(m)}finally{d.f()}return!0}},{key:"_unwrapAttributeElement",value:function(t,e){if(!Dy(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var n,r=py(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var o=n.value;if("class"!==o&&"style"!==o&&(!e.hasAttribute(o)||e.getAttribute(o)!==t.getAttribute(o)))return!1}}catch(f){r.e(f)}finally{r.f()}if(!e.hasClass.apply(e,yy(t.getClassNames())))return!1;var i,a=py(t.getStyleNames());try{for(a.s();!(i=a.n()).done;){var u=i.value;if(!e.hasStyle(u)||e.getStyle(u)!==t.getStyle(u))return!1}}catch(f){a.e(f)}finally{a.f()}var c,s=py(t.getAttributeKeys());try{for(s.s();!(c=s.n()).done;){var l=c.value;"class"!==l&&"style"!==l&&this.removeAttribute(l,e)}}catch(f){s.e(f)}finally{s.f()}return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}},{key:"_breakAttributesRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.start,r=t.end;if(Iy(t,this.document),t.isCollapsed){var o=this._breakAttributes(t.start,e);return new Ph(o,o)}var i=this._breakAttributes(r,e),a=i.parent.childCount,u=this._breakAttributes(n,e);return i.offset+=i.parent.childCount-a,new Ph(u,i)}},{key:"_breakAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new Oa["b"]("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new Oa["b"]("view-writer-cannot-break-ui-element",this.document);if(!e&&r.is("text")&&Cy(r.parent))return t.clone();if(Cy(r))return t.clone();if(r.is("text"))return this._breakAttributes(jy(t),e);var o=r.childCount;if(n==o){var i=new bh(r.parent,r.index+1);return this._breakAttributes(i,e)}if(0===n){var a=new bh(r.parent,r.index);return this._breakAttributes(a,e)}var u=r.index+1,c=r._clone();r.parent._insertChild(u,c),this._addToClonedElementsGroup(c);var s=r.childCount-n,l=r._removeChildren(n,s);c._appendChild(l);var f=new bh(r.parent,u);return this._breakAttributes(f,e)}},{key:"_addToClonedElementsGroup",value:function(t){if(t.root.is("rootElement")){if(t.is("element")){var e,n=py(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._addToClonedElementsGroup(r)}}catch(a){n.e(a)}finally{n.f()}}var o=t.id;if(o){var i=this._cloneGroups.get(o);i||(i=new Set,this._cloneGroups.set(o,i)),i.add(t),t._clonesGroup=i}}}},{key:"_removeFromClonedElementsGroup",value:function(t){if(t.is("element")){var e,n=py(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._removeFromClonedElementsGroup(r)}}catch(a){n.e(a)}finally{n.f()}}var o=t.id;if(o){var i=this._cloneGroups.get(o);i&&i.delete(t)}}}]),t}();function Oy(t){return Array.from(t.getChildren()).some((function(t){return!t.is("uiElement")}))}function Py(t){var e=t.parent;while(!Cy(e)){if(!e)return;e=e.parent}return e}function Ay(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function Ry(t){var e=t.nodeBefore;if(e&&e.is("text"))return new bh(e,e.data.length);var n=t.nodeAfter;return n&&n.is("text")?new bh(n,0):t}function jy(t){if(t.offset==t.parent.data.length)return new bh(t.parent.parent,t.parent.index+1);if(0===t.offset)return new bh(t.parent.parent,t.parent.index);var e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new Zu(t.root.document,e)),new bh(t.parent.parent,t.parent.index+1)}function Ey(t,e){var n=t.data.length;return t._data+=e.data,e._remove(),new bh(t,n)}function xy(t,e){var n,r=py(t);try{var o=function(){var t=n.value;if(!Ty.some((function(e){return t instanceof e})))throw new Oa["b"]("view-writer-insert-invalid-node",e);t.is("text")||xy(t.getChildren(),e)};for(r.s();!(n=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}}var Ty=[Zu,sp,yf,Sp,ey];function Cy(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Iy(t,e){var n=Py(t.start),r=Py(t.end);if(!n||!r||n!==r)throw new Oa["b"]("view-writer-invalid-range-container",e)}function Dy(t,e){return null===t.id&&null===e.id}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function My(t){return"[object Text]"==Object.prototype.toString.call(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ny=function(t){return t.createTextNode(" ")},Vy=function(t){var e=t.createElement("br");return e.dataset.ckeFiller=!0,e},By=7,Fy=function(){for(var t="",e=0;e<By;e++)t+="​";return t}();function Ly(t){return My(t)&&t.data.substr(0,By)===Fy}function zy(t){return t.data.length==By&&Ly(t)}function Uy(t){return Ly(t)?t.data.slice(By):t.data}function Hy(t){t.document.on("keydown",$y)}function $y(t,e){if(e.keyCode==Mp.arrowleft){var n=e.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var r=n.getRangeAt(0).startContainer,o=n.getRangeAt(0).startOffset;Ly(r)&&o<=By&&n.collapse(r,0)}}}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Wy(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.prototype.slice.call(t)),Array.isArray(e)||(e=Array.prototype.slice.call(e));var o=qy(t,e,n);return r?Jy(o,e.length):Ky(e,o)}function qy(t,e,n){var r=Yy(t,e,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var o=Gy(t,r),i=Gy(e,r),a=Yy(o,i,n),u=t.length-a,c=e.length-a;return{firstIndex:r,lastIndexOld:u,lastIndexNew:c}}function Yy(t,e,n){for(var r=0;r<Math.max(t.length,e.length);r++)if(void 0===t[r]||void 0===e[r]||!n(t[r],e[r]))return r;return-1}function Gy(t,e){return t.slice(e).reverse()}function Ky(t,e){var n=[],r=e.firstIndex,o=e.lastIndexOld,i=e.lastIndexNew;return i-r>0&&n.push({index:r,type:"insert",values:t.slice(r,i)}),o-r>0&&n.push({index:r+(i-r),type:"delete",howMany:o-r}),n}function Jy(t,e){var n=t.firstIndex,r=t.lastIndexOld,o=t.lastIndexNew;if(-1===n)return Array(e).fill("equal");var i=[];return n>0&&(i=i.concat(Array(n).fill("equal"))),o-n>0&&(i=i.concat(Array(o-n).fill("insert"))),r-n>0&&(i=i.concat(Array(r-n).fill("delete"))),o<e&&(i=i.concat(Array(e-o).fill("equal"))),i}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xy(t,e,n){n=n||function(t,e){return t===e};var r,o,i=t.length,a=e.length;if(i>200||a>200||i+a>300)return Xy.fastDiff(t,e,n,!0);if(a<i){var u=t;t=e,e=u,r="delete",o="insert"}else r="insert",o="delete";var c=t.length,s=e.length,l=s-c,f={},h={};function p(i){var a=(void 0!==h[i-1]?h[i-1]:-1)+1,u=void 0!==h[i+1]?h[i+1]:-1,l=a>u?-1:1;f[i+l]&&(f[i]=f[i+l].slice(0)),f[i]||(f[i]=[]),f[i].push(a>u?r:o);var p=Math.max(a,u),y=p-i;while(y<c&&p<s&&n(t[y],e[p]))y++,p++,f[i].push("equal");return p}var y,d=0;do{for(y=-d;y<l;y++)h[y]=p(y);for(y=l+d;y>l;y--)h[y]=p(y);h[l]=p(l),d++}while(h[l]!==s);return f[l].slice(1)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function Zy(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Qy(t){var e=t.parentNode;e&&e.removeChild(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function td(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function ed(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=nd(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function nd(t,e){if(t){if("string"===typeof t)return rd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rd(t,e):void 0}}function rd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function od(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ad(t,e,n){return e&&id(t.prototype,e),n&&id(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xy.fastDiff=Wy;var ud=function(){function t(e,n){od(this,t),this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=n,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}return ad(t,[{key:"markToSync",value:function(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new Oa["b"]("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(e)}}}},{key:"render",value:function(){var t,e,n=ed(this.markedChildren);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._updateChildrenMappings(r)}}catch(d){n.e(d)}finally{n.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));var o,i=ed(this.markedAttributes);try{for(i.s();!(o=i.n()).done;){var a=o.value;this._updateAttrs(a)}}catch(d){i.e(d)}finally{i.f()}var u,c=ed(this.markedChildren);try{for(c.s();!(u=c.n()).done;){var s=u.value;this._updateChildren(s,{inlineFillerPosition:t})}}catch(d){c.e(d)}finally{c.f()}var l,f=ed(this.markedTexts);try{for(f.s();!(l=f.n()).done;){var h=l.value;!this.markedChildren.has(h.parent)&&this.domConverter.mapViewToDom(h.parent)&&this._updateText(h,{inlineFillerPosition:t})}}catch(d){f.e(d)}finally{f.f()}if(t){var p=this.domConverter.viewPositionToDom(t),y=p.parent.ownerDocument;Ly(p.parent)?this._inlineFiller=p.parent:this._inlineFiller=sd(y,p.parent,p.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(t){var e=this.domConverter.mapViewToDom(t);if(e){var n=this.domConverter.mapViewToDom(t).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(n,r),i=this._findReplaceActions(o,n,r);if(-1!==i.indexOf("replace")){var a,u={equal:0,insert:0,delete:0},c=ed(i);try{for(c.s();!(a=c.n()).done;){var s=a.value;if("replace"===s){var l=u.equal+u.insert,f=u.equal+u.delete,h=t.getChild(l);h&&!h.is("uiElement")&&this._updateElementMappings(h,n[f]),Qy(r[l]),u.equal++}else u[s]++}}catch(p){c.e(p)}finally{c.f()}}}}},{key:"_updateElementMappings",value:function(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}},{key:"_getInlineFillerPosition",value:function(){var t=this.selection.getFirstPosition();return t.parent.is("text")?bh._createBefore(this.selection.getFirstPosition().parent):t}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&My(e.parent)&&Ly(e.parent))}},{key:"_removeInlineFiller",value:function(){var t=this._inlineFiller;if(!Ly(t))throw new Oa["b"]("view-renderer-filler-was-lost: The inline filler node was lost.",this);zy(t)?t.parentNode.removeChild(t):t.data=t.data.substr(By),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!cd(e))return!1;if(n===e.getFillerOffset())return!1;var r=t.nodeBefore,o=t.nodeAfter;return!(r instanceof Zu||o instanceof Zu)}},{key:"_updateText",value:function(t,e){var n=this.domConverter.findCorrespondingDomText(t),r=this.domConverter.viewToDom(t,n.ownerDocument),o=n.data,i=r.data,a=e.inlineFillerPosition;if(a&&a.parent==t.parent&&a.offset==t.index&&(i=Fy+i),o!=i){var u,c=Wy(o,i),s=ed(c);try{for(s.s();!(u=s.n()).done;){var l=u.value;"insert"===l.type?n.insertData(l.index,l.values.join("")):n.deleteData(l.index,l.howMany)}}catch(f){s.e(f)}finally{s.f()}}}},{key:"_updateAttrs",value:function(t){var e=this.domConverter.mapViewToDom(t);if(e){var n,r=Array.from(e.attributes).map((function(t){return t.name})),o=t.getAttributeKeys(),i=ed(o);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.setAttribute(a,t.getAttribute(a))}}catch(l){i.e(l)}finally{i.f()}var u,c=ed(r);try{for(c.s();!(u=c.n()).done;){var s=u.value;t.hasAttribute(s)||e.removeAttribute(s)}}catch(l){c.e(l)}finally{c.f()}}}},{key:"_updateChildren",value:function(t,e){var n=this.domConverter.mapViewToDom(t);if(n){var r=e.inlineFillerPosition,o=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:r}));r&&r.parent===t&&sd(n.ownerDocument,i,r.offset);var a,u=this._diffNodeLists(o,i),c=0,s=new Set,l=ed(u);try{for(l.s();!(a=l.n()).done;){var f=a.value;"delete"===f?(s.add(o[c]),Qy(o[c])):"equal"===f&&c++}}catch(b){l.e(b)}finally{l.f()}c=0;var h,p=ed(u);try{for(p.s();!(h=p.n()).done;){var y=h.value;"insert"===y?(Zy(n,c,i[c]),c++):"equal"===y&&(this._markDescendantTextToSync(this.domConverter.domToView(i[c])),c++)}}catch(b){p.e(b)}finally{p.f()}var d,v=ed(s);try{for(v.s();!(d=v.n()).done;){var m=d.value;m.parentNode||this.domConverter.unbindDomElement(m)}}catch(b){v.e(b)}finally{v.f()}}}},{key:"_diffNodeLists",value:function(t,e){return t=pd(t,this._fakeSelectionContainer),Xy(t,e,fd.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;var r,o=[],i=[],a=[],u={equal:0,insert:0,delete:0},c=ed(t);try{for(c.s();!(r=c.n()).done;){var s=r.value;"insert"===s?a.push(n[u.equal+u.insert]):"delete"===s?i.push(e[u.equal+u.delete]):(o=o.concat(Xy(i,a,ld).map((function(t){return"equal"===t?"replace":t}))),o.push("equal"),i=[],a=[]),u[s]++}}catch(l){c.e(l)}finally{c.f()}return o.concat(Xy(i,a,ld).map((function(t){return"equal"===t?"replace":t})))}},{key:"_markDescendantTextToSync",value:function(t){if(t)if(t.is("text"))this.markedTexts.add(t);else if(t.is("element")){var e,n=ed(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._markDescendantTextToSync(r)}}catch(o){n.e(o)}finally{n.f()}}}},{key:"_updateSelection",value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}},{key:"_updateFakeSelection",value:function(t){var e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=yd(e));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(t)){n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";var r=e.getSelection(),o=e.createRange();r.removeAllRanges(),o.selectNodeContents(n),r.addRange(o)}}},{key:"_updateDomSelection",value:function(t){var e=t.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(e)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(r.parent,r.offset),Rp.isGecko&&hd(r,e)}}},{key:"_domSelectionNeedsUpdate",value:function(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;var e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}},{key:"_fakeSelectionNeedsUpdate",value:function(t){var e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||(n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel)}},{key:"_removeDomSelection",value:function(){var t,e=ed(this.domDocuments);try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n.getSelection();if(r.rangeCount){var o=n.activeElement,i=this.domConverter.mapDomToView(o);o&&i&&n.getSelection().removeAllRanges()}}}catch(a){e.e(a)}finally{e.f()}}},{key:"_removeFakeSelection",value:function(){var t=this._fakeSelectionContainer;t&&t.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}]),t}();function cd(t){if("false"==t.getAttribute("contenteditable"))return!1;var e=t.findAncestor((function(t){return t.hasAttribute("contenteditable")}));return!e||"true"==e.getAttribute("contenteditable")}function sd(t,e,n){var r=e instanceof Array?e:e.childNodes,o=r[n];if(My(o))return o.data=Fy+o.data,o;var i=t.createTextNode(Fy);return Array.isArray(e)?r.splice(n,0,i):Zy(e,n,i),i}function ld(t,e){return td(t)&&td(e)&&!My(t)&&!My(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function fd(t,e,n){return e===n||(My(e)&&My(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}function hd(t,e){var n=t.parent;if(n.nodeType==Node.ELEMENT_NODE&&t.offset==n.childNodes.length-1){var r=n.childNodes[t.offset];r&&"BR"==r.tagName&&e.addRange(e.getRangeAt(0))}}function pd(t,e){var n=Array.from(t);if(0==n.length||!e)return n;var r=n[n.length-1];return r==e&&n.pop(),n}function yd(t){var e=t.createElement("div");return Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(ud,Ef);var dd={window:window,document:document};
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vd(t){var e=0;while(t.previousSibling)t=t.previousSibling,e++;return e}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function md(t){var e=[];while(t&&t.nodeType!=Node.DOCUMENT_NODE)e.unshift(t),t=t.parentNode;return e}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function bd(t,e){var n=md(t),r=md(e),o=0;while(n[o]==r[o]&&n[o])o++;return 0===o?null:n[o-1]}function gd(t,e){return kd(t)||_d(t,e)||Od(t,e)||wd()}function wd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _d(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function kd(t){if(Array.isArray(t))return t}function Sd(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Od(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Od(t,e){if(t){if("string"===typeof t)return Pd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pd(t,e):void 0}}function Pd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ad(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jd(t,e,n){return e&&Rd(t.prototype,e),n&&Rd(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ed=Vy(document),xd=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ad(this,t),this.document=e,this.blockFillerMode=n.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?Vy:Ny,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return jd(t,[{key:"bindFakeSelection",value:function(t,e){this._fakeSelectionMapping.set(t,new Vh(e))}},{key:"fakeSelectionToView",value:function(t){return this._fakeSelectionMapping.get(t)}},{key:"bindElements",value:function(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}},{key:"unbindDomElement",value:function(t){var e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);var n,r=Sd(t.childNodes);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.unbindDomElement(o)}}catch(i){r.e(i)}finally{r.f()}}}},{key:"bindDocumentFragments",value:function(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}},{key:"viewToDom",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.is("text")){var o=this._processDataFromViewText(t);return e.createTextNode(o)}if(this.mapViewToDom(t))return this.mapViewToDom(t);if(t.is("documentFragment"))n=e.createDocumentFragment(),r.bind&&this.bindDocumentFragments(n,t);else{if(t.is("uiElement"))return n=t.render(e),r.bind&&this.bindElements(n,t),n;n=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),r.bind&&this.bindElements(n,t);var i,a=Sd(t.getAttributeKeys());try{for(a.s();!(i=a.n()).done;){var u=i.value;n.setAttribute(u,t.getAttribute(u))}}catch(f){a.e(f)}finally{a.f()}}if(r.withChildren||void 0===r.withChildren){var c,s=Sd(this.viewChildrenToDom(t,e,r));try{for(s.s();!(c=s.n()).done;){var l=c.value;n.appendChild(l)}}catch(f){s.e(f)}finally{s.f()}}return n}},{key:"viewChildrenToDom",value:a.a.mark((function t(e,n){var r,o,i,u,c,s,l=arguments;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:{},o=e.getFillerOffset&&e.getFillerOffset(),i=0,u=Sd(e.getChildren()),t.prev=4,u.s();case 6:if((c=u.n()).done){t.next=16;break}if(s=c.value,o!==i){t.next=11;break}return t.next=11,this._blockFiller(n);case 11:return t.next=13,this.viewToDom(s,n,r);case 13:i++;case 14:t.next=6;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](4),u.e(t.t0);case 21:return t.prev=21,u.f(),t.finish(21);case 24:if(o!==i){t.next=27;break}return t.next=27,this._blockFiller(n);case 27:case"end":return t.stop()}}),t,this,[[4,18,21,24]])}))},{key:"viewRangeToDom",value:function(t){var e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),r=document.createRange();return r.setStart(e.parent,e.offset),r.setEnd(n.parent,n.offset),r}},{key:"viewPositionToDom",value:function(t){var e,n,r,o=t.parent;if(o.is("text")){var i=this.findCorrespondingDomText(o);if(!i)return null;var a=t.offset;return Ly(i)&&(a+=By),{parent:i,offset:a}}if(0===t.offset){if(e=this.mapViewToDom(o),!e)return null;r=e.childNodes[0]}else{var u=t.nodeBefore;if(n=u.is("text")?this.findCorrespondingDomText(u):this.mapViewToDom(t.nodeBefore),!n)return null;e=n.parentNode,r=n.nextSibling}if(My(r)&&Ly(r))return{parent:r,offset:By};var c=n?vd(n)+1:0;return{parent:e,offset:c}}},{key:"domToView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(t,this.blockFillerMode))return null;var n,r=this.getParentUIElement(t,this._domToViewMapping);if(r)return r;if(My(t)){if(zy(t))return null;var o=this._processDataFromDomText(t);return""===o?null:new Zu(this.document,o)}if(this.isComment(t))return null;if(this.mapDomToView(t))return this.mapDomToView(t);if(this.isDocumentFragment(t))n=new fy(this.document),e.bind&&this.bindDocumentFragments(t,n);else{var i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new Wl(this.document,i),e.bind&&this.bindElements(t,n);for(var a=t.attributes,u=a.length-1;u>=0;u--)n._setAttribute(a[u].name,a[u].value)}if(e.withChildren||void 0===e.withChildren){var c,s=Sd(this.domChildrenToView(t,e));try{for(s.s();!(c=s.n()).done;){var l=c.value;n._appendChild(l)}}catch(f){s.e(f)}finally{s.f()}}return n}},{key:"domChildrenToView",value:a.a.mark((function t(e){var n,r,o,i,u=arguments;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=0;case 2:if(!(r<e.childNodes.length)){t.next=11;break}if(o=e.childNodes[r],i=this.domToView(o,n),null===i){t.next=8;break}return t.next=8,i;case 8:r++,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"domSelectionToView",value:function(t){if(1===t.rangeCount){var e=t.getRangeAt(0).startContainer;My(e)&&(e=e.parentNode);var n=this.fakeSelectionToView(e);if(n)return n}for(var r=this.isDomSelectionBackward(t),o=[],i=0;i<t.rangeCount;i++){var a=t.getRangeAt(i),u=this.domRangeToView(a);u&&o.push(u)}return new Vh(o,{backward:r})}},{key:"domRangeToView",value:function(t){var e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Ph(e,n):null}},{key:"domPositionToView",value:function(t,e){if(this.isBlockFiller(t,this.blockFillerMode))return this.domPositionToView(t.parentNode,vd(t));var n=this.mapDomToView(t);if(n&&n.is("uiElement"))return bh._createBefore(n);if(My(t)){if(zy(t))return this.domPositionToView(t.parentNode,vd(t));var r=this.findCorrespondingViewText(t),o=e;return r?(Ly(t)&&(o-=By,o=o<0?0:o),new bh(r,o)):null}if(0===e){var i=this.mapDomToView(t);if(i)return new bh(i,0)}else{var a=t.childNodes[e-1],u=My(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(u&&u.parent)return new bh(u.parent,u.index+1)}return null}},{key:"mapDomToView",value:function(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}},{key:"findCorrespondingViewText",value:function(t){if(zy(t))return null;var e=this.getParentUIElement(t);if(e)return e;var n=t.previousSibling;if(n){if(!this.isElement(n))return null;var r=this.mapDomToView(n);if(r){var o=r.nextSibling;return o instanceof Zu?r.nextSibling:null}}else{var i=this.mapDomToView(t.parentNode);if(i){var a=i.getChild(0);return a instanceof Zu?a:null}}return null}},{key:"mapViewToDom",value:function(t){return this._viewToDomMapping.get(t)}},{key:"findCorrespondingDomText",value:function(t){var e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}},{key:"focus",value:function(t){var e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){var n=dd.window,r=n.scrollX,o=n.scrollY,i=[];Cd(e,(function(t){var e=t.scrollLeft,n=t.scrollTop;i.push([e,n])})),e.focus(),Cd(e,(function(t){var e=i.shift(),n=gd(e,2),r=n[0],o=n[1];t.scrollLeft=r,t.scrollTop=o})),dd.window.scrollTo(r,o)}}},{key:"isElement",value:function(t){return t&&t.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(t){return t&&t.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(t){return"br"==this.blockFillerMode?t.isEqualNode(Ed):!("BR"!==t.tagName||!Dd(t,this.blockElements)||1!==t.parentNode.childNodes.length)||Id(t,this.blockElements)}},{key:"isDomSelectionBackward",value:function(t){if(t.isCollapsed)return!1;var e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);var n=e.collapsed;return e.detach(),n}},{key:"getParentUIElement",value:function(t){var e=md(t);e.pop();while(e.length){var n=e.pop(),r=this._domToViewMapping.get(n);if(r&&r.is("uiElement"))return r}return null}},{key:"isDomSelectionCorrect",value:function(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}},{key:"_isDomSelectionPositionCorrect",value:function(t,e){if(My(t)&&Ly(t)&&e<By)return!1;if(this.isElement(t)&&Ly(t.childNodes[e]))return!1;var n=this.mapDomToView(t);return!n||!n.is("uiElement")}},{key:"_processDataFromViewText",value:function(t){var e=this,n=t.data;if(t.getAncestors().some((function(t){return e.preElements.includes(t.name)})))return n;if(" "==n.charAt(0)){var r=this._getTouchingViewTextNode(t,!1),o=r&&this._nodeEndsWithSpace(r);!o&&r||(n=" "+n.substr(1))}if(" "==n.charAt(n.length-1)){var i=this._getTouchingViewTextNode(t,!0);" "!=n.charAt(n.length-2)&&i&&" "!=i.data.charAt(0)||(n=n.substr(0,n.length-1)+" ")}return n.replace(/ {2}/g,"  ")}},{key:"_nodeEndsWithSpace",value:function(t){var e=this;if(t.getAncestors().some((function(t){return e.preElements.includes(t.name)})))return!1;var n=this._processDataFromViewText(t);return" "==n.charAt(n.length-1)}},{key:"_processDataFromDomText",value:function(t){var e=t.data;if(Td(t,this.preElements))return Uy(t);e=e.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(t,!1),r=this._getTouchingInlineDomNode(t,!0),o=this._checkShouldLeftTrimDomText(n),i=this._checkShouldRightTrimDomText(t,r);return o&&(e=e.replace(/^ /,"")),i&&(e=e.replace(/ $/,"")),e=Uy(new Text(e)),e=e.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(e)||!r||r.data&&" "==r.data.charAt(0))&&(e=e.replace(/\u00A0$/," ")),o&&(e=e.replace(/^\u00A0/," ")),e}},{key:"_checkShouldLeftTrimDomText",value:function(t){return!t||(!!aa(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))}},{key:"_checkShouldRightTrimDomText",value:function(t,e){return!e&&!Ly(t)}},{key:"_getTouchingViewTextNode",value:function(t,e){var n,r=new yh({startPosition:e?bh._createAfter(t):bh._createBefore(t),direction:e?"forward":"backward"}),o=Sd(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.item.is("containerElement"))return null;if(i.item.is("br"))return null;if(i.item.is("textProxy"))return i.item}}catch(a){o.e(a)}finally{o.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(t,e){if(!t.parentNode)return null;var n=e?"nextNode":"previousNode",r=t.ownerDocument,o=md(t)[0],i=r.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return My(t)||"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});i.currentNode=t;var a=i[n]();if(null!==a){var u=bd(t,a);if(u&&!Td(t,this.blockElements,u)&&!Td(a,this.blockElements,u))return a}return null}}]),t}();function Td(t,e,n){var r=md(t);return n&&(r=r.slice(r.indexOf(n)+1)),r.some((function(t){return t.tagName&&e.includes(t.tagName.toLowerCase())}))}function Cd(t,e){while(t&&t!=dd.document)e(t),t=t.parentNode}function Id(t,e){var n=My(t)&&" "==t.data;return n&&Dd(t,e)&&1===t.parentNode.childNodes.length}function Dd(t,e){var n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Md(t){var e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}function Nd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Vd=mf({},Fa,{listenTo:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(td(t)||Md(t)){var i=this._getProxyEmitter(t)||new Fd(t);i.attach.apply(i,r),t=i}(e=Fa.listenTo).call.apply(e,[this,t].concat(r))},stopListening:function(t,e,n){if(td(t)||Md(t)){var r=this._getProxyEmitter(t);if(!r)return;t=r}Fa.stopListening.call(this,t,e,n),t instanceof Fd&&t.detach(e)},_getProxyEmitter:function(t){return La(this,Ld(t))}}),Bd=Vd,Fd=function t(e){Nd(this,t),za(this,Ld(e)),this._domNode=e};function Ld(t){return t["data-ck-expando"]||(t["data-ck-expando"]=_a())}function zd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hd(t,e,n){return e&&Ud(t.prototype,e),n&&Ud(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */mf(Fd.prototype,Fa,{attach:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._domListeners||!this._domListeners[t]){var r=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,r,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=r}},detach:function(t){var e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener:function(t,e){var n=this,r=function(e){n.fire(t,e)};return r.removeListener=function(){n._domNode.removeEventListener(t,r,e),delete n._domListeners[t]},r}});var $d=function(){function t(e){zd(this,t),this.view=e,this.document=e.document,this.isEnabled=!1}return Hd(t,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}}]),t}();Xa($d,Bd);var Wd="__lodash_hash_undefined__";function qd(t){return this.__data__.set(t,Wd),this}var Yd=qd;function Gd(t){return this.__data__.has(t)}var Kd=Gd;function Jd(t){var e=-1,n=null==t?0:t.length;this.__data__=new Te;while(++e<n)this.add(t[e])}Jd.prototype.add=Jd.prototype.push=Yd,Jd.prototype.has=Kd;var Xd=Jd;function Zd(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var Qd=Zd;function tv(t,e){return t.has(e)}var ev=tv,nv=1,rv=2;function ov(t,e,n,r,o,i){var a=n&nv,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t);if(s&&i.get(e))return s==e;var l=-1,f=!0,h=n&rv?new Xd:void 0;i.set(t,e),i.set(e,t);while(++l<u){var p=t[l],y=e[l];if(r)var d=a?r(y,p,l,e,t,i):r(p,y,l,t,e,i);if(void 0!==d){if(d)continue;f=!1;break}if(h){if(!Qd(e,(function(t,e){if(!ev(h,e)&&(p===t||o(p,t,n,r,i)))return h.push(e)}))){f=!1;break}}else if(p!==y&&!o(p,y,n,r,i)){f=!1;break}}return i["delete"](t),i["delete"](e),f}var iv=ov;function av(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}var uv=av;function cv(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var sv=cv,lv=1,fv=2,hv="[object Boolean]",pv="[object Date]",yv="[object Error]",dv="[object Map]",vv="[object Number]",mv="[object RegExp]",bv="[object Set]",gv="[object String]",wv="[object Symbol]",_v="[object ArrayBuffer]",kv="[object DataView]",Sv=p?p.prototype:void 0,Ov=Sv?Sv.valueOf:void 0;function Pv(t,e,n,r,o,i,a){switch(n){case kv:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _v:return!(t.byteLength!=e.byteLength||!i(new Po(t),new Po(e)));case hv:case pv:case vv:return Y(+t,+e);case yv:return t.name==e.name&&t.message==e.message;case mv:case gv:return t==e+"";case dv:var u=uv;case bv:var c=r&lv;if(u||(u=sv),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=fv,a.set(t,e);var l=iv(u(t),u(e),r,o,i,a);return a["delete"](t),l;case wv:if(Ov)return Ov.call(t)==Ov.call(e)}return!1}var Av=Pv,Rv=1,jv=Object.prototype,Ev=jv.hasOwnProperty;function xv(t,e,n,r,o,i){var a=n&Rv,u=Kr(t),c=u.length,s=Kr(e),l=s.length;if(c!=l&&!a)return!1;var f=c;while(f--){var h=u[f];if(!(a?h in e:Ev.call(e,h)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var y=!0;i.set(t,e),i.set(e,t);var d=a;while(++f<c){h=u[f];var v=t[h],m=e[h];if(r)var b=a?r(m,v,h,e,t,i):r(v,m,h,t,e,i);if(!(void 0===b?v===m||o(v,m,n,r,i):b)){y=!1;break}d||(d="constructor"==h)}if(y&&!d){var g=t.constructor,w=e.constructor;g==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w||(y=!1)}return i["delete"](t),i["delete"](e),y}var Tv=xv,Cv=1,Iv="[object Arguments]",Dv="[object Array]",Mv="[object Object]",Nv=Object.prototype,Vv=Nv.hasOwnProperty;function Bv(t,e,n,r,o,i){var a=un(t),u=un(e),c=a?Dv:go(t),s=u?Dv:go(e);c=c==Iv?Mv:c,s=s==Iv?Mv:s;var l=c==Mv,f=s==Mv,h=c==s;if(h&&Object(cn["a"])(t)){if(!Object(cn["a"])(e))return!1;a=!0,l=!1}if(h&&!l)return i||(i=new Ne),a||Kn(t)?iv(t,e,n,r,o,i):Av(t,e,c,n,r,o,i);if(!(n&Cv)){var p=l&&Vv.call(t,"__wrapped__"),y=f&&Vv.call(e,"__wrapped__");if(p||y){var d=p?t.value():t,v=y?e.value():e;return i||(i=new Ne),o(d,v,n,r,i)}}return!!h&&(i||(i=new Ne),Tv(t,e,n,r,o,i))}var Fv=Bv;function Lv(t,e,n,r,o){return t===e||(null==t||null==e||!M(t)&&!M(e)?t!==t&&e!==e:Fv(t,e,n,r,Lv,o))}var zv=Lv;function Uv(t,e,n){n="function"==typeof n?n:void 0;var r=n?n(t,e):void 0;return void 0===r?zv(t,e,void 0,n):!!r}var Hv=Uv;function $v(t){return $v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(t)}function Wv(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=qv(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function qv(t,e){if(t){if("string"===typeof t)return Yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yv(t,e):void 0}}function Yv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jv(t,e,n){return e&&Kv(t.prototype,e),n&&Kv(t,n),t}function Xv(t,e,n){return Xv="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Zv(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Xv(t,e,n||t)}function Zv(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=im(t),null===t)break;return t}function Qv(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tm(t,e)}function tm(t,e){return tm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tm(t,e)}function em(t){var e=om();return function(){var n,r=im(t);if(e){var o=im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(t,e){return!e||"object"!==$v(e)&&"function"!==typeof e?rm(t):e}function rm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function om(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},im(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var am=function(t){Qv(n,t);var e=em(n);function n(t){var r;return Gv(this,n),r=e.call(this,t),r._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},r.domConverter=t.domConverter,r.renderer=t._renderer,r._domElements=[],r._mutationObserver=new window.MutationObserver(r._onMutations.bind(rm(r))),r}return Jv(n,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}},{key:"enable",value:function(){Xv(im(n.prototype),"enable",this).call(this);var t,e=Wv(this._domElements);try{for(e.s();!(t=e.n()).done;){var r=t.value;this._mutationObserver.observe(r,this._config)}}catch(o){e.e(o)}finally{e.f()}}},{key:"disable",value:function(){Xv(im(n.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){Xv(im(n.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(t){if(0!==t.length){var e,n=this.domConverter,r=new Map,o=new Set,i=Wv(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if("childList"===a.type){var u=n.mapDomToView(a.target);if(u&&u.is("uiElement"))continue;u&&!this._isBogusBrMutation(a)&&o.add(u)}}}catch(j){i.e(j)}finally{i.f()}var c,s=Wv(t);try{for(s.s();!(c=s.n()).done;){var l=c.value,f=n.mapDomToView(l.target);if((!f||!f.is("uiElement"))&&"characterData"===l.type){var h=n.findCorrespondingViewText(l.target);h&&!o.has(h.parent)?r.set(h,{type:"text",oldText:h.data,newText:Uy(l.target),node:h}):!h&&Ly(l.target)&&o.add(n.mapDomToView(l.target.parentNode))}}}catch(j){s.e(j)}finally{s.f()}var p,y=[],d=Wv(r.values());try{for(d.s();!(p=d.n()).done;){var v=p.value;this.renderer.markToSync("text",v.node),y.push(v)}}catch(j){d.e(j)}finally{d.f()}var m,b=Wv(o);try{for(b.s();!(m=b.n()).done;){var g=m.value,w=n.mapViewToDom(g),_=Array.from(g.getChildren()),k=Array.from(n.domChildrenToView(w,{withChildren:!1}));Hv(_,k,R)||(this.renderer.markToSync("children",g),y.push({type:"children",oldChildren:_,newChildren:k,node:g}))}}catch(j){b.e(j)}finally{b.f()}var S=t[0].target.ownerDocument.getSelection(),O=null;if(S&&S.anchorNode){var P=n.domPositionToView(S.anchorNode,S.anchorOffset),A=n.domPositionToView(S.focusNode,S.focusOffset);P&&A&&(O=new Vh(P),O.setFocus(A))}y.length&&(this.document.fire("mutations",y,O),this.view.forceRender())}function R(t,e){if(!Array.isArray(t))return t===e||!(!t.is("text")||!e.is("text"))&&t.data===e.data}}},{key:"_isBogusBrMutation",value:function(t){var e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}]),n}($d);function um(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sm(t,e,n){return e&&cm(t.prototype,e),n&&cm(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var lm=function(){function t(e,n,r){um(this,t),this.view=e,this.document=e.document,this.domEvent=n,this.domTarget=n.target,mf(this,r)}return sm(t,[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}]),t}();function fm(t){return fm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(t)}function hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ym(t,e,n){return e&&pm(t.prototype,e),n&&pm(t,n),t}function dm(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vm(t,e)}function vm(t,e){return vm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vm(t,e)}function mm(t){var e=wm();return function(){var n,r=_m(t);if(e){var o=_m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bm(this,n)}}function bm(t,e){return!e||"object"!==fm(e)&&"function"!==typeof e?gm(t):e}function gm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_m(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var km=function(t){dm(n,t);var e=mm(n);function n(t){var r;return hm(this,n),r=e.call(this,t),r.useCapture=!1,r}return ym(n,[{key:"observe",value:function(t){var e=this,n="string"==typeof this.domEventType?[this.domEventType]:this.domEventType;n.forEach((function(n){e.listenTo(t,n,(function(t,n){e.isEnabled&&e.onDomEvent(n)}),{useCapture:e.useCapture})}))}},{key:"fire",value:function(t,e,n){this.isEnabled&&this.document.fire(t,new lm(this.view,e,n))}}]),n}($d);function Sm(t){return Sm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(t)}function Om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Am(t,e,n){return e&&Pm(t.prototype,e),n&&Pm(t,n),t}function Rm(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jm(t,e)}function jm(t,e){return jm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jm(t,e)}function Em(t){var e=Cm();return function(){var n,r=Im(t);if(e){var o=Im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xm(this,n)}}function xm(t,e){return!e||"object"!==Sm(e)&&"function"!==typeof e?Tm(t):e}function Tm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Im(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Dm=function(t){Rm(n,t);var e=Em(n);function n(t){var r;return Om(this,n),r=e.call(this,t),r.domEventType=["keydown","keyup"],r}return Am(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return Np(this)}})}}]),n}(km),Mm=function(){return f["a"].Date.now()},Nm=Mm,Vm=NaN,Bm=/^\s+|\s+$/g,Fm=/^[-+]0x[0-9a-f]+$/i,Lm=/^0b[01]+$/i,zm=/^0o[0-7]+$/i,Um=parseInt;function Hm(t){if("number"==typeof t)return t;if(wc(t))return Vm;if(bt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=bt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Bm,"");var n=Lm.test(t);return n||zm.test(t)?Um(t.slice(2),n?2:8):Fm.test(t)?Vm:+t}var $m=Hm,Wm="Expected a function",qm=Math.max,Ym=Math.min;function Gm(t,e,n){var r,o,i,a,u,c,s=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError(Wm);function p(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n),a}function y(t){return s=t,u=setTimeout(m,e),l?p(t):a}function d(t){var n=t-c,r=t-s,o=e-n;return f?Ym(o,i-r):o}function v(t){var n=t-c,r=t-s;return void 0===c||n>=e||n<0||f&&r>=i}function m(){var t=Nm();if(v(t))return b(t);u=setTimeout(m,d(t))}function b(t){return u=void 0,h&&r?p(t):(r=o=void 0,a)}function g(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0}function w(){return void 0===u?a:b(Nm())}function _(){var t=Nm(),n=v(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return y(c);if(f)return clearTimeout(u),u=setTimeout(m,e),p(c)}return void 0===u&&(u=setTimeout(m,e)),a}return e=$m(e)||0,bt(n)&&(l=!!n.leading,f="maxWait"in n,i=f?qm($m(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),_.cancel=g,_.flush=w,_}var Km=Gm;function Jm(t){return Jm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(t)}function Xm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qm(t,e,n){return e&&Zm(t.prototype,e),n&&Zm(t,n),t}function tb(t,e,n){return tb="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=eb(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},tb(t,e,n||t)}function eb(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=cb(t),null===t)break;return t}function nb(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rb(t,e)}function ob(t){var e=ub();return function(){var n,r=cb(t);if(e){var o=cb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ib(this,n)}}function ib(t,e){return!e||"object"!==Jm(e)&&"function"!==typeof e?ab(t):e}function ab(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ub(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cb(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var sb=function(t){nb(n,t);var e=ob(n);function n(t){var r;return Xm(this,n),r=e.call(this,t),r._fireSelectionChangeDoneDebounced=Km((function(t){return r.document.fire("selectionChangeDone",t)}),200),r}return Qm(n,[{key:"observe",value:function(){var t=this,e=this.document;e.on("keydown",(function(n,r){var o=e.selection;o.isFake&&lb(r.keyCode)&&t.isEnabled&&(r.preventDefault(),t._handleSelectionMove(r.keyCode))}),{priority:"lowest"})}},{key:"destroy",value:function(){tb(cb(n.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(t){var e=this.document.selection,n=new Vh(e.getRanges(),{backward:e.isBackward,fake:!1});t!=Mp.arrowleft&&t!=Mp.arrowup||n.setTo(n.getFirstPosition()),t!=Mp.arrowright&&t!=Mp.arrowdown||n.setTo(n.getLastPosition());var r={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}]),n}($d);function lb(t){return t==Mp.arrowright||t==Mp.arrowleft||t==Mp.arrowup||t==Mp.arrowdown}function fb(t){return fb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fb(t)}function hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yb(t,e,n){return e&&pb(t.prototype,e),n&&pb(t,n),t}function db(t,e,n){return db="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=vb(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},db(t,e,n||t)}function vb(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Sb(t),null===t)break;return t}function mb(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},bb(t,e)}function gb(t){var e=kb();return function(){var n,r=Sb(t);if(e){var o=Sb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wb(this,n)}}function wb(t,e){return!e||"object"!==fb(e)&&"function"!==typeof e?_b(t):e}function _b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sb(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ob=function(t){mb(n,t);var e=gb(n);function n(t){var r;return hb(this,n),r=e.call(this,t),r.mutationObserver=t.getObserver(am),r.selection=r.document.selection,r.domConverter=t.domConverter,r._documents=new WeakSet,r._fireSelectionChangeDoneDebounced=Km((function(t){return r.document.fire("selectionChangeDone",t)}),200),r._clearInfiniteLoopInterval=setInterval((function(){return r._clearInfiniteLoop()}),1e3),r._loopbackCounter=0,r}return yb(n,[{key:"observe",value:function(t){var e=this,n=t.ownerDocument;this._documents.has(n)||(this.listenTo(n,"selectionchange",(function(){e._handleSelectionChange(n)})),this._documents.add(n))}},{key:"destroy",value:function(){db(Sb(n.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(t){if(this.isEnabled){this.mutationObserver.flush();var e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,(!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(e))&&!(++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{var r={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}else this.view.hasDomSelection=!1}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),n}($d);function Pb(t){return Pb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(t)}function Ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jb(t,e,n){return e&&Rb(t.prototype,e),n&&Rb(t,n),t}function Eb(t,e,n){return Eb="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=xb(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Eb(t,e,n||t)}function xb(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Vb(t),null===t)break;return t}function Tb(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cb(t,e)}function Cb(t,e){return Cb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Cb(t,e)}function Ib(t){var e=Nb();return function(){var n,r=Vb(t);if(e){var o=Vb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(t,e){return!e||"object"!==Pb(e)&&"function"!==typeof e?Mb(t):e}function Mb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Vb(t){return Vb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vb(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Bb=function(t){Tb(n,t);var e=Ib(n);function n(t){var r;Ab(this,n),r=e.call(this,t),r.domEventType=["focus","blur"],r.useCapture=!0;var o=r.document;return o.on("focus",(function(){o.isFocused=!0,r._renderTimeoutId=setTimeout((function(){return t.forceRender()}),50)})),o.on("blur",(function(e,n){var r=o.selection.editableElement;null!==r&&r!==n.target||(o.isFocused=!1,t.forceRender())})),r}return jb(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),Eb(Vb(n.prototype),"destroy",this).call(this)}}]),n}(km);function Fb(t){return Fb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(t)}function Lb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ub(t,e,n){return e&&zb(t.prototype,e),n&&zb(t,n),t}function Hb(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$b(t,e)}function $b(t,e){return $b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$b(t,e)}function Wb(t){var e=Gb();return function(){var n,r=Kb(t);if(e){var o=Kb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qb(this,n)}}function qb(t,e){return!e||"object"!==Fb(e)&&"function"!==typeof e?Yb(t):e}function Yb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Kb(t){return Kb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kb(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Jb=function(t){Hb(n,t);var e=Wb(n);function n(t){var r;Lb(this,n),r=e.call(this,t),r.domEventType=["compositionstart","compositionupdate","compositionend"];var o=r.document;return o.on("compositionstart",(function(){o.isComposing=!0})),o.on("compositionend",(function(){o.isComposing=!1})),r}return Ub(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),n}(km);function Xb(t){return Xb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(t)}function Zb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tg(t,e,n){return e&&Qb(t.prototype,e),n&&Qb(t,n),t}function eg(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ng(t,e)}function ng(t,e){return ng=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ng(t,e)}function rg(t){var e=ag();return function(){var n,r=ug(t);if(e){var o=ug(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return og(this,n)}}function og(t,e){return!e||"object"!==Xb(e)&&"function"!==typeof e?ig(t):e}function ig(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ag(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ug(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var cg=function(t){eg(n,t);var e=rg(n);function n(t){var r;return Zb(this,n),r=e.call(this,t),r.domEventType=["beforeinput"],r}return tg(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),n}(km);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sg(t){return"[object Range]"==Object.prototype.toString.apply(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function lg(t){var e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function fg(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=hg(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function hg(t,e){if(t){if("string"===typeof t)return pg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pg(t,e):void 0}}function pg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vg(t,e,n){return e&&dg(t.prototype,e),n&&dg(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var mg=["top","right","bottom","left","width","height"],bg=function(){function t(e){yg(this,t);var n=sg(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),aa(e)||n)gg(this,n?t.getDomRangeRects(e)[0]:e.getBoundingClientRect());else if(Md(e)){var r=e.innerWidth,o=e.innerHeight;gg(this,{top:0,right:r,bottom:o,left:0,width:r,height:o})}else gg(this,e)}return vg(t,[{key:"clone",value:function(){return new t(this)}},{key:"moveTo",value:function(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}},{key:"moveBy",value:function(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}},{key:"getIntersection",value:function(e){var n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new t(n)}},{key:"getIntersectionArea",value:function(t){var e=this.getIntersection(t);return e?e.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var e=this._source,n=this.clone();if(!wg(e)){var r=e.parentNode||e.commonAncestorContainer;while(r&&!wg(r)){var o=new t(r),i=n.getIntersection(o);if(!i)return null;i.getArea()<n.getArea()&&(n=i),r=r.parentNode}}return n}},{key:"isEqual",value:function(t){var e,n=fg(mg);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(this[r]!==t[r])return!1}}catch(o){n.e(o)}finally{n.f()}return!0}},{key:"contains",value:function(t){var e=this.getIntersection(t);return!(!e||!e.isEqual(t))}},{key:"excludeScrollbarsAndBorders",value:function(){var t,e,n,r=this._source;if(Md(r))t=r.innerWidth-r.document.documentElement.clientWidth,e=r.innerHeight-r.document.documentElement.clientHeight,n=r.getComputedStyle(r.document.documentElement).direction;else{var o=lg(this._source);t=r.offsetWidth-r.clientWidth-o.left-o.right,e=r.offsetHeight-r.clientHeight-o.top-o.bottom,n=r.ownerDocument.defaultView.getComputedStyle(r).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===n?this.right-=t:this.left+=t,this.height-=e,this.bottom-=e,this}}],[{key:"getDomRangeRects",value:function(e){var n=[],r=Array.from(e.getClientRects());if(r.length){var o,i=fg(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.push(new t(a))}}catch(s){i.e(s)}finally{i.f()}}else{var u=e.startContainer;My(u)&&(u=u.parentNode);var c=new t(u.getBoundingClientRect());c.right=c.left,c.width=0,n.push(c)}return n}}]),t}();function gg(t,e){var n,r=fg(mg);try{for(r.s();!(n=r.n()).done;){var o=n.value;t[o]=e[o]}}catch(i){r.e(i)}finally{r.f()}}function wg(t){return!!aa(t)&&t===t.ownerDocument.body}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var _g={};function kg(t){var e=t.target,n=t.viewportOffset,r=void 0===n?0:n,o=xg(e),i=o,a=null;while(i){var u=void 0;u=Tg(i==o?e:a),Pg(u,(function(){return Cg(e,i)}));var c=Cg(e,i);if(Og(i,c,r),i.parent!=i){if(a=i.frameElement,i=i.parent,!a)return}else i=null}}function Sg(t){var e=Tg(t);Pg(e,(function(){return new bg(t)}))}function Og(t,e,n){var r=e.clone().moveBy(0,n),o=e.clone().moveBy(0,-n),i=new bg(t).excludeScrollbarsAndBorders(),a=[o,r];if(!a.every((function(t){return i.contains(t)}))){var u=t.scrollX,c=t.scrollY;Rg(o,i)?c-=i.top-e.top+n:Ag(r,i)&&(c+=e.bottom-i.bottom+n),jg(e,i)?u-=i.left-e.left+n:Eg(e,i)&&(u+=e.right-i.right+n),t.scrollTo(u,c)}}function Pg(t,e){var n,r,o=xg(t);while(t!=o.document.body)r=e(),n=new bg(t).excludeScrollbarsAndBorders(),n.contains(r)||(Rg(r,n)?t.scrollTop-=n.top-r.top:Ag(r,n)&&(t.scrollTop+=r.bottom-n.bottom),jg(r,n)?t.scrollLeft-=n.left-r.left:Eg(r,n)&&(t.scrollLeft+=r.right-n.right)),t=t.parentNode}function Ag(t,e){return t.bottom>e.bottom}function Rg(t,e){return t.top<e.top}function jg(t,e){return t.left<e.left}function Eg(t,e){return t.right>e.right}function xg(t){return sg(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Tg(t){if(sg(t)){var e=t.commonAncestorContainer;return My(e)&&(e=e.parentNode),e}return t.parentNode}function Cg(t,e){var n=xg(t),r=new bg(t);if(n===e)return r;var o=n;while(o!=e){var i=o.frameElement,a=new bg(i).excludeScrollbarsAndBorders();r.moveBy(a.left,a.top),o=o.parent}return r}function Ig(t,e){return Ng(t)||Mg(t,e)||Bg(t,e)||Dg()}function Dg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mg(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function Ng(t){if(Array.isArray(t))return t}function Vg(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Bg(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Bg(t,e){if(t){if("string"===typeof t)return Fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fg(t,e):void 0}}function Fg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ug(t,e,n){return e&&zg(t.prototype,e),n&&zg(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.assign(_g,{scrollViewportToShowTarget:kg,scrollAncestorsToShowTarget:Sg});var Hg=function(){function t(e){var n=this;Lg(this,t),this.document=new Gh(e),this.domConverter=new xd(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ud(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Sy(this.document),this.addObserver(am),this.addObserver(Ob),this.addObserver(Bb),this.addObserver(Dm),this.addObserver(sb),this.addObserver(Jb),Rp.isAndroid&&this.addObserver(cg),Hy(this),ny(this),this.on("render",(function(){n._render(),n.document.fire("layoutChanged"),n._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(function(){n._hasChangedSinceTheLastRendering=!0}))}return Ug(t,[{key:"attachDomRoot",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",r=this.document.getRoot(n);r._name=t.tagName.toLowerCase();for(var o={},i=0,a=Array.from(t.attributes);i<a.length;i++){var u=a[i],c=u.name,s=u.value;o[c]=s,"class"===c?this._writer.addClass(s.split(" "),r):this._writer.setAttribute(c,s,r)}this._initialDomRootAttributes.set(t,o);var l=function(){e._writer.setAttribute("contenteditable",!r.isReadOnly,r),r.isReadOnly?e._writer.addClass("ck-read-only",r):e._writer.removeClass("ck-read-only",r)};l(),this.domRoots.set(n,t),this.domConverter.bindElements(t,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(t.ownerDocument),r.on("change:children",(function(t,n){return e._renderer.markToSync("children",n)})),r.on("change:attributes",(function(t,n){return e._renderer.markToSync("attributes",n)})),r.on("change:text",(function(t,n){return e._renderer.markToSync("text",n)})),r.on("change:isReadOnly",(function(){return e.change(l)})),r.on("change",(function(){e._hasChangedSinceTheLastRendering=!0}));var f,h=Vg(this._observers.values());try{for(h.s();!(f=h.n()).done;){var p=f.value;p.observe(t,n)}}catch(y){h.e(y)}finally{h.f()}}},{key:"detachDomRoot",value:function(t){var e=this.domRoots.get(t);Array.from(e.attributes).forEach((function(t){var n=t.name;return e.removeAttribute(n)}));var n=this._initialDomRootAttributes.get(e);for(var r in n)e.setAttribute(r,n[r]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}},{key:"getDomRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(t)}},{key:"addObserver",value:function(t){var e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);var n,r=Vg(this.domRoots);try{for(r.s();!(n=r.n()).done;){var o=Ig(n.value,2),i=o[0],a=o[1];e.observe(a,i)}}catch(u){r.e(u)}finally{r.f()}return e.enable(),e}},{key:"getObserver",value:function(t){return this._observers.get(t)}},{key:"disableObservers",value:function(){var t,e=Vg(this._observers.values());try{for(e.s();!(t=e.n()).done;){var n=t.value;n.disable()}}catch(r){e.e(r)}finally{e.f()}}},{key:"enableObservers",value:function(){var t,e=Vg(this._observers.values());try{for(e.s();!(t=e.n()).done;){var n=t.value;n.enable()}}catch(r){e.e(r)}finally{e.f()}}},{key:"scrollToTheSelection",value:function(){var t=this.document.selection.getFirstRange();t&&kg({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}},{key:"change",value:function(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Oa["b"]("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;var e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(n){Oa["b"].rethrowUnexpectedError(n,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change((function(){}))}},{key:"destroy",value:function(){var t,e=Vg(this._observers.values());try{for(e.s();!(t=e.n()).done;){var n=t.value;n.destroy()}}catch(r){e.e(r)}finally{e.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(t,e){return bh._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return bh._createAfter(t)}},{key:"createPositionBefore",value:function(t){return bh._createBefore(t)}},{key:"createRange",value:function(t,e){return new Ph(t,e)}},{key:"createRangeOn",value:function(t){return Ph._createOn(t)}},{key:"createRangeIn",value:function(t){return Ph._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Vh(t,e,n)}},{key:"_disableRendering",value:function(t){this._renderingDisabled=t,0==t&&this.change((function(){}))}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),t}();function $g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qg(t,e,n){return e&&Wg(t.prototype,e),n&&Wg(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(Hg,Ef);var Yg=function(){function t(e){$g(this,t),this.parent=null,this._attrs=oc(e)}return qg(t,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){var t=[],e=this;while(e.parent)t.unshift(e.startOffset),e=e.parent;return t}},{key:"getAncestors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;while(n)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"getCommonAncestor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(e),r=t.getAncestors(e),o=0;while(n[o]==r[o]&&n[o])o++;return 0===o?null:n[o-1]}},{key:"isBefore",value:function(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),r=Iu(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}},{key:"isAfter",value:function(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}},{key:"hasAttribute",value:function(t){return this._attrs.has(t)}},{key:"getAttribute",value:function(t){return this._attrs.get(t)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((function(t,e){return t[e[0]]=e[1],t}),{})),t}},{key:"is",value:function(t){return"node"===t||"model:node"===t}},{key:"_clone",value:function(){return new t(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(t,e){this._attrs.set(t,e)}},{key:"_setAttributesTo",value:function(t){this._attrs=oc(t)}},{key:"_removeAttribute",value:function(t){return this._attrs.delete(t)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}},{key:"index",get:function(){var t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new Oa["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}},{key:"startOffset",get:function(){var t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new Oa["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null}},{key:"previousSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null}},{key:"root",get:function(){var t=this;while(t.parent)t=t.parent;return t}}]),t}();function Gg(t){return Gg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(t)}function Kg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xg(t,e,n){return e&&Jg(t.prototype,e),n&&Jg(t,n),t}function Zg(t,e,n){return Zg="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Qg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Zg(t,e,n||t)}function Qg(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=aw(t),null===t)break;return t}function tw(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ew(t,e)}function nw(t){var e=iw();return function(){var n,r=aw(t);if(e){var o=aw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rw(this,n)}}function rw(t,e){return!e||"object"!==Gg(e)&&"function"!==typeof e?ow(t):e}function ow(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},aw(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var uw=function(t){tw(n,t);var e=nw(n);function n(t,r){var o;return Kg(this,n),o=e.call(this,r),o._data=t||"",o}return Xg(n,[{key:"is",value:function(t){return"text"===t||"model:text"===t||"node"===t||"model:node"===t}},{key:"toJSON",value:function(){var t=Zg(aw(n.prototype),"toJSON",this).call(this);return t.data=this.data,t}},{key:"_clone",value:function(){return new n(this.data,this.getAttributes())}},{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}}],[{key:"fromJSON",value:function(t){return new n(t.data,t.attributes)}}]),n}(Yg);function cw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lw(t,e,n){return e&&sw(t.prototype,e),n&&sw(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var fw=function(){function t(e,n,r){if(cw(this,t),this.textNode=e,n<0||n>e.offsetSize)throw new Oa["b"]("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(r<0||n+r>e.offsetSize)throw new Oa["b"]("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}return lw(t,[{key:"is",value:function(t){return"textProxy"===t||"model:textProxy"===t}},{key:"getPath",value:function(){var t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}},{key:"getAncestors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;while(n)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"hasAttribute",value:function(t){return this.textNode.hasAttribute(t)}},{key:"getAttribute",value:function(t){return this.textNode.getAttribute(t)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}}]),t}();function hw(t){return dw(t)||yw(t)||mw(t)||pw()}function pw(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yw(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function dw(t){if(Array.isArray(t))return bw(t)}function vw(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=mw(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function mw(t,e){if(t){if("string"===typeof t)return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bw(t,e):void 0}}function bw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ww(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _w(t,e,n){return e&&ww(t.prototype,e),n&&ww(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var kw=function(){function t(e){gw(this,t),this._nodes=[],e&&this._insertNodes(0,e)}return _w(t,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(t){return this._nodes[t]||null}},{key:"getNodeIndex",value:function(t){var e=this._nodes.indexOf(t);return-1==e?null:e}},{key:"getNodeStartOffset",value:function(t){var e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((function(t,e){return t+e.offsetSize}),0)}},{key:"indexToOffset",value:function(t){if(t==this._nodes.length)return this.maxOffset;var e=this._nodes[t];if(!e)throw new Oa["b"]("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(t){var e,n=0,r=vw(this._nodes);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(t>=n&&t<n+o.offsetSize)return this.getNodeIndex(o);n+=o.offsetSize}}catch(i){r.e(i)}finally{r.f()}if(n!=t)throw new Oa["b"]("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:t,nodeList:this});return this.length}},{key:"_insertNodes",value:function(t,e){var n,r,o=vw(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(!(i instanceof Yg))throw new Oa["b"]("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this)}}catch(a){o.e(a)}finally{o.f()}(n=this._nodes).splice.apply(n,[t,0].concat(hw(e)))}},{key:"_removeNodes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(t,e)}},{key:"toJSON",value:function(){return this._nodes.map((function(t){return t.toJSON()}))}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce((function(t,e){return t+e.offsetSize}),0)}}]),t}();function Sw(t){return Sw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sw(t)}function Ow(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Pw(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Pw(t,e){if(t){if("string"===typeof t)return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aw(t,e):void 0}}function Aw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ew(t,e,n){return e&&jw(t.prototype,e),n&&jw(t,n),t}function xw(t,e,n){return xw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Tw(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},xw(t,e,n||t)}function Tw(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Bw(t),null===t)break;return t}function Cw(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Iw(t,e)}function Dw(t){var e=Vw();return function(){var n,r=Bw(t);if(e){var o=Bw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mw(this,n)}}function Mw(t,e){return!e||"object"!==Sw(e)&&"function"!==typeof e?Nw(t):e}function Nw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Bw(t){return Bw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bw(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Fw=function(t){Cw(n,t);var e=Dw(n);function n(t,r,o){var i;return Rw(this,n),i=e.call(this,r),i.name=t,i._children=new kw,o&&i._insertChild(0,o),i}return Ew(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||t===this.name||t==="model:"+this.name||"node"===t||"model:node"===t}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"getNodeByPath",value:function(t){var e,n=this,r=Ow(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=n.getChild(n.offsetToIndex(o))}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"toJSON",value:function(){var t=xw(Bw(n.prototype),"toJSON",this).call(this);if(t.name=this.name,this._children.length>0){t.children=[];var e,r=Ow(this._children);try{for(r.s();!(e=r.n()).done;){var o=e.value;t.children.push(o.toJSON())}}catch(i){r.e(i)}finally{r.f()}}return t}},{key:"_clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?Array.from(this._children).map((function(t){return t._clone(!0)})):null;return new n(this.name,this.getAttributes(),e)}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){var n,r=Lw(e),o=Ow(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;null!==i.parent&&i._remove(),i.parent=this}}catch(a){o.e(a)}finally{o.f()}this._children._insertNodes(t,r)}},{key:"_removeChildren",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this._children._removeNodes(t,n),o=Ow(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;i.parent=null}}catch(a){o.e(a)}finally{o.f()}return r}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}],[{key:"fromJSON",value:function(t){var e=null;if(t.children){e=[];var r,o=Ow(t.children);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.name?e.push(n.fromJSON(i)):e.push(uw.fromJSON(i))}}catch(a){o.e(a)}finally{o.f()}}return new n(t.name,t.attributes,e)}}]),n}(Yg);function Lw(t){return"string"==typeof t?[new uw(t)]:(Ja(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new uw(t):t instanceof fw?new uw(t.data,t.getAttributes()):t})))}function zw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hw(t,e,n){return e&&Uw(t.prototype,e),n&&Uw(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var $w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(zw(this,t),!e.boundaries&&!e.startPosition)throw new Oa["b"]("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);var n=e.direction||"forward";if("forward"!=n&&"backward"!=n)throw new Oa["b"]("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this.position=e.startPosition.clone():this.position=e_._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return Hw(t,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(t){var e,n,r,o;do{r=this.position,o=this._visitedParent;var i=this.next();e=i.done,n=i.value}while(!e&&t(n));e||(this.position=r,this._visitedParent=o)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var r=e.parent,o=n_(e,r),i=o||r_(e,r,o);if(i instanceof Fw)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,Ww("elementStart",i,t,e,1);if(i instanceof uw){var a;if(this.singleCharacters)a=1;else{var u=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<u&&(u=this.boundaries.end.offset),a=u-e.offset}var c=e.offset-i.startOffset,s=new fw(i,c,a);return e.offset+=a,this.position=e,Ww("text",s,t,e,a)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Ww("elementEnd",n,t,e)}},{key:"_previous",value:function(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var r=e.parent,o=n_(e,r),i=o||o_(e,r,o);if(i instanceof Fw)return e.offset--,this.shallow?(this.position=e,Ww("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():Ww("elementEnd",i,t,e));if(i instanceof uw){var a;if(this.singleCharacters)a=1;else{var u=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),a=e.offset-u}var c=e.offset-i.startOffset,s=new fw(i,c-a,a);return e.offset-=a,this.position=e,Ww("text",s,t,e,a)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,Ww("elementStart",n,t,e,1)}}]),t}();function Ww(t,e,n,r,o){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:o}}}function qw(t){return Jw(t)||Kw(t)||Gw(t)||Yw()}function Yw(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gw(t,e){if(t){if("string"===typeof t)return Xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xw(t,e):void 0}}function Kw(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Jw(t){if(Array.isArray(t))return Xw(t)}function Xw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t_(t,e,n){return e&&Qw(t.prototype,e),n&&Qw(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var e_=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(Zw(this,t),!e.is("element")&&!e.is("documentFragment"))throw new Oa["b"]("model-position-root-invalid: Position root invalid.",e);if(!(n instanceof Array)||0===n.length)throw new Oa["b"]("model-position-path-incorrect-format: Position path must be an array with at least one item.",e,{path:n});e.is("rootElement")?n=n.slice():(n=[].concat(qw(e.getPath()),qw(n)),e=e.root),this.root=e,this.path=n,this.stickiness=r}return t_(t,[{key:"compareWith",value:function(t){if(this.root!=t.root)return"different";var e=Iu(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var n=new $w(e);return n.skip(t),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}},{key:"getCommonPath",value:function(t){if(this.root!=t.root)return[];var e=Iu(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(t){var e=this.getAncestors(),n=t.getAncestors(),r=0;while(e[r]==n[r]&&e[r])r++;return 0===r?null:e[r-1]}},{key:"getShiftedBy",value:function(t){var e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isEqual",value:function(t){return"same"==this.compareWith(t)}},{key:"isTouching",value:function(e){var n=null,r=null,o=this.compareWith(e);switch(o){case"same":return!0;case"before":n=t._createAt(this),r=t._createAt(e);break;case"after":n=t._createAt(e),r=t._createAt(this);break;default:return!1}var i=n.parent;while(n.path.length+r.path.length){if(n.isEqual(r))return!0;if(n.path.length>r.path.length){if(n.offset!==i.maxOffset)return!1;n.path=n.path.slice(0,-1),i=i.parent,n.offset++}else{if(0!==r.offset)return!1;r.path=r.path.slice(0,-1)}}}},{key:"is",value:function(t){return"position"===t||"model:position"===t}},{key:"hasSameParentAs",value:function(t){if(this.root!==t.root)return!1;var e=this.getParentPath(),n=t.getParentPath();return"same"==Iu(e,n)}},{key:"getTransformedByOperation",value:function(e){var n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=t._createAt(this);break}return n}},{key:"_getTransformedByInsertOperation",value:function(t){return this._getTransformedByInsertion(t.position,t.howMany)}},{key:"_getTransformedByMoveOperation",value:function(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}},{key:"_getTransformedBySplitOperation",value:function(t){var e=t.movedRange,n=e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness;return n?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var n,r=e.movedRange,o=r.containsPosition(this)||r.start.isEqual(this);return o?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?t._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(e,n){var r=t._createAt(this);if(this.root!=e.root)return r;if("same"==Iu(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;r.offset-=n}}else if("prefix"==Iu(e.getParentPath(),this.getParentPath())){var o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+n>this.path[o])return null;r.path[o]-=n}}return r}},{key:"_getTransformedByInsertion",value:function(e,n){var r=t._createAt(this);if(this.root!=e.root)return r;if("same"==Iu(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(r.offset+=n);else if("prefix"==Iu(e.getParentPath(),this.getParentPath())){var o=e.path.length-1;e.offset<=this.path[o]&&(r.path[o]+=n)}return r}},{key:"_getTransformedByMove",value:function(e,n,r){if(n=n._getTransformedByDeletion(e,r),e.isEqual(n))return t._createAt(this);var o=this._getTransformedByDeletion(e,r),i=null===o||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(r).isEqual(this)&&"toPrevious"==this.stickiness;return i?this._getCombined(e,n):o._getTransformedByInsertion(n,r)}},{key:"_getCombined",value:function(e,n){var r=e.path.length-1,o=t._createAt(n);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[r]-e.offset,o.path=[].concat(qw(o.path),qw(this.path.slice(r+1))),o}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(t){this.path[this.path.length-1]=t}},{key:"parent",get:function(){for(var t=this.root,e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new Oa["b"]("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(t.is("text"))throw new Oa["b"]("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return t}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return n_(this,this.parent)}},{key:"nodeAfter",get:function(){var t=this.parent;return r_(this,t,n_(this,t))}},{key:"nodeBefore",get:function(){var t=this.parent;return o_(this,t,n_(this,t))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"_createAt",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof t)return new t(e.root,e.path,e.stickiness);var o=e;if("end"==n)n=o.maxOffset;else{if("before"==n)return this._createBefore(o,r);if("after"==n)return this._createAfter(o,r);if(0!==n&&!n)throw new Oa["b"]("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new Oa["b"]("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,e]);var i=o.getPath();return i.push(n),new this(o.root,i,r)}},{key:"_createAfter",value:function(t,e){if(!t.parent)throw new Oa["b"]("model-position-after-root: You cannot make a position after root.",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}},{key:"_createBefore",value:function(t,e){if(!t.parent)throw new Oa["b"]("model-position-before-root: You cannot make a position before root.",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}},{key:"fromJSON",value:function(e,n){if("$graveyard"===e.root){var r=new t(n.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!n.getRoot(e.root))throw new Oa["b"]("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",n,{rootName:e.root});return new t(n.getRoot(e.root),e.path,e.stickiness)}}]),t}();function n_(t,e){var n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("text")&&n.startOffset<t.offset?n:null}function r_(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function o_(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}function i_(t){return c_(t)||u_(t)||l_(t)||a_()}function a_(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u_(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c_(t){if(Array.isArray(t))return f_(t)}function s_(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l_(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function l_(t,e){if(t){if("string"===typeof t)return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f_(t,e):void 0}}function f_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y_(t,e,n){return e&&p_(t.prototype,e),n&&p_(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var d_=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;h_(this,t),this.start=e_._createAt(e),this.end=n?e_._createAt(n):e_._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return y_(t,[{key:Symbol.iterator,value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(new $w({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}},{key:"containsItem",value:function(t){var e=e_._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}},{key:"is",value:function(t){return"range"===t||"model:range"===t}},{key:"isEqual",value:function(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}},{key:"getDifference",value:function(e){var n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new t(this.start,e.start)),this.containsPosition(e.end)&&n.push(new t(e.end,this.end))):n.push(new t(this.start,this.end)),n}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var n=this.start,r=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(r=e.end),new t(n,r)}return null}},{key:"getMinimalFlatRanges",value:function(){var e=[],n=this.start.getCommonPath(this.end).length,r=e_._createAt(this.start),o=r.parent;while(r.path.length>n+1){var i=o.maxOffset-r.offset;0!==i&&e.push(new t(r,r.getShiftedBy(i))),r.path=r.path.slice(0,-1),r.offset++,o=o.parent}while(r.path.length<=this.end.path.length){var a=this.end.path[r.path.length-1],u=a-r.offset;0!==u&&e.push(new t(r,r.getShiftedBy(u))),r.offset=a,r.path.push(0)}return e}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new $w(t)}},{key:"getItems",value:a.a.mark((function t(){var e,n,r,o,i,u=arguments;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=u.length>0&&void 0!==u[0]?u[0]:{},e.boundaries=this,e.ignoreElementEnd=!0,n=new $w(e),r=s_(n),t.prev=5,r.s();case 7:if((o=r.n()).done){t.next=13;break}return i=o.value,t.next=11,i.item;case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](5),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[5,15,18,21]])}))},{key:"getPositions",value:a.a.mark((function t(){var e,n,r,o,i,u=arguments;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},e.boundaries=this,n=new $w(e),t.next=5,n.position;case 5:r=s_(n),t.prev=6,r.s();case 8:if((o=r.n()).done){t.next=14;break}return i=o.value,t.next=12,i.nextPosition;case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](6),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,this,[[6,16,19,22]])}))},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new t(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var n,r=[new t(this.start,this.end)],o=s_(e);try{for(o.s();!(n=o.n()).done;)for(var i=n.value,a=0;a<r.length;a++){var u=r[a].getTransformedByOperation(i);r.splice.apply(r,[a,1].concat(i_(u))),a+=u.length-1}}catch(h){o.e(h)}finally{o.f()}for(var c=0;c<r.length;c++)for(var s=r[c],l=c+1;l<r.length;l++){var f=r[l];(s.containsRange(f)||f.containsRange(s)||s.isEqual(f))&&r.splice(l,1)}return r}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(t.position,t.howMany,e)}},{key:"_getTransformedByMoveOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.sourcePosition,r=t.howMany,o=t.targetPosition;return this._getTransformedByMove(n,o,r,e)}},{key:"_getTransformedBySplitOperation",value:function(e){var n=this.start._getTransformedBySplitOperation(e),r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),n.root!=r.root&&(r=this.end.getShiftedBy(-1)),new t(n,r)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new t(this.start);var n=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return n.root!=r.root&&(r=this.end.getShiftedBy(-1)),n.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(n=e_._createAt(r),n.offset=0):(e.deletionPosition.isEqual(n)||(r=e.deletionPosition),n=e.targetPosition),new t(n,r)):new t(n,r)}},{key:"_getTransformedByInsertion",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r&&this.containsPosition(e))return[new t(this.start,e),new t(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];var o=new t(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,n),o.end=o.end._getTransformedByInsertion(e,n),[o]}},{key:"_getTransformedByMove",value:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var i=this.start._getTransformedByMove(e,n,r);return[new t(i)]}var a,u=t._createFromPositionAndShift(e,r),c=n._getTransformedByDeletion(e,r);if(this.containsPosition(n)&&!o&&(u.containsPosition(this.start)||u.containsPosition(this.end))){var s=this.start._getTransformedByMove(e,n,r),l=this.end._getTransformedByMove(e,n,r);return[new t(s,l)]}var f=this.getDifference(u),h=null,p=this.getIntersection(u);if(1==f.length?h=new t(f[0].start._getTransformedByDeletion(e,r),f[0].end._getTransformedByDeletion(e,r)):2==f.length&&(h=new t(this.start,this.end._getTransformedByDeletion(e,r))),a=h?h._getTransformedByInsertion(c,r,null!==p||o):[],p){var y=new t(p.start._getCombined(u.start,c),p.end._getCombined(u.start,c));2==a.length?a.splice(1,0,y):a.push(y)}return a}},{key:"_getTransformedByDeletion",value:function(e,n){var r=this.start._getTransformedByDeletion(e,n),o=this.end._getTransformedByDeletion(e,n);return null==r&&null==o?null:(null==r&&(r=e),null==o&&(o=e),new t(r,o))}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){var t=this.start.getParentPath(),e=this.end.getParentPath();return"same"==Iu(t,e)}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromPositionAndShift",value:function(t,e){var n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}},{key:"_createIn",value:function(t){return new this(e_._createAt(t,0),e_._createAt(t,t.maxOffset))}},{key:"_createOn",value:function(t){return this._createFromPositionAndShift(e_._createBefore(t),t.offsetSize)}},{key:"_createFromRanges",value:function(t){if(0===t.length)throw new Oa["b"]("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==t.length)return t[0].clone();var e=t[0];t.sort((function(t,e){return t.start.isAfter(e.start)?1:-1}));var n=t.indexOf(e),r=new this(e.start,e.end);if(n>0)for(var o=n-1;1;o++){if(!t[o].end.isEqual(r.start))break;r.start=e_._createAt(t[o].start)}for(var i=n+1;i<t.length;i++){if(!t[i].start.isEqual(r.end))break;r.end=e_._createAt(t[i].end)}return r}},{key:"fromJSON",value:function(t,e){return new this(e_.fromJSON(t.start,e),e_.fromJSON(t.end,e))}}]),t}();function v_(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=m_(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function m_(t,e){if(t){if("string"===typeof t)return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b_(t,e):void 0}}function b_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function __(t,e,n){return e&&w_(t.prototype,e),n&&w_(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var k_=function(){function t(){var e=this;g_(this,t),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(function(t,n){if(!n.viewPosition){var r=e._modelToViewMapping.get(n.modelPosition.parent);n.viewPosition=e._findPositionIn(r,n.modelPosition.offset)}}),{priority:"low"}),this.on("viewToModelPosition",(function(t,n){if(!n.modelPosition){var r=e.findMappedViewAncestor(n.viewPosition),o=e._viewToModelMapping.get(r),i=e._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,r);n.modelPosition=e_._createAt(o,i)}}),{priority:"low"})}return __(t,[{key:"bindElements",value:function(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}},{key:"unbindViewElement",value:function(t){var e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t)){var n,r=v_(this._elementToMarkerNames.get(t));try{for(r.s();!(n=r.n()).done;){var o=n.value;this._unboundMarkerNames.add(o)}}catch(i){r.e(i)}finally{r.f()}}this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}},{key:"unbindModelElement",value:function(t){var e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}},{key:"bindElementToMarker",value:function(t,e){var n=this._markerNameToElements.get(e)||new Set;n.add(t);var r=this._elementToMarkerNames.get(t)||new Set;r.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,r)}},{key:"unbindElementFromMarkerName",value:function(t,e){var n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));var r=this._elementToMarkerNames.get(t);r&&(r.delete(e),0==r.size&&this._elementToMarkerNames.delete(t))}},{key:"flushUnboundMarkerNames",value:function(){var t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(t){return this._viewToModelMapping.get(t)}},{key:"toViewElement",value:function(t){return this._modelToViewMapping.get(t)}},{key:"toModelRange",value:function(t){return new d_(this.toModelPosition(t.start),this.toModelPosition(t.end))}},{key:"toViewRange",value:function(t){return new Ph(this.toViewPosition(t.start),this.toViewPosition(t.end))}},{key:"toModelPosition",value:function(t){var e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}},{key:"toViewPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1},n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}},{key:"markerNameToElements",value:function(t){var e=this._markerNameToElements.get(t);if(!e)return null;var n,r=new Set,o=v_(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.is("attributeElement")){var a,u=v_(i.getElementsWithSameId());try{for(u.s();!(a=u.n()).done;){var c=a.value;r.add(c)}}catch(s){u.e(s)}finally{u.f()}}else r.add(i)}}catch(s){o.e(s)}finally{o.f()}return r}},{key:"registerViewToModelLength",value:function(t,e){this._viewToModelLengthCallbacks.set(t,e)}},{key:"findMappedViewAncestor",value:function(t){var e=t.parent;while(!this._viewToModelMapping.has(e))e=e.parent;return e}},{key:"_toModelOffset",value:function(t,e,n){if(n!=t){var r=this._toModelOffset(t.parent,t.index,n),o=this._toModelOffset(t,e,t);return r+o}if(t.is("text"))return e;for(var i=0,a=0;a<e;a++)i+=this.getModelLength(t.getChild(a));return i}},{key:"getModelLength",value:function(t){if(this._viewToModelLengthCallbacks.get(t.name)){var e=this._viewToModelLengthCallbacks.get(t.name);return e(t)}if(this._viewToModelMapping.has(t))return 1;if(t.is("text"))return t.data.length;if(t.is("uiElement"))return 0;var n,r=0,o=v_(t.getChildren());try{for(o.s();!(n=o.n()).done;){var i=n.value;r+=this.getModelLength(i)}}catch(a){o.e(a)}finally{o.f()}return r}},{key:"_findPositionIn",value:function(t,e){var n,r=0,o=0,i=0;if(t.is("text"))return new bh(t,e);while(o<e)n=t.getChild(i),r=this.getModelLength(n),o+=r,i++;return o==e?this._moveViewPositionToTextNode(new bh(t,i)):this._findPositionIn(n,e-(o-r))}},{key:"_moveViewPositionToTextNode",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;return e instanceof Zu?new bh(e,e.data.length):n instanceof Zu?new bh(n,0):t}}]),t}();function S_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P_(t,e,n){return e&&O_(t.prototype,e),n&&O_(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(k_,Fa);var A_=function(){function t(){S_(this,t),this._consumable=new Map,this._textProxyRegistry=new Map}return P_(t,[{key:"add",value:function(t,e){e=R_(e),t instanceof fw&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}},{key:"consume",value:function(t,e){return e=R_(e),t instanceof fw&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}},{key:"test",value:function(t,e){e=R_(e),t instanceof fw&&(t=this._getSymbolForTextProxy(t));var n=this._consumable.get(t);if(void 0===n)return null;var r=n.get(e);return void 0===r?null:r}},{key:"revert",value:function(t,e){e=R_(e),t instanceof fw&&(t=this._getSymbolForTextProxy(t));var n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(t){var e=null,n=this._textProxyRegistry.get(t.startOffset);if(n){var r=n.get(t.endOffset);r&&(e=r.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}},{key:"_addSymbolForTextProxy",value:function(t,e,n){var r,o,i=Symbol("textProxySymbol");return r=this._textProxyRegistry.get(t),r||(r=new Map,this._textProxyRegistry.set(t,r)),o=r.get(e),o||(o=new Map,r.set(e,o)),o.set(n,i),i}}]),t}();function R_(t){var e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}function j_(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=E_(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function E_(t,e){if(t){if("string"===typeof t)return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x_(t,e):void 0}}function x_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I_(t,e,n){return e&&C_(t.prototype,e),n&&C_(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var D_=function(){function t(e){T_(this,t),this.conversionApi=mf({dispatcher:this},e)}return I_(t,[{key:"convertChanges",value:function(t,e,n){var r,o=j_(t.getMarkersToRemove());try{for(o.s();!(r=o.n()).done;){var i=r.value;this.convertMarkerRemove(i.name,i.range,n)}}catch(v){o.e(v)}finally{o.f()}var a,u=j_(t.getChanges());try{for(u.s();!(a=u.n()).done;){var c=a.value;"insert"==c.type?this.convertInsert(d_._createFromPositionAndShift(c.position,c.length),n):"remove"==c.type?this.convertRemove(c.position,c.length,c.name,n):this.convertAttribute(c.range,c.attributeKey,c.attributeOldValue,c.attributeNewValue,n)}}catch(v){u.e(v)}finally{u.f()}var s,l=j_(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(l.s();!(s=l.n()).done;){var f=s.value,h=e.get(f).getRange();this.convertMarkerRemove(f,h,n),this.convertMarkerAdd(f,h,n)}}catch(v){l.e(v)}finally{l.f()}var p,y=j_(t.getMarkersToAdd());try{for(y.s();!(p=y.n()).done;){var d=p.value;this.convertMarkerAdd(d.name,d.range,n)}}catch(v){y.e(v)}finally{y.f()}}},{key:"convertInsert",value:function(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);var n,r=j_(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.item,a=d_._createFromPositionAndShift(o.previousPosition,o.length),u={item:i,range:a};this._testAndFire("insert",u);var c,s=j_(i.getAttributeKeys());try{for(s.s();!(c=s.n()).done;){var l=c.value;u.attributeKey=l,u.attributeOldValue=null,u.attributeNewValue=i.getAttribute(l),this._testAndFire("attribute:".concat(l),u)}}catch(f){s.e(f)}finally{s.f()}}}catch(f){r.e(f)}finally{r.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(t,e,n,r){this.conversionApi.writer=r,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(t,e,n,r,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(t,"attribute:".concat(e));var i,a=j_(t);try{for(a.s();!(i=a.n()).done;){var u=i.value,c=u.item,s=d_._createFromPositionAndShift(u.previousPosition,u.length),l={item:c,range:s,attributeKey:e,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:".concat(e),l)}}catch(f){a.e(f)}finally{a.f()}this._clearConversionApi()}},{key:"convertSelection",value:function(t,e,n){var r=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,r),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(var o=0,i=r;o<i.length;o++){var a=i[o],u=a.getRange();if(M_(t.getFirstPosition(),a,this.conversionApi.mapper)){var c={item:t,markerName:a.name,markerRange:u};this.conversionApi.consumable.test(t,"addMarker:"+a.name)&&this.fire("addMarker:"+a.name,c,this.conversionApi)}}var s,l=j_(t.getAttributeKeys());try{for(l.s();!(s=l.n()).done;){var f=s.value,h={item:t,range:t.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:t.getAttribute(f)};this.conversionApi.consumable.test(t,"attribute:"+h.attributeKey)&&this.fire("attribute:"+h.attributeKey+":$text",h,this.conversionApi)}}catch(p){l.e(p)}finally{l.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(t,e,n){if(e.root.document&&"$graveyard"!=e.root.rootName){this.conversionApi.writer=n;var r="addMarker:"+t,o=new A_;if(o.add(e,r),this.conversionApi.consumable=o,this.fire(r,{markerName:t,markerRange:e},this.conversionApi),o.test(e,r)){this.conversionApi.consumable=this._createConsumableForRange(e,r);var i,a=j_(e.getItems());try{for(a.s();!(i=a.n()).done;){var u=i.value;if(this.conversionApi.consumable.test(u,r)){var c={item:u,range:d_._createOn(u),markerName:t,markerRange:e};this.fire(r,c,this.conversionApi)}}}catch(s){a.e(s)}finally{a.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}},{key:"_createInsertConsumable",value:function(t){var e,n=new A_,r=j_(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.item;n.add(i,"insert");var a,u=j_(i.getAttributeKeys());try{for(u.s();!(a=u.n()).done;){var c=a.value;n.add(i,"attribute:"+c)}}catch(s){u.e(s)}finally{u.f()}}}catch(s){r.e(s)}finally{r.f()}return n}},{key:"_createConsumableForRange",value:function(t,e){var n,r=new A_,o=j_(t.getItems());try{for(o.s();!(n=o.n()).done;){var i=n.value;r.add(i,e)}}catch(a){o.e(a)}finally{o.f()}return r}},{key:"_createSelectionConsumable",value:function(t,e){var n=new A_;n.add(t,"selection");var r,o=j_(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.add(t,"addMarker:"+i.name)}}catch(s){o.e(s)}finally{o.f()}var a,u=j_(t.getAttributeKeys());try{for(u.s();!(a=u.n()).done;){var c=a.value;n.add(t,"attribute:"+c)}}catch(s){u.e(s)}finally{u.f()}return n}},{key:"_testAndFire",value:function(t,e){if(this.conversionApi.consumable.test(e.item,t)){var n=e.item.name||"$text";this.fire(t+":"+n,e,this.conversionApi)}}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}]),t}();function M_(t,e,n){var r=e.getRange(),o=Array.from(t.getAncestors());o.shift(),o.reverse();var i=o.some((function(t){if(r.containsItem(t)){var e=n.toViewElement(t);return!!e.getCustomProperty("addHighlight")}}));return!i}function N_(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=V_(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function V_(t,e){if(t){if("string"===typeof t)return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B_(t,e):void 0}}function B_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z_(t,e,n){return e&&L_(t.prototype,e),n&&L_(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(D_,Fa);var U_=function(){function t(e,n,r){F_(this,t),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,n,r)}return z_(t,[{key:"isEqual",value:function(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var e,n=N_(this._ranges);try{for(n.s();!(e=n.n()).done;){var r,o=e.value,i=!1,a=N_(t._ranges);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(o.isEqual(u)){i=!0;break}}}catch(c){a.e(c)}finally{a.f()}if(!i)return!1}}catch(c){n.e(c)}finally{n.f()}return!0}},{key:"getRanges",value:a.a.mark((function t(){var e,n,r;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=N_(this._ranges),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,new d_(r.start,r.end);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var t,e=null,n=N_(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.start.isBefore(e.start)||(e=r)}}catch(o){n.e(o)}finally{n.f()}return e?new d_(e.start,e.end):null}},{key:"getLastRange",value:function(){var t,e=null,n=N_(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.end.isAfter(e.end)||(e=r)}}catch(o){n.e(o)}finally{n.f()}return e?new d_(e.start,e.end):null}},{key:"getFirstPosition",value:function(){var t=this.getFirstRange();return t?t.start.clone():null}},{key:"getLastPosition",value:function(){var t=this.getLastRange();return t?t.end.clone():null}},{key:"setTo",value:function(e,n,r){if(null===e)this._setRanges([]);else if(e instanceof t)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof d_)this._setRanges([e],!!n&&!!n.backward);else if(e instanceof e_)this._setRanges([new d_(e)]);else if(e instanceof Yg){var o,i=!!r&&!!r.backward;if("in"==n)o=d_._createIn(e);else if("on"==n)o=d_._createOn(e);else{if(void 0===n)throw new Oa["b"]("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,e]);o=new d_(e_._createAt(e,n))}this._setRanges([o],i)}else{if(!Ja(e))throw new Oa["b"]("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,e]);this._setRanges(e,n&&!!n.backward)}}},{key:"_setRanges",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=Array.from(t);var r=t.some((function(n){if(!(n instanceof d_))throw new Oa["b"]("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[e,t]);return e._ranges.every((function(t){return!t.isEqual(n)}))}));if(t.length!==this._ranges.length||r){this._removeAllRanges();var o,i=N_(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;this._pushRange(a)}}catch(u){i.e(u)}finally{i.f()}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(t,e){if(null===this.anchor)throw new Oa["b"]("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,t]);var n=e_._createAt(t,e);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new d_(n,r)),this._lastRangeBackward=!0):(this._pushRange(new d_(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(t){return this._attrs.get(t)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(t){return this._attrs.has(t)}},{key:"removeAttribute",value:function(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}},{key:"setAttribute",value:function(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(t){return"selection"===t||"model:selection"===t}},{key:"getSelectedBlocks",value:a.a.mark((function t(){var e,n,r,o,i,u,c,s,l,f;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=new WeakSet,n=N_(this.getRanges()),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=35;break}if(o=r.value,i=W_(o.start,e),!i||!q_(i,o)){t.next=10;break}return t.next=10,i;case 10:u=N_(o.getWalker()),t.prev=11,u.s();case 13:if((c=u.n()).done){t.next=21;break}if(s=c.value,l=s.item,"elementEnd"!=s.type||!$_(l,e,o)){t.next=19;break}return t.next=19,l;case 19:t.next=13;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](11),u.e(t.t0);case 26:return t.prev=26,u.f(),t.finish(26);case 29:if(f=W_(o.end,e),!f||o.end.isTouching(e_._createAt(f,0))||!q_(f,o)){t.next=33;break}return t.next=33,f;case 33:t.next=4;break;case 35:t.next=40;break;case 37:t.prev=37,t.t1=t["catch"](2),n.e(t.t1);case 40:return t.prev=40,n.f(),t.finish(40);case 43:case"end":return t.stop()}}),t,this,[[2,37,40,43],[11,23,26,29]])}))},{key:"containsEntireContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,e=e_._createAt(t,0),n=e_._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(t){this._checkRange(t),this._ranges.push(new d_(t.start,t.end))}},{key:"_checkRange",value:function(t){for(var e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new Oa["b"]("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}},{key:"_removeAllRanges",value:function(){while(this._ranges.length>0)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"anchor",get:function(){if(this._ranges.length>0){var t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}},{key:"isCollapsed",get:function(){var t=this._ranges.length;return 1===t&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}]),t}();function H_(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function $_(t,e,n){return H_(t,e)&&q_(t,n)}function W_(t,e){var n=t.parent,r=n.root.document.model.schema,o=t.parent.getAncestors({parentFirst:!0,includeSelf:!0}),i=!1,a=o.find((function(t){return!i&&(i=r.isLimit(t),!i&&H_(t,e))}));return o.forEach((function(t){return e.add(t)})),a}function q_(t,e){var n=Y_(t);if(!n)return!0;var r=e.containsRange(d_._createOn(n),!0);return!r}function Y_(t){var e=t.root.document.model.schema,n=t.parent;while(n){if(e.isBlock(n))return n;n=n.parent}}function G_(t){return G_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G_(t)}function K_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X_(t,e,n){return e&&J_(t.prototype,e),n&&J_(t,n),t}function Z_(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Q_(t,e)}function tk(t){var e=rk();return function(){var n,r=ok(t);if(e){var o=ok(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ek(this,n)}}function ek(t,e){return!e||"object"!==G_(e)&&"function"!==typeof e?nk(t):e}function nk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ok(t){return ok=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ok(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(U_,Fa);var ik=function(t){Z_(n,t);var e=tk(n);function n(t,r){var o;return K_(this,n),o=e.call(this,t,r),ak.call(nk(o)),o}return X_(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t}},{key:"toRange",value:function(){return new d_(this.start,this.end)}}],[{key:"fromRange",value:function(t){return new n(t.start,t.end)}}]),n}(d_);function ak(){var t=this;this.listenTo(this.root.document.model,"applyOperation",(function(e,n){var r=n[0];r.isDocumentOperation&&uk.call(t,r)}),{priority:"low"})}function uk(t){var e=this.getTransformedByOperation(t),n=d_._createFromRanges(e),r=!n.isEqual(this),o=ck(this,t),i=null;if(r){"$graveyard"==n.root.rootName&&(i="remove"==t.type?t.sourcePosition:t.deletionPosition);var a=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",a,{deletionPosition:i})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:i})}function ck(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}function sk(t){return sk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sk(t)}function lk(t,e){return pk(t)||hk(t,e)||dk(t,e)||fk()}function fk(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hk(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function pk(t){if(Array.isArray(t))return t}function yk(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=dk(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function dk(t,e){if(t){if("string"===typeof t)return vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vk(t,e):void 0}}function vk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mk(t,e,n){return mk="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=bk(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},mk(t,e,n||t)}function bk(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Pk(t),null===t)break;return t}function gk(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wk(t,e)}function wk(t,e){return wk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wk(t,e)}function _k(t){var e=Ok();return function(){var n,r=Pk(t);if(e){var o=Pk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kk(this,n)}}function kk(t,e){return!e||"object"!==sk(e)&&"function"!==typeof e?Sk(t):e}function Sk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ok(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Pk(t){return Pk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pk(t)}function Ak(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jk(t,e,n){return e&&Rk(t.prototype,e),n&&Rk(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(ik,Fa);var Ek="selection:",xk=function(){function t(e){Ak(this,t),this._selection=new Tk(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return jk(t,[{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(t){return this._selection.containsEntireContent(t)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(t){return this._selection.getAttribute(t)}},{key:"hasAttribute",value:function(t){return this._selection.hasAttribute(t)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"is",value:function(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}},{key:"_setFocus",value:function(t,e){this._selection.setFocus(t,e)}},{key:"_setTo",value:function(t,e,n){this._selection.setTo(t,e,n)}},{key:"_setAttribute",value:function(t,e){this._selection.setAttribute(t,e)}},{key:"_removeAttribute",value:function(t){this._selection.removeAttribute(t)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(t){this._selection.restoreGravity(t)}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}}],[{key:"_getStoreAttributeKey",value:function(t){return Ek+t}},{key:"_isStoreAttributeKey",value:function(t){return t.startsWith(Ek)}}]),t}();Xa(xk,Fa);var Tk=function(t){gk(n,t);var e=_k(n);function n(t){var r;return Ak(this,n),r=e.call(this),r.markers=new ou({idProperty:"name"}),r._model=t.model,r._document=t,r._attributePriority=new Map,r._fixGraveyardRangesData=[],r._hasChangedRange=!1,r._overriddenGravityRegister=new Set,r.listenTo(r._model,"applyOperation",(function(t,e){var n=e[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){while(r._fixGraveyardRangesData.length){var o=r._fixGraveyardRangesData.shift(),i=o.liveRange,a=o.sourcePosition;r._fixGraveyardSelection(i,a)}r._hasChangedRange&&(r._hasChangedRange=!1,r.fire("change:range",{directChange:!1}))}}),{priority:"lowest"}),r.on("change:range",(function(){var t,e=yk(r.getRanges());try{for(e.s();!(t=e.n()).done;){var n=t.value;if(!r._document._validateSelectionRange(n))throw new Oa["b"]("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",Sk(r),{range:n})}}catch(o){e.e(o)}finally{e.f()}})),r.listenTo(r._model.markers,"update",(function(){return r._updateMarkers()})),r.listenTo(r._document,"change",(function(t,e){Ik(r._model,e)})),r}return jk(n,[{key:"destroy",value:function(){for(var t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}},{key:"getRanges",value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this._ranges.length){t.next=4;break}return t.delegateYield(mk(Pk(n.prototype),"getRanges",this).call(this),"t0",2);case 2:t.next=6;break;case 4:return t.next=6,this._document._getDefaultRange();case 6:case"end":return t.stop()}}),t,this)}))},{key:"getFirstRange",value:function(){return mk(Pk(n.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return mk(Pk(n.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(t,e,r){mk(Pk(n.prototype),"setTo",this).call(this,t,e,r),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(t,e){mk(Pk(n.prototype),"setFocus",this).call(this,t,e),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(t,e){if(this._setAttribute(t,e)){var n=[t];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}},{key:"removeAttribute",value:function(t){if(this._removeAttribute(t)){var e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}},{key:"overrideGravity",value:function(){var t=_a();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}},{key:"restoreGravity",value:function(t){if(!this._overriddenGravityRegister.has(t))throw new Oa["b"]("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(t){var e=this._prepareRange(t);e&&this._ranges.push(e)}},{key:"_prepareRange",value:function(t){var e=this;if(this._checkRange(t),t.root!=this._document.graveyard){var n=ik.fromRange(t);return n.on("change:range",(function(t,r,o){e._hasChangedRange=!0,n.root==e._document.graveyard&&e._fixGraveyardRangesData.push({liveRange:n,sourcePosition:o.deletionPosition})})),n}}},{key:"_updateMarkers",value:function(){var t,e=[],n=!1,r=yk(this._model.markers);try{for(r.s();!(t=r.n()).done;){var o,i=t.value,a=i.getRange(),u=yk(this.getRanges());try{for(u.s();!(o=u.n()).done;){var c=o.value;a.containsRange(c,!c.isCollapsed)&&e.push(i)}}catch(v){u.e(v)}finally{u.f()}}}catch(v){r.e(v)}finally{r.f()}for(var s=Array.from(this.markers),l=0,f=e;l<f.length;l++){var h=f[l];this.markers.has(h)||(this.markers.add(h),n=!0)}for(var p=0,y=Array.from(this.markers);p<y.length;p++){var d=y[p];e.includes(d)||(this.markers.remove(d),n=!0)}n&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}},{key:"_updateAttributes",value:function(t){var e=oc(this._getSurroundingAttributes()),n=oc(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else{var r,o=yk(this._attributePriority);try{for(o.s();!(r=o.n()).done;){var i=lk(r.value,2),a=i[0],u=i[1];"low"==u&&(this._attrs.delete(a),this._attributePriority.delete(a))}}catch(b){o.e(b)}finally{o.f()}}this._setAttributesTo(e);var c,s=[],l=yk(this.getAttributes());try{for(l.s();!(c=l.n()).done;){var f=lk(c.value,2),h=f[0],p=f[1];n.has(h)&&n.get(h)===p||s.push(h)}}catch(b){l.e(b)}finally{l.f()}var y,d=yk(n);try{for(d.s();!(y=d.n()).done;){var v=lk(y.value,1),m=v[0];this.hasAttribute(m)||s.push(m)}}catch(b){d.e(b)}finally{d.f()}s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}},{key:"_setAttribute",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=r?"normal":"low";if("low"==o&&"normal"==this._attributePriority.get(t))return!1;var i=mk(Pk(n.prototype),"getAttribute",this).call(this,t);return i!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,o),!0)}},{key:"_removeAttribute",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,r),!!mk(Pk(n.prototype),"hasAttribute",this).call(this,t)&&(this._attrs.delete(t),!0))}},{key:"_setAttributesTo",value:function(t){var e,n=new Set,r=yk(this.getAttributes());try{for(r.s();!(e=r.n()).done;){var o=lk(e.value,2),i=o[0],a=o[1];t.get(i)!==a&&this._removeAttribute(i,!1)}}catch(p){r.e(p)}finally{r.f()}var u,c=yk(t);try{for(c.s();!(u=c.n()).done;){var s=lk(u.value,2),l=s[0],f=s[1],h=this._setAttribute(l,f,!1);h&&n.add(l)}}catch(p){c.e(p)}finally{c.f()}return n}},{key:"_getStoredAttributes",value:a.a.mark((function t(){var e,n,r,o,i;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.getFirstPosition().parent,!this.isCollapsed||!e.isEmpty){t.next=21;break}n=yk(e.getAttributeKeys()),t.prev=3,n.s();case 5:if((r=n.n()).done){t.next=13;break}if(o=r.value,!o.startsWith(Ek)){t.next=11;break}return i=o.substr(Ek.length),t.next=11,[i,e.getAttribute(o)];case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](3),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[3,15,18,21]])}))},{key:"_getSurroundingAttributes",value:function(){var t=this.getFirstPosition(),e=this._model.schema,n=null;if(this.isCollapsed){var r=t.textNode?t.textNode:t.nodeBefore,o=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=Ck(r)),n||(n=Ck(o)),!this.isGravityOverridden&&!n){var i=r;while(i&&!n)i=i.previousSibling,n=Ck(i)}if(!n){var a=o;while(a&&!n)a=a.nextSibling,n=Ck(a)}n||(n=this._getStoredAttributes())}else{var u,c=this.getFirstRange(),s=yk(c);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(l.item.is("element")&&e.isObject(l.item))break;if("text"==l.type){n=l.item.getAttributes();break}}}catch(f){s.e(f)}finally{s.f()}}return n}},{key:"_fixGraveyardSelection",value:function(t,e){var n=e.clone(),r=this._model.schema.getNearestSelectionRange(n),o=this._ranges.indexOf(t);if(this._ranges.splice(o,1),t.detach(),r&&!Dk(r,this)){var i=this._prepareRange(r);this._ranges.splice(o,0,i)}}},{key:"isCollapsed",get:function(){var t=this._ranges.length;return 0===t?this._document._getDefaultRange().isCollapsed:mk(Pk(n.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return mk(Pk(n.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return mk(Pk(n.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}}]),n}(U_);function Ck(t){return t instanceof fw||t instanceof uw?t.getAttributes():null}function Ik(t,e){var n,r=t.document.differ,o=yk(r.getChanges());try{var i=function(){var r=n.value;if("insert"!=r.type)return"continue";var o=r.position.parent,i=r.length===o.maxOffset;i&&t.enqueueChange(e,(function(t){var e,n=Array.from(o.getAttributeKeys()).filter((function(t){return t.startsWith(Ek)})),r=yk(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.removeAttribute(i,o)}}catch(a){r.e(a)}finally{r.f()}}))};for(o.s();!(n=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}}function Dk(t,e){return!e._ranges.every((function(e){return!t.isEqual(e)}))}function Mk(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Nk(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Nk(t,e){if(t){if("string"===typeof t)return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vk(t,e):void 0}}function Vk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lk(t,e,n){return e&&Fk(t.prototype,e),n&&Fk(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var zk=function(){function t(e){Bk(this,t),this._dispatchers=e}return Lk(t,[{key:"add",value:function(t){var e,n=Mk(this._dispatchers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t(r)}}catch(o){n.e(o)}finally{n.f()}return this}}]),t}(),Uk=1,Hk=4;function $k(t){return ta(t,Uk|Hk)}var Wk=$k;function qk(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Yk(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Yk(t,e){if(t){if("string"===typeof t)return Gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gk(t,e):void 0}}function Gk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kk(t){return Kk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kk(t)}function Jk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zk(t,e,n){return e&&Xk(t.prototype,e),n&&Xk(t,n),t}function Qk(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tS(t,e)}function eS(t){var e=oS();return function(){var n,r=iS(t);if(e){var o=iS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nS(this,n)}}function nS(t,e){return!e||"object"!==Kk(e)&&"function"!==typeof e?rS(t):e}function rS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function iS(t){return iS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iS(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var aS=function(t){Qk(n,t);var e=eS(n);function n(){return Jk(this,n),e.apply(this,arguments)}return Zk(n,[{key:"elementToElement",value:function(t){return this.add(_S(t))}},{key:"attributeToElement",value:function(t){return this.add(kS(t))}},{key:"attributeToAttribute",value:function(t){return this.add(SS(t))}},{key:"markerToElement",value:function(t){return this.add(OS(t))}},{key:"markerToHighlight",value:function(t){return this.add(PS(t))}}]),n}(zk);function uS(){return function(t,e,n){if(n.consumable.consume(e.item,"insert")){var r=n.writer,o=n.mapper.toViewPosition(e.range.start),i=r.createText(e.item.data);r.insert(o,i)}}}function cS(){return function(t,e,n){var r,o=n.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),a=n.mapper.toViewPosition(i,{isPhantom:!0}),u=n.writer.createRange(o,a),c=n.writer.remove(u.getTrimmed()),s=qk(n.writer.createRangeIn(c).getItems());try{for(s.s();!(r=s.n()).done;){var l=r.value;n.mapper.unbindViewElement(l)}}catch(f){s.e(f)}finally{s.f()}}}function sS(t,e){var n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),e.priority&&(n._priority=e.priority),n._id=e.id,n}function lS(){return function(t,e,n){var r=e.selection;if(!r.isCollapsed&&n.consumable.consume(r,"selection")){var o,i=[],a=qk(r.getRanges());try{for(a.s();!(o=a.n()).done;){var u=o.value,c=n.mapper.toViewRange(u);i.push(c)}}catch(s){a.e(s)}finally{a.f()}n.writer.setSelection(i,{backward:r.isBackward})}}}function fS(){return function(t,e,n){var r=e.selection;if(r.isCollapsed&&n.consumable.consume(r,"selection")){var o=n.writer,i=r.getFirstPosition(),a=n.mapper.toViewPosition(i),u=o.breakAttributes(a);o.setSelection(u)}}}function hS(){return function(t,e,n){var r,o=n.writer,i=o.document.selection,a=qk(i.getRanges());try{for(a.s();!(r=a.n()).done;){var u=r.value;u.isCollapsed&&u.end.parent.isAttached()&&n.writer.mergeAttributes(u.start)}}catch(c){a.e(c)}finally{a.f()}o.setSelection(null)}}function pS(t){return function(e,n,r){var o=t(n.attributeOldValue,r.writer),i=t(n.attributeNewValue,r.writer);if((o||i)&&r.consumable.consume(n.item,e.name)){var a=r.writer,u=a.document.selection;if(n.item instanceof U_||n.item instanceof xk)a.wrap(u.getFirstRange(),i);else{var c=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(c=a.unwrap(c,o)),null!==n.attributeNewValue&&i&&a.wrap(c,i)}}}}function yS(t){return function(e,n,r){var o=t(n.item,r.writer);if(o&&r.consumable.consume(n.item,"insert")){var i=r.mapper.toViewPosition(n.range.start);r.mapper.bindElements(n.item,o),r.writer.insert(i,o)}}}function dS(t){return function(e,n,r){n.isOpening=!0;var o=t(n,r.writer);n.isOpening=!1;var i=t(n,r.writer);if(o&&i){var a=n.markerRange;if(!a.isCollapsed||r.consumable.consume(a,e.name)){var u,c=qk(a);try{for(c.s();!(u=c.n()).done;){var s=u.value;if(!r.consumable.consume(s.item,e.name))return}}catch(h){c.e(h)}finally{c.f()}var l=r.mapper,f=r.writer;f.insert(l.toViewPosition(a.start),o),r.mapper.bindElementToMarker(o,n.markerName),a.isCollapsed||(f.insert(l.toViewPosition(a.end),i),r.mapper.bindElementToMarker(i,n.markerName)),e.stop()}}}}function vS(){return function(t,e,n){var r=n.mapper.markerNameToElements(e.markerName);if(r){var o,i=qk(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.mapper.unbindElementFromMarkerName(a,e.markerName),n.writer.clear(n.writer.createRangeOn(a),a)}}catch(u){i.e(u)}finally{i.f()}n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function mS(t){return function(e,n,r){var o=t(n.attributeOldValue,n),i=t(n.attributeNewValue,n);if((o||i)&&r.consumable.consume(n.item,e.name)){var a=r.mapper.toViewElement(n.item),u=r.writer;if(!a)throw new Oa["b"]("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[n,r]);if(null!==n.attributeOldValue&&o)if("class"==o.key){var c,s=Array.isArray(o.value)?o.value:[o.value],l=qk(s);try{for(l.s();!(c=l.n()).done;){var f=c.value;u.removeClass(f,a)}}catch(O){l.e(O)}finally{l.f()}}else if("style"==o.key)for(var h=Object.keys(o.value),p=0,y=h;p<y.length;p++){var d=y[p];u.removeStyle(d,a)}else u.removeAttribute(o.key,a);if(null!==n.attributeNewValue&&i)if("class"==i.key){var v,m=Array.isArray(i.value)?i.value:[i.value],b=qk(m);try{for(b.s();!(v=b.n()).done;){var g=v.value;u.addClass(g,a)}}catch(O){b.e(O)}finally{b.f()}}else if("style"==i.key)for(var w=Object.keys(i.value),_=0,k=w;_<k.length;_++){var S=k[_];u.setStyle(S,i.value[S],a)}else u.setAttribute(i.key,i.value,a)}}}function bS(t){return function(e,n,r){if(n.item&&(n.item instanceof U_||n.item instanceof xk||n.item.is("textProxy"))){var o=xS(t,n,r);if(o&&r.consumable.consume(n.item,e.name)){var i=r.writer,a=sS(i,o),u=i.document.selection;if(n.item instanceof U_||n.item instanceof xk)i.wrap(u.getFirstRange(),a,u);else{var c,s=r.mapper.toViewRange(n.range),l=i.wrap(s,a),f=qk(l.getItems());try{for(f.s();!(c=f.n()).done;){var h=c.value;if(h.is("attributeElement")&&h.isSimilar(a)){r.mapper.bindElementToMarker(h,n.markerName);break}}}catch(p){f.e(p)}finally{f.f()}}}}}}function gS(t){return function(e,n,r){if(n.item&&n.item instanceof Fw){var o=xS(t,n,r);if(o&&r.consumable.test(n.item,e.name)){var i=r.mapper.toViewElement(n.item);if(i&&i.getCustomProperty("addHighlight")){r.consumable.consume(n.item,e.name);var a,u=qk(d_._createIn(n.item));try{for(u.s();!(a=u.n()).done;){var c=a.value;r.consumable.consume(c.item,e.name)}}catch(s){u.e(s)}finally{u.f()}i.getCustomProperty("addHighlight")(i,o,r.writer),r.mapper.bindElementToMarker(i,n.markerName)}}}}}function wS(t){return function(e,n,r){if(!n.markerRange.isCollapsed){var o=xS(t,n,r);if(o){var i=sS(r.writer,o),a=r.mapper.markerNameToElements(n.markerName);if(a){var u,c=qk(a);try{for(c.s();!(u=c.n()).done;){var s=u.value;r.mapper.unbindElementFromMarkerName(s,n.markerName),s.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(s),i):s.getCustomProperty("removeHighlight")(s,o.id,r.writer)}}catch(l){c.e(l)}finally{c.f()}r.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}}}function _S(t){return t=Wk(t),t.view=AS(t.view,"container"),function(e){e.on("insert:"+t.model,yS(t.view),{priority:t.converterPriority||"normal"})}}function kS(t){t=Wk(t);var e=t.model.key?t.model.key:t.model,n="attribute:"+e;if(t.model.name&&(n+=":"+t.model.name),t.model.values){var r,o=qk(t.model.values);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.view[i]=AS(t.view[i],"attribute")}}catch(u){o.e(u)}finally{o.f()}}else t.view=AS(t.view,"attribute");var a=jS(t);return function(e){e.on(n,pS(a),{priority:t.converterPriority||"normal"})}}function SS(t){t=Wk(t);var e=t.model.key?t.model.key:t.model,n="attribute:"+e;if(t.model.name&&(n+=":"+t.model.name),t.model.values){var r,o=qk(t.model.values);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.view[i]=ES(t.view[i])}}catch(u){o.e(u)}finally{o.f()}}else t.view=ES(t.view);var a=jS(t);return function(e){e.on(n,mS(a),{priority:t.converterPriority||"normal"})}}function OS(t){return t=Wk(t),t.view=AS(t.view,"ui"),function(e){e.on("addMarker:"+t.model,dS(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,vS(t.view),{priority:t.converterPriority||"normal"})}}function PS(t){return function(e){e.on("addMarker:"+t.model,bS(t.view),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,gS(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,wS(t.view),{priority:t.converterPriority||"normal"})}}function AS(t,e){return"function"==typeof t?t:function(n,r){return RS(t,r,e)}}function RS(t,e,n){var r;"string"==typeof t&&(t={name:t});var o=Object.assign({},t.attributes);if("container"==n)r=e.createContainerElement(t.name,o);else if("attribute"==n){var i={priority:t.priority||sp.DEFAULT_PRIORITY};r=e.createAttributeElement(t.name,o,i)}else r=e.createUIElement(t.name,o);if(t.styles)for(var a=Object.keys(t.styles),u=0,c=a;u<c.length;u++){var s=c[u];e.setStyle(s,t.styles[s],r)}if(t.classes){var l=t.classes;if("string"==typeof l)e.addClass(l,r);else{var f,h=qk(l);try{for(h.s();!(f=h.n()).done;){var p=f.value;e.addClass(p,r)}}catch(y){h.e(y)}finally{h.f()}}}return r}function jS(t){return t.model.values?function(e,n){var r=t.view[e];return r?r(e,n):null}:t.view}function ES(t){return"string"==typeof t?function(e){return{key:t,value:e}}:"object"==Kk(t)?t.value?function(){return t}:function(e){return{key:t.key,value:e}}:t}function xS(t,e,n){var r="function"==typeof t?t(e,n):t;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function TS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CS(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=IS(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function IS(t,e){if(t){if("string"===typeof t)return DS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DS(t,e):void 0}}function DS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MS(t){return MS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MS(t)}function NS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BS(t,e,n){return e&&VS(t.prototype,e),n&&VS(t,n),t}function FS(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},LS(t,e)}function zS(t){var e=$S();return function(){var n,r=WS(t);if(e){var o=WS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return US(this,n)}}function US(t,e){return!e||"object"!==MS(e)&&"function"!==typeof e?HS(t):e}function HS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function WS(t){return WS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},WS(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var qS=function(t){FS(n,t);var e=zS(n);function n(){return NS(this,n),e.apply(this,arguments)}return BS(n,[{key:"elementToElement",value:function(t){return this.add(JS(t))}},{key:"elementToAttribute",value:function(t){return this.add(XS(t))}},{key:"attributeToAttribute",value:function(t){return this.add(ZS(t))}},{key:"elementToMarker",value:function(t){return this.add(QS(t))}}]),n}(zk);function YS(){return function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var r=n.convertChildren(e.viewItem,e.modelCursor),o=r.modelRange,i=r.modelCursor;e.modelRange=o,e.modelCursor=i}}}function GS(){return function(t,e,n){if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){var r=n.writer.createText(e.viewItem.data);n.writer.insert(r,e.modelCursor),e.modelRange=d_._createFromPositionAndShift(e.modelCursor,r.offsetSize),e.modelCursor=e.modelRange.end}}}function KS(t,e){return function(n,r){var o,i=r.newSelection,a=new U_,u=[],c=CS(i.getRanges());try{for(c.s();!(o=c.n()).done;){var s=o.value;u.push(e.toModelRange(s))}}catch(l){c.e(l)}finally{c.f()}a.setTo(u,{backward:i.isBackward}),a.isEqual(t.document.selection)||t.change((function(t){t.setSelection(a)}))}}function JS(t){t=Wk(t);var e=eO(t),n=tO(t.view),r=n?"element:"+n:"element";return function(n){n.on(r,e,{priority:t.converterPriority||"normal"})}}function XS(t){t=Wk(t),oO(t);var e=iO(t,!1),n=tO(t.view),r=n?"element:"+n:"element";return function(n){n.on(r,e,{priority:t.converterPriority||"low"})}}function ZS(t){t=Wk(t);var e=null;("string"==typeof t.view||t.view.key)&&(e=rO(t)),oO(t,e);var n=iO(t,!0);return function(e){e.on("element",n,{priority:t.converterPriority||"low"})}}function QS(t){return t=Wk(t),cO(t),JS(t)}function tO(t){return"string"==typeof t?t:"object"==MS(t)&&"string"==typeof t.name?t.name:null}function eO(t){var e=t.view?new fc(t.view):null;return function(n,r,o){var i={};if(e){var a=e.match(r.viewItem);if(!a)return;i=a.match}i.name=!0;var u=nO(t.model,r.viewItem,o.writer);if(u&&o.consumable.test(r.viewItem,i)){var c=o.splitToAllowedParent(u,r.modelCursor);if(c){o.writer.insert(u,c.position),o.convertChildren(r.viewItem,o.writer.createPositionAt(u,0)),o.consumable.consume(r.viewItem,i);var s=o.getSplitParts(u);r.modelRange=new d_(o.writer.createPositionBefore(u),o.writer.createPositionAfter(s[s.length-1])),c.cursorParent?r.modelCursor=o.writer.createPositionAt(c.cursorParent,0):r.modelCursor=r.modelRange.end}}}}function nO(t,e,n){return t instanceof Function?t(e,n):n.createElement(t)}function rO(t){"string"==typeof t.view&&(t.view={key:t.view});var e,n=t.view.key;if("class"==n||"style"==n){var r="class"==n?"classes":"styles";e=TS({},r,t.view.value)}else{var o="undefined"==typeof t.view.value?/[\s\S]*/:t.view.value;e={attributes:TS({},n,o)}}return t.view.name&&(e.name=t.view.name),t.view=e,n}function oO(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===e||function(t){return t.getAttribute(e)},r="object"!=MS(t.model)?t.model:t.model.key,o="object"!=MS(t.model)||"undefined"==typeof t.model.value?n:t.model.value;t.model={key:r,value:o}}function iO(t,e){var n=new fc(t.view);return function(r,o,i){var a=n.match(o.viewItem);if(a){var u=t.model.key,c="function"==typeof t.model.value?t.model.value(o.viewItem):t.model.value;if(null!==c&&(aO(t.view,o.viewItem)?a.match.name=!0:delete a.match.name,i.consumable.test(o.viewItem,a.match))){o.modelRange||(o=Object.assign(o,i.convertChildren(o.viewItem,o.modelCursor)));var s=uO(o.modelRange,{key:u,value:c},e,i);s&&i.consumable.consume(o.viewItem,a.match)}}}}function aO(t,e){var n="function"==typeof t?t(e):t;return!("object"==MS(n)&&!tO(n))&&(!n.classes&&!n.attributes&&!n.styles)}function uO(t,e,n,r){for(var o=!1,i=0,a=Array.from(t.getItems({shallow:n}));i<a.length;i++){var u=a[i];r.schema.checkAttribute(u,e.key)&&(r.writer.setAttribute(e.key,e.value,u),o=!0)}return o}function cO(t){var e=t.model;t.model=function(t,n){var r="string"==typeof e?e:e(t);return n.createElement("$marker",{"data-name":r})}}function sO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fO(t,e,n){return e&&lO(t.prototype,e),n&&lO(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var hO=function(){function t(e,n){var r=this;sO(this,t),this.model=e,this.view=new Hg(n),this.mapper=new k_,this.downcastDispatcher=new D_({mapper:this.mapper});var o=this.model.document,i=o.selection,a=this.model.markers;this.listenTo(this.model,"_beforeChanges",(function(){r.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(function(){r.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(o,"change",(function(){r.view.change((function(t){r.downcastDispatcher.convertChanges(o.differ,a,t),r.downcastDispatcher.convertSelection(i,a,t)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",KS(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",uS(),{priority:"lowest"}),this.downcastDispatcher.on("remove",cS(),{priority:"low"}),this.downcastDispatcher.on("selection",hS(),{priority:"low"}),this.downcastDispatcher.on("selection",lS(),{priority:"low"}),this.downcastDispatcher.on("selection",fS(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((function(t){if("$graveyard"==t.rootName)return null;var e=new lh(r.view.document,t.name);return e.rootName=t.rootName,r.mapper.bindElements(t,e),e}))}return fO(t,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),t}();function pO(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=yO(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function yO(t,e){if(t){if("string"===typeof t)return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dO(t,e):void 0}}function dO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bO(t,e,n){return e&&mO(t.prototype,e),n&&mO(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(hO,Ef);var gO=function(){function t(){vO(this,t),this._commands=new Map}return bO(t,[{key:"add",value:function(t,e){this._commands.set(t,e)}},{key:"get",value:function(t){return this._commands.get(t)}},{key:"execute",value:function(t){var e=this.get(t);if(!e)throw new Oa["b"]("commandcollection-command-not-found: Command does not exist.",this,{commandName:t});for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.execute.apply(e,r)}},{key:"names",value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"commands",value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var t,e=pO(this.commands());try{for(e.s();!(t=e.n()).done;){var n=t.value;n.destroy()}}catch(r){e.e(r)}finally{e.f()}}}]),t}();function wO(t){return SO(t)||kO(t)||PO(t)||_O()}function _O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kO(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function SO(t){if(Array.isArray(t))return AO(t)}function OO(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=PO(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function PO(t,e){if(t){if("string"===typeof t)return AO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AO(t,e):void 0}}function AO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EO(t,e,n){return e&&jO(t.prototype,e),n&&jO(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var xO=function(){function t(){RO(this,t),this._consumables=new Map}return EO(t,[{key:"add",value:function(t,e){var n;t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new TO(t),this._consumables.set(t,n)),n.add(e))}},{key:"test",value:function(t,e){var n=this._consumables.get(t);return void 0===n?null:t.is("text")||t.is("documentFragment")?n:n.test(e)}},{key:"consume",value:function(t,e){return!!this.test(t,e)&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}},{key:"revert",value:function(t,e){var n=this._consumables.get(t);void 0!==n&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}}],[{key:"consumablesFromElement",value:function(t){var e,n={element:t,name:!0,attributes:[],classes:[],styles:[]},r=t.getAttributeKeys(),o=OO(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;"style"!=i&&"class"!=i&&n.attributes.push(i)}}catch(y){o.e(y)}finally{o.f()}var a,u=t.getClassNames(),c=OO(u);try{for(c.s();!(a=c.n()).done;){var s=a.value;n.classes.push(s)}}catch(y){c.e(y)}finally{c.f()}var l,f=t.getStyleNames(),h=OO(f);try{for(h.s();!(l=h.n()).done;){var p=l.value;n.styles.push(p)}}catch(y){h.e(y)}finally{h.f()}return n}},{key:"createFrom",value:function(e,n){if(n||(n=new t(e)),e.is("text"))return n.add(e),n;e.is("element")&&n.add(e,t.consumablesFromElement(e)),e.is("documentFragment")&&n.add(e);var r,o=OO(e.getChildren());try{for(o.s();!(r=o.n()).done;){var i=r.value;n=t.createFrom(i,n)}}catch(a){o.e(a)}finally{o.f()}return n}}]),t}(),TO=function(){function t(e){RO(this,t),this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return EO(t,[{key:"add",value:function(t){for(var e in t.name&&(this._canConsumeName=!0),this._consumables)e in t&&this._add(e,t[e])}},{key:"test",value:function(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(var e in this._consumables)if(e in t){var n=this._test(e,t[e]);if(!0!==n)return n}return!0}},{key:"consume",value:function(t){for(var e in t.name&&(this._canConsumeName=!1),this._consumables)e in t&&this._consume(e,t[e])}},{key:"revert",value:function(t){for(var e in t.name&&(this._canConsumeName=!0),this._consumables)e in t&&this._revert(e,t[e])}},{key:"_add",value:function(t,e){var n,r=un(e)?e:[e],o=this._consumables[t],i=OO(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("attributes"===t&&("class"===a||"style"===a))throw new Oa["b"]("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(o.set(a,!0),"styles"===t){var u,c=OO(this.element.document.stylesProcessor.getRelatedStyles(a));try{for(c.s();!(u=c.n()).done;){var s=u.value;o.set(s,!0)}}catch(l){c.e(l)}finally{c.f()}}}}catch(l){i.e(l)}finally{i.f()}}},{key:"_test",value:function(t,e){var n,r=un(e)?e:[e],o=this._consumables[t],i=OO(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("attributes"!==t||"class"!==a&&"style"!==a){var u=o.get(a);if(void 0===u)return null;if(!u)return!1}else{var c="class"==a?"classes":"styles",s=this._test(c,wO(this._consumables[c].keys()));if(!0!==s)return s}}}catch(l){i.e(l)}finally{i.f()}return!0}},{key:"_consume",value:function(t,e){var n,r=un(e)?e:[e],o=this._consumables[t],i=OO(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("attributes"!==t||"class"!==a&&"style"!==a){if(o.set(a,!1),"styles"==t){var u,c=OO(this.element.document.stylesProcessor.getRelatedStyles(a));try{for(c.s();!(u=c.n()).done;){var s=u.value;o.set(s,!1)}}catch(f){c.e(f)}finally{c.f()}}}else{var l="class"==a?"classes":"styles";this._consume(l,wO(this._consumables[l].keys()))}}}catch(f){i.e(f)}finally{i.f()}}},{key:"_revert",value:function(t,e){var n,r=un(e)?e:[e],o=this._consumables[t],i=OO(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("attributes"!==t||"class"!==a&&"style"!==a){var u=o.get(a);!1===u&&o.set(a,!0)}else{var c="class"==a?"classes":"styles";this._revert(c,wO(this._consumables[c].keys()))}}}catch(s){i.e(s)}finally{i.f()}}}]),t}(),CO=a.a.mark(sP),IO=a.a.mark(lP);function DO(t){return VO(t)||NO(t)||HO(t)||MO()}function MO(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function NO(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function VO(t){if(Array.isArray(t))return $O(t)}function BO(t,e){return zO(t)||LO(t,e)||HO(t,e)||FO()}function FO(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function LO(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function zO(t){if(Array.isArray(t))return t}function UO(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=HO(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function HO(t,e){if(t){if("string"===typeof t)return $O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$O(t,e):void 0}}function $O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YO(t,e,n){return e&&qO(t.prototype,e),n&&qO(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var GO=function(){function t(){var e=this;WO(this,t),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(function(t,e){e[0]=new KO(e[0])}),{priority:"highest"}),this.on("checkChild",(function(t,n){n[0]=new KO(n[0]),n[1]=e.getDefinition(n[1])}),{priority:"highest"})}return YO(t,[{key:"register",value:function(t,e){if(this._sourceDefinitions[t])throw new Oa["b"]("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}},{key:"extend",value:function(t,e){if(!this._sourceDefinitions[t])throw new Oa["b"]("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(t){var e;return e="string"==typeof t?t:t.is&&(t.is("text")||t.is("textProxy"))?"$text":t.name,this.getDefinitions()[e]}},{key:"isRegistered",value:function(t){return!!this.getDefinition(t)}},{key:"isBlock",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isBlock)}},{key:"isLimit",value:function(t){var e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}},{key:"isObject",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isObject)}},{key:"isInline",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isInline)}},{key:"checkChild",value:function(t,e){return!!e&&this._checkContextMatch(e,t)}},{key:"checkAttribute",value:function(t,e){var n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}},{key:"checkMerge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t instanceof e_){var n=t.nodeBefore,r=t.nodeAfter;if(!(n instanceof Fw))throw new Oa["b"]("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(r instanceof Fw))throw new Oa["b"]("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(n,r)}var o,i=UO(e.getChildren());try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!this.checkChild(t,a))return!1}}catch(u){i.e(u)}finally{i.f()}return!0}},{key:"addChildCheck",value:function(t){this.on("checkChild",(function(e,n){var r=BO(n,2),o=r[0],i=r[1];if(i){var a=t(o,i);"boolean"==typeof a&&(e.stop(),e.return=a)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(t){this.on("checkAttribute",(function(e,n){var r=BO(n,2),o=r[0],i=r[1],a=t(o,i);"boolean"==typeof a&&(e.stop(),e.return=a)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}},{key:"getAttributeProperties",value:function(t){return this._attributeProperties[t]||{}}},{key:"getLimitElement",value:function(t){var e;if(t instanceof e_)e=t.parent;else{var n=t instanceof d_?[t]:Array.from(t.getRanges());e=n.reduce((function(t,e){var n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n}),null)}while(!this.isLimit(e)){if(!e.parent)break;e=e.parent}return e}},{key:"checkAttributeInSelection",value:function(t,e){if(t.isCollapsed){var n=t.getFirstPosition(),r=[].concat(DO(n.getAncestors()),[new uw("",t.getAttributes())]);return this.checkAttribute(r,e)}var o,i=t.getRanges(),a=UO(i);try{for(a.s();!(o=a.n()).done;){var u,c=o.value,s=UO(c);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(this.checkAttribute(l.item,e))return!0}}catch(f){s.e(f)}finally{s.f()}}}catch(f){a.e(f)}finally{a.f()}return!1}},{key:"getValidRanges",value:a.a.mark((function t(e,n){var r,o,i;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=lP(e),r=UO(e),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=9;break}return i=o.value,t.delegateYield(this._getValidRangesForRange(i,n),"t0",7);case 7:t.next=4;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t["catch"](2),r.e(t.t1);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[2,11,14,17]])}))},{key:"getNearestSelectionRange",value:function(t){var e,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(t,"$text"))return new d_(t);var i=t.getAncestors().reverse().find((function(t){return r.isLimit(t)}))||t.root;"both"!=o&&"backward"!=o||(e=new $w({boundaries:d_._createIn(i),startPosition:t,direction:"backward"})),"both"!=o&&"forward"!=o||(n=new $w({boundaries:d_._createIn(i),startPosition:t}));var a,u=UO(sP(e,n));try{for(u.s();!(a=u.n()).done;){var c=a.value,s=c.walker==e?"elementEnd":"elementStart",l=c.value;if(l.type==s&&this.isObject(l.item))return d_._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new d_(l.nextPosition)}}catch(f){u.e(f)}finally{u.f()}return null}},{key:"findAllowedParent",value:function(t,e){var n=t.parent;while(n){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(t,e){var n,r=UO(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is("text"))fP(this,o,e);else{var i,a=d_._createIn(o),u=a.getPositions(),c=UO(u);try{for(c.s();!(i=c.n()).done;){var s=i.value,l=s.nodeBefore||s.parent;fP(this,l,e)}}catch(f){c.e(f)}finally{c.f()}}}}catch(f){r.e(f)}finally{r.f()}}},{key:"createContext",value:function(t){return new KO(t)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var t={},e=this._sourceDefinitions,n=Object.keys(e),r=0,o=n;r<o.length;r++){var i=o[r];t[i]=JO(e[i],i)}for(var a=0,u=n;a<u.length;a++){var c=u[a];XO(t,c)}for(var s=0,l=n;s<l.length;s++){var f=l[s];ZO(t,f)}for(var h=0,p=n;h<p.length;h++){var y=p[h];QO(t,y),tP(t,y)}for(var d=0,v=n;d<v.length;d++){var m=v[d];eP(t,m),nP(t,m)}this._compiledDefinitions=t}},{key:"_checkContextMatch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1,r=e.getItem(n);if(t.allowIn.includes(r.name)){if(0==n)return!0;var o=this.getDefinition(r);return this._checkContextMatch(o,e,n-1)}return!1}},{key:"_getValidRangesForRange",value:a.a.mark((function t(e,n){var r,o,i,u,c;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.start,o=e.start,i=UO(e.getItems({shallow:!0})),t.prev=3,i.s();case 5:if((u=i.n()).done){t.next=17;break}if(c=u.value,!c.is("element")){t.next=9;break}return t.delegateYield(this._getValidRangesForRange(d_._createIn(c),n),"t0",9);case 9:if(this.checkAttribute(c,n)){t.next=14;break}if(r.isEqual(o)){t.next=13;break}return t.next=13,new d_(r,o);case 13:r=e_._createAfter(c);case 14:o=e_._createAfter(c);case 15:t.next=5;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](3),i.e(t.t1);case 22:return t.prev=22,i.f(),t.finish(22);case 25:if(r.isEqual(o)){t.next=28;break}return t.next=28,new d_(r,o);case 28:case"end":return t.stop()}}),t,this,[[3,19,22,25]])}))}]),t}();Xa(GO,Ef);var KO=function(){function t(e){if(WO(this,t),e instanceof t)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),e[0]&&"string"!=typeof e[0]&&e[0].is("documentFragment")&&e.shift(),this._items=e.map(cP)}return YO(t,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){var n=new t([e]);return n._items=[].concat(DO(this._items),DO(n._items)),n}},{key:"getItem",value:function(t){return this._items[t]}},{key:"getNames",value:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(this._items.map((function(t){return t.name})),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"endsWith",value:function(t){return Array.from(this.getNames()).join(" ").endsWith(t)}},{key:"startsWith",value:function(t){return Array.from(this.getNames()).join(" ").startsWith(t)}},{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}}]),t}();function JO(t,e){var n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return rP(t,n),oP(t,n,"allowIn"),oP(t,n,"allowContentOf"),oP(t,n,"allowWhere"),oP(t,n,"allowAttributes"),oP(t,n,"allowAttributesOf"),oP(t,n,"inheritTypesFrom"),iP(t,n),n}function XO(t,e){var n,r=UO(t[e].allowContentOf);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(t[o]){var i=aP(t,o);i.forEach((function(t){t.allowIn.push(e)}))}}}catch(a){r.e(a)}finally{r.f()}delete t[e].allowContentOf}function ZO(t,e){var n,r=UO(t[e].allowWhere);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=t[o];if(i){var a,u=i.allowIn;(a=t[e].allowIn).push.apply(a,DO(u))}}}catch(c){r.e(c)}finally{r.f()}delete t[e].allowWhere}function QO(t,e){var n,r=UO(t[e].allowAttributesOf);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=t[o];if(i){var a,u=i.allowAttributes;(a=t[e].allowAttributes).push.apply(a,DO(u))}}}catch(c){r.e(c)}finally{r.f()}delete t[e].allowAttributesOf}function tP(t,e){var n,r=t[e],o=UO(r.inheritTypesFrom);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=t[i];if(a){var u,c=Object.keys(a).filter((function(t){return t.startsWith("is")})),s=UO(c);try{for(s.s();!(u=s.n()).done;){var l=u.value;l in r||(r[l]=a[l])}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){o.e(f)}finally{o.f()}delete r.inheritTypesFrom}function eP(t,e){var n=t[e],r=n.allowIn.filter((function(e){return t[e]}));n.allowIn=Array.from(new Set(r))}function nP(t,e){var n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function rP(t,e){var n,r=UO(t);try{for(r.s();!(n=r.n()).done;){var o,i=n.value,a=Object.keys(i).filter((function(t){return t.startsWith("is")})),u=UO(a);try{for(u.s();!(o=u.n()).done;){var c=o.value;e[c]=i[c]}}catch(s){u.e(s)}finally{u.f()}}}catch(s){r.e(s)}finally{r.f()}}function oP(t,e,n){var r,o=UO(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if("string"==typeof i[n])e[n].push(i[n]);else if(Array.isArray(i[n])){var a;(a=e[n]).push.apply(a,DO(i[n]))}}}catch(u){o.e(u)}finally{o.f()}}function iP(t,e){var n,r=UO(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.inheritAllFrom;i&&(e.allowContentOf.push(i),e.allowWhere.push(i),e.allowAttributesOf.push(i),e.inheritTypesFrom.push(i))}}catch(a){r.e(a)}finally{r.f()}}function aP(t,e){var n=t[e];return uP(t).filter((function(t){return t.allowIn.includes(n.name)}))}function uP(t){return Object.keys(t).map((function(e){return t[e]}))}function cP(t){return"string"==typeof t?{name:t,getAttributeKeys:a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})),getAttribute:function(){}}:{name:t.is("element")?t.name:"$text",getAttributeKeys:a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.delegateYield(t.getAttributeKeys(),"t0",1);case 1:case"end":return e.stop()}}),e)})),getAttribute:function(e){return t.getAttribute(e)}}}function sP(t,e){var n,r,o;return a.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=!1;case 1:if(n){i.next=17;break}if(n=!0,!t){i.next=9;break}if(r=t.next(),r.done){i.next=9;break}return n=!1,i.next=9,{walker:t,value:r.value};case 9:if(!e){i.next=15;break}if(o=e.next(),o.done){i.next=15;break}return n=!1,i.next=15,{walker:e,value:o.value};case 15:i.next=1;break;case 17:case"end":return i.stop()}}),CO)}function lP(t){var e,n,r;return a.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:e=UO(t),o.prev=1,e.s();case 3:if((n=e.n()).done){o.next=8;break}return r=n.value,o.delegateYield(r.getMinimalFlatRanges(),"t0",6);case 6:o.next=3;break;case 8:o.next=13;break;case 10:o.prev=10,o.t1=o["catch"](1),e.e(o.t1);case 13:return o.prev=13,e.f(),o.finish(13);case 16:case"end":return o.stop()}}),IO,null,[[1,10,13,16]])}function fP(t,e,n){var r,o=UO(e.getAttributeKeys());try{for(o.s();!(r=o.n()).done;){var i=r.value;t.checkAttribute(e,i)||n.removeAttribute(i,e)}}catch(a){o.e(a)}finally{o.f()}}function hP(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=pP(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function pP(t,e){if(t){if("string"===typeof t)return yP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yP(t,e):void 0}}function yP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mP(t,e,n){return e&&vP(t.prototype,e),n&&vP(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var bP=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};dP(this,t),this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return mP(t,[{key:"convert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",t),this._modelCursor=wP(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=xO.createFrom(t),this.conversionApi.store={};var r=this._convertItem(t,this._modelCursor),o=r.modelRange,i=e.createDocumentFragment();if(o){this._removeEmptyElements();for(var a=0,u=Array.from(this._modelCursor.parent.getChildren());a<u.length;a++){var c=u[a];e.append(c,i)}i.markers=gP(i,e)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}},{key:"_convertItem",value:function(t,e){var n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof d_))throw new Oa["b"]("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(t,e){for(var n=new d_(e),r=e,o=0,i=Array.from(t.getChildren());o<i.length;o++){var a=i[o],u=this._convertItem(a,r);u.modelRange instanceof d_&&(n.end=u.modelRange.end,r=u.modelCursor)}return{modelRange:n,modelCursor:r}}},{key:"_splitToAllowedParent",value:function(t,e){var n=this.conversionApi.schema.findAllowedParent(e,t);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;var r,o=this.conversionApi.writer.split(e,n),i=[],a=hP(o.range.getWalker());try{for(a.s();!(r=a.n()).done;){var u=r.value;if("elementEnd"==u.type)i.push(u.item);else{var c=i.pop(),s=u.item;this._registerSplitPair(c,s)}}}catch(l){a.e(l)}finally{a.f()}return{position:o.position,cursorParent:o.range.end.parent}}},{key:"_registerSplitPair",value:function(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);var n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}},{key:"_getSplitParts",value:function(t){var e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}},{key:"_removeEmptyElements",value:function(){var t,e=!1,n=hP(this._splitParts.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isEmpty&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),e=!0)}}catch(o){n.e(o)}finally{n.f()}e&&this._removeEmptyElements()}}]),t}();function gP(t,e){var n,r=new Set,o=new Map,i=d_._createIn(t).getItems(),a=hP(i);try{for(a.s();!(n=a.n()).done;){var u=n.value;"$marker"==u.name&&r.add(u)}}catch(p){a.e(p)}finally{a.f()}var c,s=hP(r);try{for(s.s();!(c=s.n()).done;){var l=c.value,f=l.getAttribute("data-name"),h=e.createPositionBefore(l);o.has(f)?o.get(f).end=h.clone():o.set(f,new d_(h.clone())),e.remove(l)}}catch(p){s.e(p)}finally{s.f()}return o}function wP(t,e){var n,r,o=hP(new KO(t));try{for(o.s();!(r=o.n()).done;){var i,a=r.value,u={},c=hP(a.getAttributeKeys());try{for(c.s();!(i=c.n()).done;){var s=i.value;u[s]=a.getAttribute(s)}}catch(f){c.e(f)}finally{c.f()}var l=e.createElement(a.name,u);n&&e.append(l,n),n=e_._createAt(l,0)}}catch(f){o.e(f)}finally{o.f()}return n}function _P(t,e){return OP(t)||SP(t,e)||AP(t,e)||kP()}function kP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function SP(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function OP(t){if(Array.isArray(t))return t}function PP(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=AP(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function AP(t,e){if(t){if("string"===typeof t)return RP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RP(t,e):void 0}}function RP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xP(t,e,n){return e&&EP(t.prototype,e),n&&EP(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(bP,Fa);var TP=function(){function t(e,n){var r=this;jP(this,t),this.model=e,this.stylesProcessor=n,this.processor,this.mapper=new k_,this.downcastDispatcher=new D_({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",uS(),{priority:"lowest"}),this.upcastDispatcher=new bP({schema:e.schema}),this.viewDocument=new Gh(n),this._viewWriter=new Sy(this.viewDocument),this.upcastDispatcher.on("text",GS(),{priority:"lowest"}),this.upcastDispatcher.on("element",YS(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",YS(),{priority:"lowest"}),this.decorate("init"),this.on("init",(function(){r.fire("ready")}),{priority:"lowest"})}return xP(t,[{key:"get",value:function(t){var e=t||{},n=e.rootName,r=void 0===n?"main":n,o=e.trim,i=void 0===o?"empty":o;if(!this._checkIfRootsExists([r]))throw new Oa["b"]("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);var a=this.model.document.getRoot(r);return"empty"!==i||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a):""}},{key:"stringify",value:function(t){var e=this.toView(t);return this.processor.toData(e)}},{key:"toView",value:function(t){var e=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();var r=d_._createIn(t),o=new fy(e);if(this.mapper.bindElements(t,o),this.downcastDispatcher.convertInsert(r,n),!t.is("documentFragment")){var i,a=CP(t),u=PP(a);try{for(u.s();!(i=u.n()).done;){var c=_P(i.value,2),s=c[0],l=c[1];this.downcastDispatcher.convertMarkerAdd(s,l,n)}}catch(f){u.e(f)}finally{u.f()}}return o}},{key:"init",value:function(t){var e=this;if(this.model.document.version)throw new Oa["b"]("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);var n={};if("string"===typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new Oa["b"]("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",(function(t){for(var r=0,o=Object.keys(n);r<o.length;r++){var i=o[r],a=e.model.document.getRoot(i);t.insert(e.parse(n[i],a),a,0)}})),Promise.resolve()}},{key:"set",value:function(t){var e=this,n={};if("string"===typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new Oa["b"]("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",(function(t){t.setSelection(null),t.removeSelectionAttribute(e.model.document.selection.getAttributeKeys());for(var r=0,o=Object.keys(n);r<o.length;r++){var i=o[r],a=e.model.document.getRoot(i);t.remove(t.createRangeIn(a)),t.insert(e.parse(n[i],a),a,0)}}))}},{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(t);return this.toModel(n,e)}},{key:"toModel",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(r){return e.upcastDispatcher.convert(t,r,n)}))}},{key:"addStyleProcessorRules",value:function(t){t(this.stylesProcessor)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(t){var e,n=PP(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!this.model.document.getRootNames().includes(r))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}}]),t}();function CP(t){var e=[],n=t.root.document;if(!n)return[];var r,o=d_._createIn(t),i=PP(n.model.markers);try{for(i.s();!(r=i.n()).done;){var a=r.value,u=o.getIntersection(a.getRange());u&&e.push([a.name,u])}}catch(c){i.e(c)}finally{i.f()}return e}Xa(TP,Ef);var IP=a.a.mark(UP),DP=a.a.mark(HP);function MP(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=NP(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function NP(t,e){if(t){if("string"===typeof t)return VP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VP(t,e):void 0}}function VP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LP(t,e,n){return e&&FP(t.prototype,e),n&&FP(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var zP=function(){function t(e,n){BP(this,t),this._helpers=new Map,this._downcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(n)?n:[n],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return LP(t,[{key:"addAlias",value:function(t,e){var n=this._downcast.includes(e),r=this._upcast.includes(e);if(!r&&!n)throw new Oa["b"]("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}},{key:"for",value:function(t){if(!this._helpers.has(t))throw new Oa["b"]("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(t)}},{key:"elementToElement",value:function(t){this.for("downcast").elementToElement(t);var e,n=MP(UP(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.model,i=r.view;this.for("upcast").elementToElement({model:o,view:i,converterPriority:t.converterPriority})}}catch(a){n.e(a)}finally{n.f()}}},{key:"attributeToElement",value:function(t){this.for("downcast").attributeToElement(t);var e,n=MP(UP(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.model,i=r.view;this.for("upcast").elementToAttribute({view:i,model:o,converterPriority:t.converterPriority})}}catch(a){n.e(a)}finally{n.f()}}},{key:"attributeToAttribute",value:function(t){this.for("downcast").attributeToAttribute(t);var e,n=MP(UP(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.model,i=r.view;this.for("upcast").attributeToAttribute({view:i,model:o})}}catch(a){n.e(a)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(t){var e=t.name,n=t.dispatchers,r=t.isDowncast;if(this._helpers.has(e))throw new Oa["b"]("conversion-group-exists: Trying to register a group name that has already been registered.",this);var o=r?new aS(n):new qS(n);this._helpers.set(e,o)}}]),t}();function UP(t){var e,n,r,o,i,u;return a.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.model.values){a.next=22;break}e=MP(t.model.values),a.prev=2,e.s();case 4:if((n=e.n()).done){a.next=12;break}return r=n.value,o={key:t.model.key,value:r},i=t.view[r],u=t.upcastAlso?t.upcastAlso[r]:void 0,a.delegateYield(HP(o,i,u),"t0",10);case 10:a.next=4;break;case 12:a.next=17;break;case 14:a.prev=14,a.t1=a["catch"](2),e.e(a.t1);case 17:return a.prev=17,e.f(),a.finish(17);case 20:a.next=23;break;case 22:return a.delegateYield(HP(t.model,t.view,t.upcastAlso),"t2",23);case 23:case"end":return a.stop()}}),IP,null,[[2,14,17,20]])}function HP(t,e,n){var r,o,i;return a.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,{model:t,view:e};case 2:if(!n){a.next=21;break}n=Array.isArray(n)?n:[n],r=MP(n),a.prev=5,r.s();case 7:if((o=r.n()).done){a.next=13;break}return i=o.value,a.next=11,{model:t,view:i};case 11:a.next=7;break;case 13:a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](5),r.e(a.t0);case 18:return a.prev=18,r.f(),a.finish(18);case 21:case"end":return a.stop()}}),DP,null,[[5,15,18,21]])}function $P(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=WP(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function WP(t,e){if(t){if("string"===typeof t)return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qP(t,e):void 0}}function qP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KP(t,e,n){return e&&GP(t.prototype,e),n&&GP(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var JP=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";YP(this,t),this.operations=[],this.type=e}return KP(t,[{key:"addOperation",value:function(t){return t.batch=this,this.operations.push(t),t}},{key:"baseVersion",get:function(){var t,e=$P(this.operations);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(null!==n.baseVersion)return n.baseVersion}}catch(r){e.e(r)}finally{e.f()}return null}}]),t}();function XP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QP(t,e,n){return e&&ZP(t.prototype,e),n&&ZP(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var tA=function(){function t(e){XP(this,t),this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return QP(t,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}}],[{key:"fromJSON",value:function(t){return new this(t.baseVersion)}},{key:"className",get:function(){return"Operation"}}]),t}();function eA(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=nA(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function nA(t,e){if(t){if("string"===typeof t)return rA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rA(t,e):void 0}}function rA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aA(t,e,n){return e&&iA(t.prototype,e),n&&iA(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var uA=function(){function t(e){oA(this,t),this.markers=new Map,this._children=new kw,e&&this._insertChild(0,e)}return aA(t,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(t){return"documentFragment"===t||"model:documentFragment"===t}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(t){var e,n=this,r=eA(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=n.getChild(n.offsetToIndex(o))}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"toJSON",value:function(){var t,e=[],n=eA(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r.toJSON())}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){var n,r=cA(e),o=eA(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;null!==i.parent&&i._remove(),i.parent=this}}catch(a){o.e(a)}finally{o.f()}this._children._insertNodes(t,r)}},{key:"_removeChildren",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this._children._removeNodes(t,n),o=eA(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;i.parent=null}}catch(a){o.e(a)}finally{o.f()}return r}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],[{key:"fromJSON",value:function(e){var n,r=[],o=eA(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.name?r.push(Fw.fromJSON(i)):r.push(uw.fromJSON(i))}}catch(a){o.e(a)}finally{o.f()}return new t(r)}}]),t}();function cA(t){return"string"==typeof t?[new uw(t)]:(Ja(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new uw(t):t instanceof fw?new uw(t.data,t.getAttributes()):t})))}function sA(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=lA(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function lA(t,e){if(t){if("string"===typeof t)return fA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fA(t,e):void 0}}function fA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hA(t,e){e=vA(e);var n=e.reduce((function(t,e){return t+e.offsetSize}),0),r=t.parent;bA(t);var o=t.index;return r._insertChild(o,e),mA(r,o+e.length),mA(r,o),new d_(t,t.getShiftedBy(n))}function pA(t){if(!t.isFlat)throw new Oa["b"]("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);var e=t.start.parent;bA(t.start),bA(t.end);var n=e._removeChildren(t.start.index,t.end.index-t.start.index);return mA(e,t.start.index),n}function yA(t,e){if(!t.isFlat)throw new Oa["b"]("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);var n=pA(t);return e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),hA(e,n)}function dA(t,e,n){bA(t.start),bA(t.end);var r,o=sA(t.getItems({shallow:!0}));try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.is("textProxy")?i.textNode:i;null!==n?a._setAttribute(e,n):a._removeAttribute(e),mA(a.parent,a.index)}}catch(u){o.e(u)}finally{o.f()}mA(t.end.parent,t.end.index)}function vA(t){var e=[];t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new uw(t[n]));else if(t[n]instanceof fw)e.push(new uw(t[n].data,t[n].getAttributes()));else if(t[n]instanceof uA||t[n]instanceof kw){var r,o=sA(t[n]);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.push(i)}}catch(s){o.e(s)}finally{o.f()}}else t[n]instanceof Yg&&e.push(t[n]);for(var a=1;a<e.length;a++){var u=e[a],c=e[a-1];u instanceof uw&&c instanceof uw&&gA(u,c)&&(e.splice(a-1,2,new uw(c.data+u.data,c.getAttributes())),a--)}return e}function mA(t,e){var n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("text")&&r.is("text")&&gA(n,r)){var o=new uw(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function bA(t){var e=t.textNode,n=t.parent;if(e){var r=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);var i=new uw(e.data.substr(0,r),e.getAttributes()),a=new uw(e.data.substr(r),e.getAttributes());n._insertChild(o,[i,a])}}function gA(t,e){var n,r=t.getAttributes(),o=e.getAttributes(),i=sA(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a[1]!==e.getAttribute(a[0]))return!1;o.next()}}catch(u){i.e(u)}finally{i.f()}return o.next().done}function wA(t,e){return zv(t,e)}var _A=wA;function kA(t){return kA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kA(t)}function SA(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=OA(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function OA(t,e){if(t){if("string"===typeof t)return PA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PA(t,e):void 0}}function PA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jA(t,e,n){return e&&RA(t.prototype,e),n&&RA(t,n),t}function EA(t,e,n){return EA="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=xA(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},EA(t,e,n||t)}function xA(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=VA(t),null===t)break;return t}function TA(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},CA(t,e)}function IA(t){var e=NA();return function(){var n,r=VA(t);if(e){var o=VA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DA(this,n)}}function DA(t,e){return!e||"object"!==kA(e)&&"function"!==typeof e?MA(t):e}function MA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function VA(t){return VA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},VA(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var BA=function(t){TA(n,t);var e=IA(n);function n(t,r,o,i,a){var u;return AA(this,n),u=e.call(this,a),u.range=t.clone(),u.key=r,u.oldValue=void 0===o?null:o,u.newValue=void 0===i?null:i,u}return jA(n,[{key:"clone",value:function(){return new n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var t=EA(VA(n.prototype),"toJSON",this).call(this);return t.range=this.range.toJSON(),t}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new Oa["b"]("attribute-operation-range-not-flat: The range to change is not flat.",this);var t,e=SA(this.range.getItems({shallow:!0}));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(null!==this.oldValue&&!_A(n.getAttribute(this.key),this.oldValue))throw new Oa["b"]("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new Oa["b"]("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:n,key:this.key})}}catch(r){e.e(r)}finally{e.f()}}},{key:"_execute",value:function(){_A(this.oldValue,this.newValue)||dA(this.range,this.key,this.newValue)}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(t,e){return new n(d_.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}]),n}(tA);function FA(t){return FA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FA(t)}function LA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UA(t,e,n){return e&&zA(t.prototype,e),n&&zA(t,n),t}function HA(t,e,n){return HA="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=$A(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},HA(t,e,n||t)}function $A(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=XA(t),null===t)break;return t}function WA(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qA(t,e)}function YA(t){var e=JA();return function(){var n,r=XA(t);if(e){var o=XA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GA(this,n)}}function GA(t,e){return!e||"object"!==FA(e)&&"function"!==typeof e?KA(t):e}function KA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function XA(t){return XA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},XA(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ZA=function(t){WA(n,t);var e=YA(n);function n(t,r){var o;return LA(this,n),o=e.call(this,null),o.sourcePosition=t.clone(),o.howMany=r,o}return UA(n,[{key:"toJSON",value:function(){var t=HA(XA(n.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new Oa["b"]("detach-operation-on-document-node: Cannot detach document node.",this)}},{key:"_execute",value:function(){pA(d_._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}],[{key:"className",get:function(){return"DetachOperation"}}]),n}(tA);function QA(t){return QA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QA(t)}function tR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nR(t,e,n){return e&&eR(t.prototype,e),n&&eR(t,n),t}function rR(t,e,n){return rR="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=oR(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},rR(t,e,n||t)}function oR(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=fR(t),null===t)break;return t}function iR(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aR(t,e)}function aR(t,e){return aR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},aR(t,e)}function uR(t){var e=lR();return function(){var n,r=fR(t);if(e){var o=fR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cR(this,n)}}function cR(t,e){return!e||"object"!==QA(e)&&"function"!==typeof e?sR(t):e}function sR(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lR(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function fR(t){return fR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fR(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var hR=function(t){iR(n,t);var e=uR(n);function n(t,r,o,i){var a;return tR(this,n),a=e.call(this,i),a.sourcePosition=t.clone(),a.sourcePosition.stickiness="toNext",a.howMany=r,a.targetPosition=o.clone(),a.targetPosition.stickiness="toNone",a}return nR(n,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new Oa["b"]("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(t===e&&n<r&&r<n+this.howMany)throw new Oa["b"]("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Iu(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=n&&this.targetPosition.path[o]<n+this.howMany)throw new Oa["b"]("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}},{key:"_execute",value:function(){yA(d_._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var t=rR(fR(n.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}],[{key:"fromJSON",value:function(t,e){var n=e_.fromJSON(t.sourcePosition,e),r=e_.fromJSON(t.targetPosition,e);return new this(n,t.howMany,r,t.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}]),n}(tA);function pR(t){return pR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pR(t)}function yR(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=mR(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function dR(t){return gR(t)||bR(t)||mR(t)||vR()}function vR(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mR(t,e){if(t){if("string"===typeof t)return wR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wR(t,e):void 0}}function bR(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function gR(t){if(Array.isArray(t))return wR(t)}function wR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SR(t,e,n){return e&&kR(t.prototype,e),n&&kR(t,n),t}function OR(t,e,n){return OR="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=PR(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},OR(t,e,n||t)}function PR(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=CR(t),null===t)break;return t}function AR(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RR(t,e)}function RR(t,e){return RR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},RR(t,e)}function jR(t){var e=TR();return function(){var n,r=CR(t);if(e){var o=CR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ER(this,n)}}function ER(t,e){return!e||"object"!==pR(e)&&"function"!==typeof e?xR(t):e}function xR(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TR(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function CR(t){return CR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},CR(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var IR=function(t){AR(n,t);var e=jR(n);function n(t,r,o){var i;return _R(this,n),i=e.call(this,o),i.position=t.clone(),i.position.stickiness="toNone",i.nodes=new kw(vA(r)),i.shouldReceiveAttributes=!1,i}return SR(n,[{key:"clone",value:function(){var t=new kw(dR(this.nodes).map((function(t){return t._clone(!0)}))),e=new n(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}},{key:"getReversed",value:function(){var t=this.position.root.document.graveyard,e=new e_(t,[0]);return new hR(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new Oa["b"]("insert-operation-position-invalid: Insertion position is invalid.",this)}},{key:"_execute",value:function(){var t=this.nodes;this.nodes=new kw(dR(t).map((function(t){return t._clone(!0)}))),hA(this.position,t)}},{key:"toJSON",value:function(){var t=OR(CR(n.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}],[{key:"fromJSON",value:function(t,e){var r,o=[],i=yR(t.nodes);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.name?o.push(Fw.fromJSON(a)):o.push(uw.fromJSON(a))}}catch(c){i.e(c)}finally{i.f()}var u=new n(e_.fromJSON(t.position,e),o,t.baseVersion);return u.shouldReceiveAttributes=t.shouldReceiveAttributes,u}},{key:"className",get:function(){return"InsertOperation"}}]),n}(tA);function DR(t){return DR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DR(t)}function MR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VR(t,e,n){return e&&NR(t.prototype,e),n&&NR(t,n),t}function BR(t,e,n){return BR="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=FR(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},BR(t,e,n||t)}function FR(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=qR(t),null===t)break;return t}function LR(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zR(t,e)}function zR(t,e){return zR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zR(t,e)}function UR(t){var e=WR();return function(){var n,r=qR(t);if(e){var o=qR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HR(this,n)}}function HR(t,e){return!e||"object"!==DR(e)&&"function"!==typeof e?$R(t):e}function $R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WR(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function qR(t){return qR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qR(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var YR=function(t){LR(n,t);var e=UR(n);function n(t,r,o,i,a,u){var c;return MR(this,n),c=e.call(this,u),c.name=t,c.oldRange=r?r.clone():null,c.newRange=o?o.clone():null,c.affectsData=a,c._markers=i,c}return VR(n,[{key:"clone",value:function(){return new n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var t=BR(qR(n.prototype),"toJSON",this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(t,e){return new n(t.name,t.oldRange?d_.fromJSON(t.oldRange,e):null,t.newRange?d_.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}]),n}(tA);function GR(t){return GR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GR(t)}function KR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XR(t,e,n){return e&&JR(t.prototype,e),n&&JR(t,n),t}function ZR(t,e,n){return ZR="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=QR(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},ZR(t,e,n||t)}function QR(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=aj(t),null===t)break;return t}function tj(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ej(t,e)}function ej(t,e){return ej=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ej(t,e)}function nj(t){var e=ij();return function(){var n,r=aj(t);if(e){var o=aj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rj(this,n)}}function rj(t,e){return!e||"object"!==GR(e)&&"function"!==typeof e?oj(t):e}function oj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ij(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function aj(t){return aj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},aj(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var uj=function(t){tj(n,t);var e=nj(n);function n(t,r,o,i){var a;return KR(this,n),a=e.call(this,i),a.position=t,a.position.stickiness="toNext",a.oldName=r,a.newName=o,a}return XR(n,[{key:"clone",value:function(){return new n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.nodeAfter;if(!(t instanceof Fw))throw new Oa["b"]("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(t.name!==this.oldName)throw new Oa["b"]("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}},{key:"_execute",value:function(){var t=this.position.nodeAfter;t.name=this.newName}},{key:"toJSON",value:function(){var t=ZR(aj(n.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(t,e){return new n(e_.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}]),n}(tA);function cj(t){return cj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cj(t)}function sj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fj(t,e,n){return e&&lj(t.prototype,e),n&&lj(t,n),t}function hj(t,e,n){return hj="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=pj(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},hj(t,e,n||t)}function pj(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=wj(t),null===t)break;return t}function yj(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dj(t,e)}function dj(t,e){return dj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dj(t,e)}function vj(t){var e=gj();return function(){var n,r=wj(t);if(e){var o=wj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mj(this,n)}}function mj(t,e){return!e||"object"!==cj(e)&&"function"!==typeof e?bj(t):e}function bj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function wj(t){return wj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wj(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var _j=function(t){yj(n,t);var e=vj(n);function n(t,r,o,i,a){var u;return sj(this,n),u=e.call(this,a),u.root=t,u.key=r,u.oldValue=o,u.newValue=i,u}return fj(n,[{key:"clone",value:function(){return new n(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Oa["b"]("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Oa["b"]("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Oa["b"]("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var t=hj(wj(n.prototype),"toJSON",this).call(this);return t.root=this.root.toJSON(),t}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(t,e){if(!e.getRoot(t.root))throw new Oa["b"]("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root});return new n(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}},{key:"className",get:function(){return"RootAttributeOperation"}}]),n}(tA);function kj(t){return kj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kj(t)}function Sj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pj(t,e,n){return e&&Oj(t.prototype,e),n&&Oj(t,n),t}function Aj(t,e,n){return Aj="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Rj(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Aj(t,e,n||t)}function Rj(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Dj(t),null===t)break;return t}function jj(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ej(t,e)}function Ej(t,e){return Ej=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ej(t,e)}function xj(t){var e=Ij();return function(){var n,r=Dj(t);if(e){var o=Dj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tj(this,n)}}function Tj(t,e){return!e||"object"!==kj(e)&&"function"!==typeof e?Cj(t):e}function Cj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ij(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Dj(t){return Dj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dj(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Mj=function(t){jj(n,t);var e=xj(n);function n(t,r,o,i,a){var u;return Sj(this,n),u=e.call(this,a),u.sourcePosition=t.clone(),u.sourcePosition.stickiness="toPrevious",u.howMany=r,u.targetPosition=o.clone(),u.targetPosition.stickiness="toNext",u.graveyardPosition=i.clone(),u}return Pj(n,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new e_(this.sourcePosition.root,e)._getTransformedByMergeOperation(this),r=new Kj(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return r.insertionPosition=n,r}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new Oa["b"]("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!e.parent)throw new Oa["b"]("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=t.maxOffset)throw new Oa["b"]("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}},{key:"_execute",value:function(){var t=this.sourcePosition.parent,e=d_._createIn(t);yA(e,this.targetPosition),yA(d_._createOn(t),this.graveyardPosition)}},{key:"toJSON",value:function(){var t=Aj(Dj(n.prototype),"toJSON",this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new e_(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new d_(this.sourcePosition,t)}}],[{key:"fromJSON",value:function(t,e){var n=e_.fromJSON(t.sourcePosition,e),r=e_.fromJSON(t.targetPosition,e),o=e_.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,r,o,t.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}]),n}(tA);function Nj(t){return Nj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nj(t)}function Vj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fj(t,e,n){return e&&Bj(t.prototype,e),n&&Bj(t,n),t}function Lj(t,e,n){return Lj="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=zj(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Lj(t,e,n||t)}function zj(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Gj(t),null===t)break;return t}function Uj(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hj(t,e)}function Hj(t,e){return Hj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hj(t,e)}function $j(t){var e=Yj();return function(){var n,r=Gj(t);if(e){var o=Gj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wj(this,n)}}function Wj(t,e){return!e||"object"!==Nj(e)&&"function"!==typeof e?qj(t):e}function qj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Gj(t){return Gj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gj(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Kj=function(t){Uj(n,t);var e=$j(n);function n(t,r,o,i){var a;return Vj(this,n),a=e.call(this,i),a.splitPosition=t.clone(),a.splitPosition.stickiness="toNext",a.howMany=r,a.insertionPosition=n.getInsertionPosition(t),a.insertionPosition.stickiness="toNone",a.graveyardPosition=o?o.clone():null,a.graveyardPosition&&(a.graveyardPosition.stickiness="toNext"),a}return Fj(n,[{key:"clone",value:function(){var t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}},{key:"getReversed",value:function(){var t=this.splitPosition.root.document.graveyard,e=new e_(t,[0]);return new Mj(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new Oa["b"]("split-operation-position-invalid: Split position is invalid.",this);if(!t.parent)throw new Oa["b"]("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new Oa["b"]("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Oa["b"]("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}},{key:"_execute",value:function(){var t=this.splitPosition.parent;if(this.graveyardPosition)yA(d_._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var e=t._clone();hA(this.insertionPosition,e)}var n=new d_(e_._createAt(t,this.splitPosition.offset),e_._createAt(t,t.maxOffset));yA(n,this.moveTargetPosition)}},{key:"toJSON",value:function(){var t=Lj(Gj(n.prototype),"toJSON",this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var t=this.insertionPosition.path.slice();return t.push(0),new e_(this.insertionPosition.root,t)}},{key:"movedRange",get:function(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new d_(this.splitPosition,t)}}],[{key:"getInsertionPosition",value:function(t){var e=t.path.slice(0,-1);return e[e.length-1]++,new e_(t.root,e)}},{key:"fromJSON",value:function(t,e){var n=e_.fromJSON(t.splitPosition,e),r=e_.fromJSON(t.insertionPosition,e),o=t.graveyardPosition?e_.fromJSON(t.graveyardPosition,e):null,i=new this(n,t.howMany,o,t.baseVersion);return i.insertionPosition=r,i}},{key:"className",get:function(){return"SplitOperation"}}]),n}(tA);function Jj(t){return Jj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jj(t)}function Xj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qj(t,e,n){return e&&Zj(t.prototype,e),n&&Zj(t,n),t}function tE(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},eE(t,e)}function nE(t){var e=iE();return function(){var n,r=aE(t);if(e){var o=aE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rE(this,n)}}function rE(t,e){return!e||"object"!==Jj(e)&&"function"!==typeof e?oE(t):e}function oE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function aE(t){return aE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},aE(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var uE=function(t){tE(n,t);var e=nE(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return Xj(this,n),o=e.call(this,r),o._document=t,o.rootName=i,o}return Qj(n,[{key:"is",value:function(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||t===this.name||t==="model:"+this.name||"node"===t||"model:node"===t}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._document}}]),n}(Fw);function cE(t,e){return fE(t)||lE(t,e)||pE(t,e)||sE()}function sE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lE(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function fE(t){if(Array.isArray(t))return t}function hE(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=pE(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function pE(t,e){if(t){if("string"===typeof t)return yE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yE(t,e):void 0}}function yE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mE(t,e,n){return e&&vE(t.prototype,e),n&&vE(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var bE=function(){function t(e,n){dE(this,t),this.model=e,this.batch=n}return mE(t,[{key:"createText",value:function(t,e){return new uw(t,e)}},{key:"createElement",value:function(t,e){return new Fw(t,e)}},{key:"createDocumentFragment",value:function(){return new uA}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(t instanceof uw&&""==t.data)){var r=e_._createAt(e,n);if(t.parent){if(SE(t.root,r.root))return void this.move(d_._createOn(t),r);if(t.root.document)throw new Oa["b"]("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(t)}var o=r.root.document?r.root.document.version:null,i=new IR(r,t,o);if(t instanceof uw&&(i.shouldReceiveAttributes=!0),this.batch.addOperation(i),this.model.applyOperation(i),t instanceof uA){var a,u=hE(t.markers);try{for(u.s();!(a=u.n()).done;){var c=cE(a.value,2),s=c[0],l=c[1],f=e_._createAt(l.root,0),h=new d_(l.start._getCombined(f,r),l.end._getCombined(f,r)),p={range:h,usingOperation:!0,affectsData:!0};this.model.markers.has(s)?this.updateMarker(s,p):this.addMarker(s,p)}}catch(y){u.e(y)}finally{u.f()}}}}},{key:"insertText",value:function(t,e,n,r){e instanceof uA||e instanceof Fw||e instanceof e_?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,r)}},{key:"insertElement",value:function(t,e,n,r){e instanceof uA||e instanceof Fw||e instanceof e_?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,r)}},{key:"append",value:function(t,e){this.insert(t,e,"end")}},{key:"appendText",value:function(t,e,n){e instanceof uA||e instanceof Fw?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}},{key:"appendElement",value:function(t,e,n){e instanceof uA||e instanceof Fw?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}},{key:"setAttribute",value:function(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof d_){var r,o=n.getMinimalFlatRanges(),i=hE(o);try{for(i.s();!(r=i.n()).done;){var a=r.value;gE(this,t,e,a)}}catch(u){i.e(u)}finally{i.f()}}else wE(this,t,e,n)}},{key:"setAttributes",value:function(t,e){var n,r=hE(oc(t));try{for(r.s();!(n=r.n()).done;){var o=cE(n.value,2),i=o[0],a=o[1];this.setAttribute(i,a,e)}}catch(u){r.e(u)}finally{r.f()}}},{key:"removeAttribute",value:function(t,e){if(this._assertWriterUsedCorrectly(),e instanceof d_){var n,r=e.getMinimalFlatRanges(),o=hE(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;gE(this,t,null,i)}}catch(a){o.e(a)}finally{o.f()}}else wE(this,t,null,e)}},{key:"clearAttributes",value:function(t){var e=this;this._assertWriterUsedCorrectly();var n=function(t){var n,r=hE(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var o=n.value;e.removeAttribute(o,t)}}catch(i){r.e(i)}finally{r.f()}};if(t instanceof d_){var r,o=hE(t.getItems());try{for(o.s();!(r=o.n()).done;){var i=r.value;n(i)}}catch(a){o.e(a)}finally{o.f()}}else n(t)}},{key:"move",value:function(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof d_))throw new Oa["b"]("writer-move-invalid-range: Invalid range to move.",this);if(!t.isFlat)throw new Oa["b"]("writer-move-range-not-flat: Range to move is not flat.",this);var r=e_._createAt(e,n);if(!r.isEqual(t.start)){if(this._addOperationForAffectedMarkers("move",t),!SE(t.root,r.root))throw new Oa["b"]("writer-move-different-document: Range is going to be moved between different documents.",this);var o=t.root.document?t.root.document.version:null,i=new hR(t.start,t.end.offset-t.start.offset,r,o);this.batch.addOperation(i),this.model.applyOperation(i)}}},{key:"remove",value:function(t){this._assertWriterUsedCorrectly();var e,n=t instanceof d_?t:d_._createOn(t),r=n.getMinimalFlatRanges().reverse(),o=hE(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;this._addOperationForAffectedMarkers("move",i),kE(i.start,i.end.offset-i.start.offset,this.batch,this.model)}}catch(a){o.e(a)}finally{o.f()}}},{key:"merge",value:function(t){this._assertWriterUsedCorrectly();var e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Fw))throw new Oa["b"]("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof Fw))throw new Oa["b"]("writer-merge-no-element-after: Node after merge position must be an element.",this);t.root.document?this._merge(t):this._mergeDetached(t)}},{key:"createPositionFromPath",value:function(t,e,n){return this.model.createPositionFromPath(t,e,n)}},{key:"createPositionAt",value:function(t,e){return this.model.createPositionAt(t,e)}},{key:"createPositionAfter",value:function(t){return this.model.createPositionAfter(t)}},{key:"createPositionBefore",value:function(t){return this.model.createPositionBefore(t)}},{key:"createRange",value:function(t,e){return this.model.createRange(t,e)}},{key:"createRangeIn",value:function(t){return this.model.createRangeIn(t)}},{key:"createRangeOn",value:function(t){return this.model.createRangeOn(t)}},{key:"createSelection",value:function(t,e,n){return this.model.createSelection(t,e,n)}},{key:"_mergeDetached",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;this.move(d_._createIn(n),e_._createAt(e,"end")),this.remove(n)}},{key:"_merge",value:function(t){var e=e_._createAt(t.nodeBefore,"end"),n=e_._createAt(t.nodeAfter,0),r=t.root.document.graveyard,o=new e_(r,[0]),i=t.root.document.version,a=new Mj(n,t.nodeAfter.maxOffset,e,o,i);this.batch.addOperation(a),this.model.applyOperation(a)}},{key:"rename",value:function(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Fw))throw new Oa["b"]("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);var n=t.root.document?t.root.document.version:null,r=new uj(e_._createBefore(t),t.name,e,n);this.batch.addOperation(r),this.model.applyOperation(r)}},{key:"split",value:function(t,e){this._assertWriterUsedCorrectly();var n,r,o=t.parent;if(!o.parent)throw new Oa["b"]("writer-split-element-no-parent: Element with no parent can not be split.",this);if(e||(e=o.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new Oa["b"]("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{var i=o.root.document?o.root.document.version:null,a=o.maxOffset-t.offset,u=new Kj(t,a,null,i);this.batch.addOperation(u),this.model.applyOperation(u),n||r||(n=o,r=t.parent.nextSibling),t=this.createPositionAfter(t.parent),o=t.parent}while(o!==e);return{position:t,range:new d_(e_._createAt(n,"end"),e_._createAt(r,0))}}},{key:"wrap",value:function(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new Oa["b"]("writer-wrap-range-not-flat: Range to wrap is not flat.",this);var n=e instanceof Fw?e:new Fw(e);if(n.childCount>0)throw new Oa["b"]("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new Oa["b"]("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,t.start);var r=new d_(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(r,e_._createAt(n,0))}},{key:"unwrap",value:function(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new Oa["b"]("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(d_._createIn(t),this.createPositionAfter(t)),this.remove(t)}},{key:"addMarker",value:function(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new Oa["b"]("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);var n=e.usingOperation,r=e.range,o=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new Oa["b"]("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!r)throw new Oa["b"]("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(_E(this,t,null,r,o),this.model.markers.get(t)):this.model.markers._set(t,r,n,o)}},{key:"updateMarker",value:function(t,e){this._assertWriterUsedCorrectly();var n="string"==typeof t?t:t.name,r=this.model.markers.get(n);if(!r)throw new Oa["b"]("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(e){var o="boolean"==typeof e.usingOperation,i="boolean"==typeof e.affectsData,a=i?e.affectsData:r.affectsData;if(!o&&!e.range&&!i)throw new Oa["b"]("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);var u=r.getRange(),c=e.range?e.range:u;o&&e.usingOperation!==r.managedUsingOperations?e.usingOperation?_E(this,n,null,c,a):(_E(this,n,u,null,a),this.model.markers._set(n,c,void 0,a)):r.managedUsingOperations?_E(this,n,u,c,a):this.model.markers._set(n,c,void 0,a)}else this.model.markers._refresh(r)}},{key:"removeMarker",value:function(t){this._assertWriterUsedCorrectly();var e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new Oa["b"]("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);var n=this.model.markers.get(e);if(n.managedUsingOperations){var r=n.getRange();_E(this,e,r,null,n.affectsData)}else this.model.markers._remove(e)}},{key:"setSelection",value:function(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}},{key:"setSelectionFocus",value:function(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}},{key:"setSelectionAttribute",value:function(t,e){if(this._assertWriterUsedCorrectly(),"string"===typeof t)this._setSelectionAttribute(t,e);else{var n,r=hE(oc(t));try{for(r.s();!(n=r.n()).done;){var o=cE(n.value,2),i=o[0],a=o[1];this._setSelectionAttribute(i,a)}}catch(u){r.e(u)}finally{r.f()}}}},{key:"removeSelectionAttribute",value:function(t){if(this._assertWriterUsedCorrectly(),"string"===typeof t)this._removeSelectionAttribute(t);else{var e,n=hE(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._removeSelectionAttribute(r)}}catch(o){n.e(o)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(t){this.model.document.selection._restoreGravity(t)}},{key:"_setSelectionAttribute",value:function(t,e){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var r=xk._getStoreAttributeKey(t);this.setAttribute(r,e,n.anchor.parent)}n._setAttribute(t,e)}},{key:"_removeSelectionAttribute",value:function(t){var e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){var n=xk._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new Oa["b"]("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}},{key:"_addOperationForAffectedMarkers",value:function(t,e){var n,r=hE(this.model.markers);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.managedUsingOperations){var i=o.getRange(),a=!1;if("move"===t)a=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{var u=e.nodeBefore,c=e.nodeAfter,s=i.start.parent==u&&i.start.isAtEnd,l=i.end.parent==c&&0==i.end.offset,f=i.end.nodeAfter==c,h=i.start.nodeAfter==c;a=s||l||f||h}a&&this.updateMarker(o.name,{range:i})}}}catch(p){r.e(p)}finally{r.f()}}}]),t}();function gE(t,e,n,r){var o,i,a,u,c=t.model,s=c.document,l=r.start,f=hE(r.getWalker({shallow:!0}));try{for(f.s();!(u=f.n()).done;){var h=u.value;a=h.item.getAttribute(e),o&&i!=a&&(i!=n&&p(),l=o),o=h.nextPosition,i=a}}catch(y){f.e(y)}finally{f.f()}function p(){var r=new d_(l,o),a=r.root.document?s.version:null,u=new BA(r,e,i,n,a);t.batch.addOperation(u),c.applyOperation(u)}o instanceof e_&&o!=l&&i!=n&&p()}function wE(t,e,n,r){var o,i,a=t.model,u=a.document,c=r.getAttribute(e);if(c!=n){var s=r.root===r;if(s){var l=r.document?u.version:null;i=new _j(r,e,c,n,l)}else{o=new d_(e_._createBefore(r),t.createPositionAfter(r));var f=o.root.document?u.version:null;i=new BA(o,e,c,n,f)}t.batch.addOperation(i),a.applyOperation(i)}}function _E(t,e,n,r,o){var i=t.model,a=i.document,u=new YR(e,n,r,i.markers,o,a.version);t.batch.addOperation(u),i.applyOperation(u)}function kE(t,e,n,r){var o;if(t.root.document){var i=r.document,a=new e_(i.graveyard,[0]);o=new hR(t,e,a,i.version)}else o=new ZA(t,e);n.addOperation(o),r.applyOperation(o)}function SE(t,e){return t===e||t instanceof uE&&e instanceof uE}function OE(t){return RE(t)||AE(t)||IE(t)||PE()}function PE(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function AE(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function RE(t){if(Array.isArray(t))return DE(t)}function jE(t,e){return TE(t)||xE(t,e)||IE(t,e)||EE()}function EE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xE(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function TE(t){if(Array.isArray(t))return t}function CE(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=IE(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function IE(t,e){if(t){if("string"===typeof t)return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DE(t,e):void 0}}function DE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ME(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VE(t,e,n){return e&&NE(t.prototype,e),n&&NE(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var BE=function(){function t(e){ME(this,t),this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return VE(t,[{key:"refreshItem",value:function(t){if(!this._isInInsertedElement(t.parent)){this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);var e,n=d_._createOn(t),r=CE(this._markerCollection.getMarkersIntersectingRange(n));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.getRange();this.bufferMarkerChange(o.name,i,i,o.affectsData)}}catch(a){r.e(a)}finally{r.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var e,n=CE(t.range.getItems({shallow:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._isInInsertedElement(r.parent)||this._markAttribute(r)}}catch(d){n.e(d)}finally{n.f()}break;case"remove":case"move":case"reinsert":if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;var o=this._isInInsertedElement(t.sourcePosition.parent),i=this._isInInsertedElement(t.targetPosition.parent);o||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),i||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break;case"rename":if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);var a,u=d_._createFromPositionAndShift(t.position,1),c=CE(this._markerCollection.getMarkersIntersectingRange(u));try{for(c.s();!(a=c.n()).done;){var s=a.value,l=s.getRange();this.bufferMarkerChange(s.name,l,l,s.affectsData)}}catch(d){c.e(d)}finally{c.f()}break;case"split":var f=t.splitPosition.parent;this._isInInsertedElement(f)||this._markRemove(f,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break;case"merge":var h=t.sourcePosition.parent;this._isInInsertedElement(h.parent)||this._markRemove(h.parent,h.startOffset,1);var p=t.graveyardPosition.parent;this._markInsert(p,t.graveyardPosition.offset,1);var y=t.targetPosition.parent;this._isInInsertedElement(y)||this._markInsert(y,t.targetPosition.offset,h.maxOffset);break}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(t,e,n,r){var o=this._changedMarkers.get(t);o?(o.newRange=n,o.affectsData=r,null==o.oldRange&&null==o.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:r})}},{key:"getMarkersToRemove",value:function(){var t,e=[],n=CE(this._changedMarkers);try{for(n.s();!(t=n.n()).done;){var r=jE(t.value,2),o=r[0],i=r[1];null!=i.oldRange&&e.push({name:o,range:i.oldRange})}}catch(a){n.e(a)}finally{n.f()}return e}},{key:"getMarkersToAdd",value:function(){var t,e=[],n=CE(this._changedMarkers);try{for(n.s();!(t=n.n()).done;){var r=jE(t.value,2),o=r[0],i=r[1];null!=i.newRange&&e.push({name:o,range:i.newRange})}}catch(a){n.e(a)}finally{n.f()}return e}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map((function(t){return{name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}}))}},{key:"hasDataChanges",value:function(){var t,e=CE(this._changedMarkers);try{for(e.s();!(t=e.n()).done;){var n=jE(t.value,2),r=n[1];if(r.affectsData)return!0}}catch(o){e.e(o)}finally{e.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var e,n=[],r=CE(this._changesInElement.keys());try{for(r.s();!(e=r.n()).done;){var o,i=e.value,a=this._changesInElement.get(i).sort((function(t,e){return t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1})),u=this._elementSnapshots.get(i),c=FE(i.getChildren()),s=LE(u.length,a),l=0,f=0,h=CE(s);try{for(h.s();!(o=h.n()).done;){var p=o.value;if("i"===p)n.push(this._getInsertDiff(i,l,c[l].name)),l++;else if("r"===p)n.push(this._getRemoveDiff(i,l,u[f].name)),f++;else if("a"===p){var y=c[l].attributes,d=u[f].attributes,v=void 0;if("$text"==c[l].name)v=new d_(e_._createAt(i,l),e_._createAt(i,l+1));else{var m=i.offsetToIndex(l);v=new d_(e_._createAt(i,l),e_._createAt(i.getChild(m),0))}n.push.apply(n,OE(this._getAttributesDiff(v,d,y))),l++,f++}else l++,f++}}catch(R){h.e(R)}finally{h.f()}}}catch(R){r.e(R)}finally{r.f()}n.sort((function(t,e){return t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1}));for(var b=1;b<n.length;b++){var g=n[b-1],w=n[b],_="remove"==g.type&&"remove"==w.type&&"$text"==g.name&&"$text"==w.name&&g.position.isEqual(w.position),k="insert"==g.type&&"insert"==w.type&&"$text"==g.name&&"$text"==w.name&&g.position.parent==w.position.parent&&g.position.offset+g.length==w.position.offset,S="attribute"==g.type&&"attribute"==w.type&&g.position.parent==w.position.parent&&g.range.isFlat&&w.range.isFlat&&g.position.offset+g.length==w.position.offset&&g.attributeKey==w.attributeKey&&g.attributeOldValue==w.attributeOldValue&&g.attributeNewValue==w.attributeNewValue;(_||k||S)&&(n[b-1].length++,S&&(n[b-1].range.end=n[b-1].range.end.getShiftedBy(1)),n.splice(b,1),b--)}for(var O=0,P=n;O<P.length;O++){var A=P[O];delete A.changeCount,"attribute"==A.type&&(delete A.position,delete A.length)}return this._changeCount=0,this._cachedChangesWithGraveyard=n.slice(),this._cachedChanges=n.slice().filter(zE),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(t,e,n){var r={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r)}},{key:"_markRemove",value:function(t,e,n){var r={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r),this._removeAllNestedChanges(t,e,n)}},{key:"_markAttribute",value:function(t){var e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}},{key:"_markChange",value:function(t,e){this._makeSnapshot(t);var n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(var r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}},{key:"_getChangesForElement",value:function(t){var e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}},{key:"_makeSnapshot",value:function(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,FE(t.getChildren()))}},{key:"_handleChange",value:function(t,e){t.nodesToHandle=t.howMany;var n,r=CE(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=t.offset+t.howMany,a=o.offset+o.howMany;if("insert"==t.type&&("insert"==o.type&&(t.offset<=o.offset?o.offset+=t.howMany:t.offset<a&&(o.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==o.type&&t.offset<o.offset&&(o.offset+=t.howMany),"attribute"==o.type))if(t.offset<=o.offset)o.offset+=t.howMany;else if(t.offset<a){var u=o.howMany;o.howMany=t.offset-o.offset,e.unshift({type:"attribute",offset:i,howMany:u-o.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==o.type)if(i<=o.offset)o.offset-=t.howMany;else if(i<=a)if(t.offset<o.offset){var c=i-o.offset;o.offset=t.offset,o.howMany-=c,t.nodesToHandle-=c}else o.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=o.offset)t.nodesToHandle-=o.howMany,o.howMany=0;else if(t.offset<a){var s=a-t.offset;o.howMany-=s,t.nodesToHandle-=s}if("remove"==o.type&&(i<=o.offset?o.offset-=t.howMany:t.offset<o.offset&&(t.nodesToHandle+=o.howMany,o.howMany=0)),"attribute"==o.type)if(i<=o.offset)o.offset-=t.howMany;else if(t.offset<o.offset){var l=i-o.offset;o.offset=t.offset,o.howMany-=l}else if(t.offset<a)if(i<=a){var f=o.howMany;o.howMany=t.offset-o.offset;var h=f-o.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:h,count:this._changeCount++})}else o.howMany-=a-t.offset}if("attribute"==t.type){if("insert"==o.type)if(t.offset<o.offset&&i>o.offset){if(i>a){var p={type:"attribute",offset:a,howMany:i-a,count:this._changeCount++};this._handleChange(p,e),e.push(p)}t.nodesToHandle=o.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=o.offset&&t.offset<a&&(i>a?(t.nodesToHandle=i-a,t.offset=a):t.nodesToHandle=0);if("remove"==o.type&&t.offset<o.offset&&i>o.offset){var y={type:"attribute",offset:o.offset,howMany:i-o.offset,count:this._changeCount++};this._handleChange(y,e),e.push(y),t.nodesToHandle=o.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==o.type&&(t.offset>=o.offset&&i<=a?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=o.offset&&i>=a&&(o.howMany=0))}}}catch(d){r.e(d)}finally{r.f()}t.howMany=t.nodesToHandle,delete t.nodesToHandle}},{key:"_getInsertDiff",value:function(t,e,n){return{type:"insert",position:e_._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(t,e,n){return{type:"remove",position:e_._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(t,e,n){var r=[];n=new Map(n);var o,i=CE(e);try{for(i.s();!(o=i.n()).done;){var a=jE(o.value,2),u=a[0],c=a[1],s=n.has(u)?n.get(u):null;s!==c&&r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:u,attributeOldValue:c,attributeNewValue:s,changeCount:this._changeCount++}),n.delete(u)}}catch(d){i.e(d)}finally{i.f()}var l,f=CE(n);try{for(f.s();!(l=f.n()).done;){var h=jE(l.value,2),p=h[0],y=h[1];r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:y,changeCount:this._changeCount++})}}catch(d){f.e(d)}finally{f.f()}return r}},{key:"_isInInsertedElement",value:function(t){var e=t.parent;if(!e)return!1;var n=this._changesInElement.get(e),r=t.startOffset;if(n){var o,i=CE(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;if("insert"==a.type&&r>=a.offset&&r<a.offset+a.howMany)return!0}}catch(u){i.e(u)}finally{i.f()}}return this._isInInsertedElement(e)}},{key:"_removeAllNestedChanges",value:function(t,e,n){var r,o=new d_(e_._createAt(t,e),e_._createAt(t,e+n)),i=CE(o.getItems({shallow:!0}));try{for(i.s();!(r=i.n()).done;){var a=r.value;a.is("element")&&(this._elementSnapshots.delete(a),this._changesInElement.delete(a),this._removeAllNestedChanges(a,0,a.maxOffset))}}catch(u){i.e(u)}finally{i.f()}}},{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}]),t}();function FE(t){var e,n=[],r=CE(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o.is("text"))for(var i=0;i<o.data.length;i++)n.push({name:"$text",attributes:new Map(o.getAttributes())});else n.push({name:o.name,attributes:new Map(o.getAttributes())})}}catch(a){r.e(a)}finally{r.f()}return n}function LE(t,e){var n,r=[],o=0,i=0,a=CE(e);try{for(a.s();!(n=a.n()).done;){var u=n.value;if(u.offset>o){for(var c=0;c<u.offset-o;c++)r.push("e");i+=u.offset-o}if("insert"==u.type){for(var s=0;s<u.howMany;s++)r.push("i");o=u.offset+u.howMany}else if("remove"==u.type){for(var l=0;l<u.howMany;l++)r.push("r");o=u.offset,i+=u.howMany}else r.push.apply(r,OE("a".repeat(u.howMany).split(""))),o=u.offset+u.howMany,i+=u.howMany}}catch(h){a.e(h)}finally{a.f()}if(i<t)for(var f=0;f<t-i-o;f++)r.push("e");return r}function zE(t){var e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}function UE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $E(t,e,n){return e&&HE(t.prototype,e),n&&HE(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var WE=function(){function t(){UE(this,t),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return $E(t,[{key:"addOperation",value:function(t){this._operations.includes(t)||this._operations.push(t)}},{key:"getOperations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;return t<0?[]:this._operations.slice(t,e)}},{key:"getOperation",value:function(t){return this._operations[t]}},{key:"setOperationAsUndone",value:function(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}},{key:"isUndoingOperation",value:function(t){return this._undoPairs.has(t)}},{key:"isUndoneOperation",value:function(t){return this._undoneOperations.has(t)}},{key:"getUndoneOperation",value:function(t){return this._undoPairs.get(t)}}]),t}();
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qE(t){return!!t&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}function YE(t){return!!t&&1==t.length&&/[\ud800-\udbff]/.test(t)}function GE(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}function KE(t,e){return YE(t.charAt(e-1))&&GE(t.charAt(e))}function JE(t,e){return qE(t.charAt(e))}function XE(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ZE(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ZE(t,e){if(t){if("string"===typeof t)return QE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QE(t,e):void 0}}function QE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ex(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nx(t,e,n){return e&&ex(t.prototype,e),n&&ex(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var rx="$graveyard",ox=function(){function t(e){var n=this;tx(this,t),this.model=e,this.version=0,this.history=new WE(this),this.selection=new xk(this),this.roots=new ou({idProperty:"rootName"}),this.differ=new BE(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",rx),this.listenTo(e,"applyOperation",(function(t,e){var r=e[0];if(r.isDocumentOperation&&r.baseVersion!==n.version)throw new Oa["b"]("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",n,{operation:r})}),{priority:"highest"}),this.listenTo(e,"applyOperation",(function(t,e){var r=e[0];r.isDocumentOperation&&n.differ.bufferOperation(r)}),{priority:"high"}),this.listenTo(e,"applyOperation",(function(t,e){var r=e[0];r.isDocumentOperation&&(n.version++,n.history.addOperation(r))}),{priority:"low"}),this.listenTo(this.selection,"change",(function(){n._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(e.markers,"update",(function(t,e,r,o){n.differ.bufferMarkerChange(e.name,r,o,e.affectsData),null===r&&e.on("change",(function(t,r){n.differ.bufferMarkerChange(e.name,r,e.getRange(),e.affectsData)}))}))}return nx(t,[{key:"createRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(e))throw new Oa["b"]("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:e});var n=new uE(this,t,e);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(t)}},{key:"getRootNames",value:function(){return Array.from(this.roots,(function(t){return t.rootName})).filter((function(t){return t!=rx}))}},{key:"registerPostFixer",value:function(t){this._postFixers.add(t)}},{key:"toJSON",value:function(){var t=Nu(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}},{key:"_handleChangeBlock",value:function(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var t,e=XE(this.roots);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n!==this.graveyard)return n}}catch(r){e.e(r)}finally{e.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var t=this._getDefaultRoot(),e=this.model,n=e.schema,r=e.createPositionFromPath(t,[0]),o=n.getNearestSelectionRange(r);return o||e.createRange(r)}},{key:"_validateSelectionRange",value:function(t){return ix(t.start)&&ix(t.end)}},{key:"_callPostFixers",value:function(t){var e=!1;do{var n,r=XE(this._postFixers);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(this.selection.refresh(),e=o(t),e)break}}catch(i){r.e(i)}finally{r.f()}}while(e)}},{key:"graveyard",get:function(){return this.getRoot(rx)}}]),t}();function ix(t){var e=t.textNode;if(e){var n=e.data,r=t.offset-e.startOffset;return!KE(n,r)&&!JE(n,r)}return!0}function ax(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ux(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ux(t,e){if(t){if("string"===typeof t)return cx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cx(t,e):void 0}}function cx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fx(t,e,n){return e&&lx(t.prototype,e),n&&lx(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(ox,Fa);var hx=function(){function t(){sx(this,t),this._markers=new Map}return fx(t,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(t){return this._markers.has(t)}},{key:"get",value:function(t){return this._markers.get(t)||null}},{key:"_set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t instanceof px?t.name:t,i=this._markers.get(o);if(i){var a=i.getRange(),u=!1;return a.isEqual(e)||(i._attachLiveRange(ik.fromRange(e)),u=!0),n!=i.managedUsingOperations&&(i._managedUsingOperations=n,u=!0),"boolean"===typeof r&&r!=i.affectsData&&(i._affectsData=r,u=!0),u&&this.fire("update:"+o,i,a,e),i}var c=ik.fromRange(e),s=new px(o,c,n,r);return this._markers.set(o,s),this.fire("update:"+o,s,null,e),s}},{key:"_remove",value:function(t){var e=t instanceof px?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(t){var e=t instanceof px?t.name:t,n=this._markers.get(e);if(!n)throw new Oa["b"]("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);var r=n.getRange();this.fire("update:"+e,n,r,r,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:a.a.mark((function t(e){var n,r,o;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=ax(this),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(o=r.value,!o.getRange().containsPosition(e)){t.next=8;break}return t.next=8,o;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"getMarkersIntersectingRange",value:a.a.mark((function t(e){var n,r,o;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=ax(this),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(o=r.value,null===o.getRange().getIntersection(e)){t.next=8;break}return t.next=8,o;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"destroy",value:function(){var t,e=ax(this._markers.values());try{for(e.s();!(t=e.n()).done;){var n=t.value;this._destroyMarker(n)}}catch(r){e.e(r)}finally{e.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:a.a.mark((function t(e){var n,r,o;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=ax(this._markers.values()),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(o=r.value,!o.name.startsWith(e+":")){t.next=8;break}return t.next=8,o;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"_destroyMarker",value:function(t){t.stopListening(),t._detachLiveRange()}}]),t}();Xa(hx,Fa);var px=function(){function t(e,n,r,o){sx(this,t),this.name=e,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=r,this._affectsData=o}return fx(t,[{key:"getStart",value:function(){if(!this._liveRange)throw new Oa["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new Oa["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new Oa["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}},{key:"is",value:function(t){return"marker"===t||"model:marker"===t}},{key:"_attachLiveRange",value:function(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}},{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new Oa["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new Oa["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}}]),t}();function yx(t){return yx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(t)}function dx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mx(t,e,n){return e&&vx(t.prototype,e),n&&vx(t,n),t}function bx(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gx(t,e)}function gx(t,e){return gx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},gx(t,e)}function wx(t){var e=Sx();return function(){var n,r=Ox(t);if(e){var o=Ox(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _x(this,n)}}function _x(t,e){return!e||"object"!==yx(e)&&"function"!==typeof e?kx(t):e}function kx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ox(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(px,Fa);var Px=function(t){bx(n,t);var e=wx(n);function n(){return dx(this,n),e.apply(this,arguments)}return mx(n,[{key:"clone",value:function(){return new n(this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}],[{key:"className",get:function(){return"NoOperation"}}]),n}(tA);function Ax(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jx(t,e,n){return e&&Rx(t.prototype,e),n&&Rx(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ex={};Ex[BA.className]=BA,Ex[IR.className]=IR,Ex[YR.className]=YR,Ex[hR.className]=hR,Ex[Px.className]=Px,Ex[tA.className]=tA,Ex[uj.className]=uj,Ex[_j.className]=_j,Ex[Kj.className]=Kj,Ex[Mj.className]=Mj;var xx=function(){function t(){Ax(this,t)}return jx(t,null,[{key:"fromJSON",value:function(t,e){return Ex[t.__className].fromJSON(t,e)}}]),t}();function Tx(t){return Tx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(t)}function Cx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ix(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dx(t,e,n){return e&&Ix(t.prototype,e),n&&Ix(t,n),t}function Mx(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nx(t,e)}function Nx(t,e){return Nx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nx(t,e)}function Vx(t){var e=Lx();return function(){var n,r=zx(t);if(e){var o=zx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bx(this,n)}}function Bx(t,e){return!e||"object"!==Tx(e)&&"function"!==typeof e?Fx(t):e}function Fx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zx(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ux=function(t){Mx(n,t);var e=Vx(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(Cx(this,n),o=e.call(this,t,r,i),!o.root.is("rootElement"))throw new Oa["b"]("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",t);return Hx.call(Fx(o)),o}return Dx(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t}},{key:"toPosition",value:function(){return new e_(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}]),n}(e_);function Hx(){var t=this;this.listenTo(this.root.document.model,"applyOperation",(function(e,n){var r=n[0];r.isDocumentOperation&&$x.call(t,r)}),{priority:"low"})}function $x(t){var e=this.getTransformedByOperation(t);if(!this.isEqual(e)){var n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}function Wx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yx(t,e,n){return e&&qx(t.prototype,e),n&&qx(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gx(t,e,n,r){return t.change((function(o){var i;i=n?n instanceof U_||n instanceof xk?n:o.createSelection(n,r):t.document.selection,i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0});var a,u=new Kx(t,o,i.anchor);a=e.is("documentFragment")?e.getChildren():[e],u.handleNodes(a,{isFirst:!0,isLast:!0});var c=u.getSelectionRange();c&&(i instanceof xk?o.setSelection(c):i.setTo(c));var s=u.getAffectedRange()||t.createRange(i.anchor);return u.destroy(),s}))}Xa(Ux,Fa);var Kx=function(){function t(e,n,r){Wx(this,t),this.model=e,this.writer=n,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return Yx(t,[{key:"handleNodes",value:function(t,e){t=Array.from(t);for(var n=0;n<t.length;n++){var r=t[n];this._handleNode(r,{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?d_._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new d_(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(t,e){if(this.schema.isObject(t))this._handleObject(t,e);else{var n=this._checkAndSplitToAllowedPosition(t,e);n?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}}},{key:"_handleObject",value:function(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}},{key:"_handleDisallowedNode",value:function(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}},{key:"_insert",value:function(t){if(!this.schema.checkChild(this.position,t))throw new Oa["b"]("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:t,position:this.position});var e=Ux.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(t,this.position),this.position=e.toPosition(),e.detach(),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}},{key:"_setAffectedBoundaries",value:function(t){this._affectedStart||(this._affectedStart=Ux.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ux.fromPosition(t,"toNext"))}},{key:"_mergeSiblingsOf",value:function(t,e){if(t instanceof Fw){var n=this._canMergeLeft(t,e),r=this._canMergeRight(t,e),o=Ux._createBefore(t);o.stickiness="toNext";var i=Ux._createAfter(t);if(i.stickiness="toNext",n){var a=Ux.fromPosition(this.position);a.stickiness="toNext",this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Ux._createAt(o.nodeBefore,"end","toPrevious")),this.writer.merge(o),o.isEqual(this._affectedEnd)&&e.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Ux._createAt(o.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach()}if(r){if(!this.position.isEqual(i))throw new Oa["b"]("insertcontent-invalid-insertion-position",this);this.position=e_._createAt(i.nodeBefore,"end");var u=Ux.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=Ux._createAt(i.nodeBefore,"end","toNext")),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&e.isFirst&&(this._affectedStart.detach(),this._affectedStart=Ux._createAt(i.nodeBefore,0,"toPrevious")),this.position=u.toPosition(),u.detach()}(n||r)&&this._filterAttributesOf.push(this.position.parent),o.detach(),i.detach()}}},{key:"_canMergeLeft",value:function(t,e){var n=t.previousSibling;return e.isFirst&&n instanceof Fw&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}},{key:"_canMergeRight",value:function(t,e){var n=t.nextSibling;return e.isLast&&n instanceof Fw&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}},{key:"_tryAutoparagraphing",value:function(t,e){var n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}},{key:"_checkAndSplitToAllowedPosition",value:function(t){var e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;while(e!=this.position.parent){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===e&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}]),t}();function Jx(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Xx(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Xx(t,e){if(t){if("string"===typeof t)return Zx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zx(t,e):void 0}}function Zx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Qx(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.isCollapsed){var r=e.getFirstRange();if("$graveyard"!=r.root.rootName){var o=t.schema;t.change((function(t){if(n.doNotResetEntireContent||!iT(o,e)){var i=r.start,a=Ux.fromPosition(r.end,"toNext");r.start.isTouching(r.end)||t.remove(r),n.leaveUnmerged||(tT(t,i,a),o.removeDisallowedAttributes(i.parent.getChildren(),t)),aT(t,e,i),!n.doNotAutoparagraph&&eT(o,i)&&rT(t,i,e),a.detach()}else oT(t,e,o)}))}}}function tT(t,e,n){var r=e.parent,o=n.parent;if(r!=o&&!t.model.schema.isLimit(r)&&!t.model.schema.isLimit(o)&&nT(e,n,t.model.schema)){e=t.createPositionAfter(r),n=t.createPositionBefore(o),n.isEqual(e)||t.insert(o,e),t.merge(e);while(n.parent.isEmpty){var i=n.parent;n=t.createPositionBefore(i),t.remove(i)}tT(t,e,n)}}function eT(t,e){var n=t.checkChild(e,"$text"),r=t.checkChild(e,"paragraph");return!n&&r}function nT(t,e,n){var r,o=new d_(t,e),i=Jx(o.getWalker());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(n.isLimit(a.item))return!1}}catch(u){i.e(u)}finally{i.f()}return!0}function rT(t,e,n){var r=t.createElement("paragraph");t.insert(r,e),aT(t,n,t.createPositionAt(r,0))}function oT(t,e){var n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),rT(t,t.createPositionAt(n,0),e)}function iT(t,e){var n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;var r=e.getFirstRange();return r.start.parent!=r.end.parent&&t.checkChild(n,"paragraph")}function aT(t,e,n){e instanceof xk?t.setSelection(n):e.setTo(n)}function uT(t){return uT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uT(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var cT=' ,.?!:;"-()';function sT(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.schema,i="backward"!=r.direction,a=r.unit?r.unit:"character",u=e.focus,c=new $w({boundaries:pT(u,i),singleCharacters:!0,direction:i?"forward":"backward"}),s={walker:c,schema:o,isForward:i,unit:a},l=function(){if(n.done)return{v:void 0};var r=lT(s,n.value);return r?(e instanceof xk?t.change((function(t){t.setSelectionFocus(r)})):e.setFocus(r),{v:void 0}):void 0};while(n=c.next()){var f=l();if("object"===uT(f))return f.v}}function lT(t,e){if("text"==e.type)return"word"===t.unit?hT(t.walker,t.isForward):fT(t.walker,t.unit,t.isForward);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return e_._createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip((function(){return!0}));if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}}function fT(t,e){var n=t.position.textNode;if(n){var r=n.data,o=t.position.offset-n.startOffset;while(KE(r,o)||"character"==e&&JE(r,o))t.next(),o=t.position.offset-n.startOffset}return t.position}function hT(t,e){var n=t.position.textNode;if(n){var r=t.position.offset-n.startOffset;while(!yT(n.data,r,e)&&!dT(n,r,e)){t.next();var o=e?t.position.nodeAfter:t.position.nodeBefore;if(o&&o.is("text")){var i=o.data.charAt(e?0:o.data.length-1);cT.includes(i)||(t.next(),n=t.position.textNode)}r=t.position.offset-n.startOffset}}return t.position}function pT(t,e){var n=t.root,r=e_._createAt(n,e?"end":0);return e?new d_(t,r):new d_(r,t)}function yT(t,e,n){var r=e+(n?0:-1);return cT.includes(t.charAt(r))}function dT(t,e,n){return e===(n?t.endOffset:0)}function vT(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=mT(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function mT(t,e){if(t){if("string"===typeof t)return bT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bT(t,e):void 0}}function bT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function gT(t,e){return t.change((function(t){var n=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return n;var o,i=r.start.root,a=r.start.getCommonPath(r.end),u=i.getNodeByPath(a);o=r.start.parent==r.end.parent?r:t.createRange(t.createPositionAt(u,r.start.path[a.length]),t.createPositionAt(u,r.end.path[a.length]+1));var c,s=o.end.offset-o.start.offset,l=vT(o.getItems({shallow:!0}));try{for(l.s();!(c=l.n()).done;){var f=c.value;f.is("textProxy")?t.appendText(f.data,f.getAttributes(),n):t.append(f._clone(!0),n)}}catch(d){l.e(d)}finally{l.f()}if(o!=r){var h=r._getTransformedByMove(o.start,t.createPositionAt(n,0),s)[0],p=t.createRange(t.createPositionAt(n,0),h.start),y=t.createRange(h.end,t.createPositionAt(n,"end"));wT(y,t),wT(p,t)}return n}))}function wT(t,e){var n=[];Array.from(t.getItems({direction:"backward"})).map((function(t){return e.createRangeOn(t)})).filter((function(e){var n=(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end));return n})).forEach((function(t){n.push(t.start.parent),e.remove(t)})),n.forEach((function(t){var n=t;while(n.parent&&n.isEmpty){var r=e.createRangeOn(n);n=n.parent,e.remove(r)}}))}function _T(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=kT(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function kT(t,e){if(t){if("string"===typeof t)return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ST(t,e):void 0}}function ST(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function OT(t){t.document.registerPostFixer((function(e){return PT(e,t)}))}function PT(t,e){var n,r=e.document.selection,o=e.schema,i=[],a=!1,u=_T(r.getRanges());try{for(u.s();!(n=u.n()).done;){var c=n.value,s=AT(c,o);s?(i.push(s),a=!0):i.push(c)}}catch(l){u.e(l)}finally{u.f()}a&&t.setSelection(TT(i),{backward:r.isBackward})}function AT(t,e){return t.isCollapsed?RT(t,e):jT(t,e)}function RT(t,e){var n=t.start,r=e.getNearestSelectionRange(n);if(!r)return null;if(!r.isCollapsed)return r;var o=r.start;return n.isEqual(o)?null:new d_(o)}function jT(t,e){var n=t.start,r=t.end,o=e.checkChild(n,"$text"),i=e.checkChild(r,"$text"),a=e.getLimitElement(n),u=e.getLimitElement(r);if(a===u){if(o&&i)return null;if(xT(n,r,e)){var c=n.nodeAfter&&e.isObject(n.nodeAfter),s=c?null:e.getNearestSelectionRange(n,"forward"),l=r.nodeBefore&&e.isObject(r.nodeBefore),f=l?null:e.getNearestSelectionRange(r,"backward"),h=s?s.start:n,p=f?f.start:r;return new d_(h,p)}}var y=a&&!a.is("rootElement"),d=u&&!u.is("rootElement");if(y||d){var v=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,m=y&&(!v||!CT(n.nodeAfter,e)),b=d&&(!v||!CT(r.nodeBefore,e)),g=n,w=r;return m&&(g=e_._createBefore(ET(a,e))),b&&(w=e_._createAfter(ET(u,e))),new d_(g,w)}return null}function ET(t,e){var n=t,r=n;while(e.isLimit(r)&&r.parent)n=r,r=r.parent;return n}function xT(t,e,n){var r=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),o=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return r||o}function TT(t){var e=[];e.push(t.shift());var n,r=_T(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=e.pop();if(o.isIntersecting(i)){var a=i.start.isAfter(o.start)?o.start:i.start,u=i.end.isAfter(o.end)?i.end:o.end,c=new d_(a,u);e.push(c)}else e.push(i),e.push(o)}}catch(s){r.e(s)}finally{r.f()}return e}function CT(t,e){return t&&e.isObject(t)}function IT(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=DT(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function DT(t,e){if(t){if("string"===typeof t)return MT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MT(t,e):void 0}}function MT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BT(t,e,n){return e&&VT(t.prototype,e),n&&VT(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var FT=function(){function t(){var e=this;NT(this,t),this.markers=new hx,this.document=new ox(this),this.schema=new GO,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(t){return e.decorate(t)})),this.on("applyOperation",(function(t,e){var n=e[0];n._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((function(t,e){if("$marker"===e.name)return!0})),OT(this)}return BT(t,[{key:"change",value:function(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new JP,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(e){Oa["b"].rethrowUnexpectedError(e,this)}}},{key:"enqueueChange",value:function(t,e){try{"string"===typeof t?t=new JP(t):"function"==typeof t&&(e=t,t=new JP),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(n){Oa["b"].rethrowUnexpectedError(n,this)}}},{key:"applyOperation",value:function(t){t._execute()}},{key:"insertContent",value:function(t,e,n){return Gx(this,t,e,n)}},{key:"deleteContent",value:function(t,e){Qx(this,t,e)}},{key:"modifySelection",value:function(t,e){sT(this,t,e)}},{key:"getSelectedContent",value:function(t){return gT(this,t)}},{key:"hasContent",value:function(t,e){var n=t instanceof Fw?d_._createIn(t):t;if(n.isCollapsed)return!1;var r,o=IT(this.markers.getMarkersIntersectingRange(n));try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.affectsData)return!0}}catch(h){o.e(h)}finally{o.f()}var a,u=e||{},c=u.ignoreWhitespaces,s=void 0!==c&&c,l=IT(n.getItems());try{for(l.s();!(a=l.n()).done;){var f=a.value;if(f.is("textProxy")){if(!s)return!0;if(-1!==f.data.search(/\S/))return!0}else if(this.schema.isObject(f))return!0}}catch(h){l.e(h)}finally{l.f()}return!1}},{key:"createPositionFromPath",value:function(t,e,n){return new e_(t,e,n)}},{key:"createPositionAt",value:function(t,e){return e_._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return e_._createAfter(t)}},{key:"createPositionBefore",value:function(t){return e_._createBefore(t)}},{key:"createRange",value:function(t,e){return new d_(t,e)}},{key:"createRangeIn",value:function(t){return d_._createIn(t)}},{key:"createRangeOn",value:function(t){return d_._createOn(t)}},{key:"createSelection",value:function(t,e,n){return new U_(t,e,n)}},{key:"createBatch",value:function(t){return new JP(t)}},{key:"createOperationFromJSON",value:function(t){return xx.fromJSON(t,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var t=[];this.fire("_beforeChanges");while(this._pendingChanges.length){var e=this._pendingChanges[0].batch;this._currentWriter=new bE(this,e);var n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}]),t}();function LT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UT(t,e,n){return e&&zT(t.prototype,e),n&&zT(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(FT,Ef);var HT=function(){function t(){LT(this,t),this._listener=Object.create(Bd)}return UT(t,[{key:"listenTo",value:function(t){var e=this;this._listener.listenTo(t,"keydown",(function(t,n){e._listener.fire("_keydown:"+Np(n),n)}))}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Vp(t),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(function(t,n){e(n,(function(){n.preventDefault(),n.stopPropagation(),t.stop()})),t.return=!0}),{priority:o})}},{key:"press",value:function(t){return!!this._listener.fire("_keydown:"+Np(t),t)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),t}();function $T(t){return $T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$T(t)}function WT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YT(t,e,n){return e&&qT(t.prototype,e),n&&qT(t,n),t}function GT(t,e,n){return GT="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=KT(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},GT(t,e,n||t)}function KT(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=nC(t),null===t)break;return t}function JT(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XT(t,e)}function XT(t,e){return XT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},XT(t,e)}function ZT(t){var e=eC();return function(){var n,r=nC(t);if(e){var o=nC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QT(this,n)}}function QT(t,e){return!e||"object"!==$T(e)&&"function"!==typeof e?tC(t):e}function tC(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eC(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function nC(t){return nC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nC(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var rC=function(t){JT(n,t);var e=ZT(n);function n(t){var r;return WT(this,n),r=e.call(this),r.editor=t,r}return YT(n,[{key:"set",value:function(t,e){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e){var i=e;e=function(t,e){r.editor.execute(i),e()}}GT(nC(n.prototype),"set",this).call(this,t,e,o)}}]),n}(HT);function oC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aC(t,e,n){return e&&iC(t.prototype,e),n&&iC(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var uC=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};oC(this,t),this._context=n.context||new Cu({language:n.language}),this._context._addEditor(this,!n.context);var r=Array.from(this.constructor.builtinPlugins||[]);this.config=new pa(n,this.constructor.defaultConfig),this.config.define("plugins",r),this.config.define(this._context._getEditorConfig()),this.plugins=new du(this,r,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new gO,this.set("state","initializing"),this.once("ready",(function(){return e.state="ready"}),{priority:"high"}),this.once("destroy",(function(){return e.state="destroyed"}),{priority:"high"}),this.set("isReadOnly",!1),this.model=new FT;var o=new bl;this.data=new TP(this.model,o),this.editing=new hO(this.model,o),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new zP([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new rC(this),this.keystrokes.listenTo(this.editing.view.document)}return aC(t,[{key:"initPlugins",value:function(){var t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],r=t.get("extraPlugins")||[];return this.plugins.init(e.concat(r),n)}},{key:"destroy",value:function(){var t=this,e=Promise.resolve();return"initializing"==this.state&&(e=new Promise((function(e){return t.once("ready",e)}))),e.then((function(){t.fire("destroy"),t.stopListening(),t.commands.destroy()})).then((function(){return t.plugins.destroy()})).then((function(){t.model.destroy(),t.data.destroy(),t.editing.destroy(),t.keystrokes.destroy()})).then((function(){return t._context._removeEditor(t)}))}},{key:"execute",value:function(){try{var t;(t=this.commands).execute.apply(t,arguments)}catch(e){Oa["b"].rethrowUnexpectedError(e,this)}}}]),t}();Xa(uC,Ef);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
var cC={setData:function(t){this.data.set(t)},getData:function(t){return this.data.get(t)}},sC=cC;
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function lC(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var fC={updateSourceElement:function(){if(!this.sourceElement)throw new Oa["b"]("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);lC(this.sourceElement,this.data.get())}},hC=fC;
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function pC(t){if(!Ot(t.updateSourceElement))throw new Oa["b"]("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",t);var e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){var n,r=e.form,o=function(){return t.updateSourceElement()};Ot(r.submit)&&(n=r.submit,r.submit=function(){o(),n.apply(r)}),r.addEventListener("submit",o),t.on("destroy",(function(){r.removeEventListener("submit",o),n&&(r.submit=n)}))}}function yC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vC(t,e,n){return e&&dC(t.prototype,e),n&&dC(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var mC=function(){function t(){yC(this,t)}return vC(t,[{key:"getHtml",value:function(t){var e=document.implementation.createHTMLDocument(""),n=e.createElement("div");return n.appendChild(t),n.innerHTML}}]),t}();function bC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wC(t,e,n){return e&&gC(t.prototype,e),n&&gC(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var _C=function(){function t(e){bC(this,t),this._domParser=new DOMParser,this._domConverter=new xd(e,{blockFillerMode:"nbsp"}),this._htmlWriter=new mC}return wC(t,[{key:"toData",value:function(t){var e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}},{key:"toView",value:function(t){var e=this._toDom(t);return this._domConverter.domToView(e)}},{key:"_toDom",value:function(t){var e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),r=e.body.childNodes;while(r.length>0)n.appendChild(r[0]);return n}}]),t}();function kC(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=SC(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function SC(t,e){if(t){if("string"===typeof t)return OC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OC(t,e):void 0}}function OC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RC(t,e,n){return e&&AC(t.prototype,e),n&&AC(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var jC=function(){function t(e){PC(this,t),this.editor=e,this._components=new Map}return RC(t,[{key:"names",value:a.a.mark((function t(){var e,n,r;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=kC(this._components.values()),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,r.originalName;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"add",value:function(t,e){if(this.has(t))throw new Oa["b"]("componentfactory-item-exists: The item already exists in the component factory.",this,{name:t});this._components.set(EC(t),{callback:e,originalName:t})}},{key:"create",value:function(t){if(!this.has(t))throw new Oa["b"]("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:t});return this._components.get(EC(t)).callback(this.editor.locale)}},{key:"has",value:function(t){return this._components.has(EC(t))}}]),t}();function EC(t){return String(t).toLowerCase()}function xC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CC(t,e,n){return e&&TC(t.prototype,e),n&&TC(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var IC=function(){function t(){xC(this,t),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return CC(t,[{key:"add",value:function(t){var e=this;if(this._elements.has(t))throw new Oa["b"]("focusTracker-add-element-already-exist",this);this.listenTo(t,"focus",(function(){return e._focus(t)}),{useCapture:!0}),this.listenTo(t,"blur",(function(){return e._blur()}),{useCapture:!0}),this._elements.add(t)}},{key:"remove",value:function(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}},{key:"_blur",value:function(){var t=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((function(){t.focusedElement=null,t.isFocused=!1}),0)}}]),t}();function DC(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=MC(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function MC(t,e){if(t){if("string"===typeof t)return NC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NC(t,e):void 0}}function NC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FC(t,e,n){return e&&BC(t.prototype,e),n&&BC(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(IC,Bd),Xa(IC,Ef);var LC=function(){function t(e){var n=this;VC(this,t),this.editor=e,this.componentFactory=new jC(e),this.focusTracker=new IC,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",(function(){return n.update()}))}return FC(t,[{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var t,e=DC(this._editableElementsMap.values());try{for(e.s();!(t=e.n()).done;){var n=t.value;n.ckeditorInstance=null}}catch(r){e.e(r)}finally{e.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(t)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"element",get:function(){return null}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),t}();
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function zC(t){var e=t.origin,n=t.originKeystrokeHandler,r=t.originFocusTracker,o=t.toolbar,i=t.beforeFocus,a=t.afterBlur;r.add(o.element),n.set("Alt+F10",(function(t,e){r.isFocused&&!o.focusTracker.isFocused&&(i&&i(),o.focus(),e())})),o.keystrokes.set("Esc",(function(t,n){o.focusTracker.isFocused&&(e.focus(),a&&a(),n())}))}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function UC(t){return Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]}}Xa(LC,Fa);n("507e");function HC(t,e){return qC(t)||WC(t,e)||GC(t,e)||$C()}function $C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function WC(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function qC(t){if(Array.isArray(t))return t}function YC(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=GC(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function GC(t,e){if(t){if("string"===typeof t)return KC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KC(t,e):void 0}}function KC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var JC=new WeakMap;function XC(t){var e=t.view,n=t.element,r=t.text,o=t.isDirectHost,i=void 0===o||o,a=e.document;JC.has(a)||(JC.set(a,new Map),a.registerPostFixer((function(t){return eI(a,t)}))),JC.get(a).set(n,{text:r,isDirectHost:i}),e.change((function(t){return eI(a,t)}))}function ZC(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}function QC(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function tI(t){if(!t.isAttached())return!1;var e=!Array.from(t.getChildren()).some((function(t){return!t.is("uiElement")})),n=t.document;if(!n.isFocused&&e)return!0;var r=n.selection,o=r.anchor;return!(!e||!o||o.parent===t)}function eI(t,e){var n,r=JC.get(t),o=!1,i=YC(r);try{for(i.s();!(n=i.n()).done;){var a=HC(n.value,2),u=a[0],c=a[1];nI(e,u,c)&&(o=!0)}}catch(s){i.e(s)}finally{i.f()}return o}function nI(t,e,n){var r=n.text,o=n.isDirectHost,i=o?e:rI(e),a=!1;return!!i&&(n.hostElement=i,i.getAttribute("data-placeholder")!==r&&(t.setAttribute("data-placeholder",r,i),a=!0),tI(i)?ZC(t,i)&&(a=!0):QC(t,i)&&(a=!0),a)}function rI(t){if(1===t.childCount){var e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}function oI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aI(t,e,n){return e&&iI(t.prototype,e),n&&iI(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var uI=function(){function t(){oI(this,t),this._replacedElements=[]}return aI(t,[{key:"replace",value:function(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach((function(t){var e=t.element,n=t.newElement;e.style.display="",n&&n.remove()})),this._replacedElements=[]}}]),t}();function cI(t){return cI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cI(t)}function sI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fI(t,e,n){return e&&lI(t.prototype,e),n&&lI(t,n),t}function hI(t,e,n){return hI="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=pI(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},hI(t,e,n||t)}function pI(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=wI(t),null===t)break;return t}function yI(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dI(t,e)}function dI(t,e){return dI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dI(t,e)}function vI(t){var e=gI();return function(){var n,r=wI(t);if(e){var o=wI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mI(this,n)}}function mI(t,e){return!e||"object"!==cI(e)&&"function"!==typeof e?bI(t):e}function bI(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gI(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function wI(t){return wI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wI(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var _I=function(t){yI(n,t);var e=vI(n);function n(t,r){var o;return sI(this,n),o=e.call(this,t),o.view=r,o._toolbarConfig=UC(t.config.get("toolbar")),o._elementReplacer=new uI,o}return fI(n,[{key:"init",value:function(t){var e=this.editor,n=this.view,r=e.editing.view,o=n.editable,i=r.document.getRoot();o.name=i.rootName,n.render();var a=o.element;this.setEditableElement(o.name,a),this.focusTracker.add(a),n.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(a),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),hI(wI(n.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),zC({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}},{key:"_initPlaceholder",value:function(){var t=this.editor,e=t.editing.view,n=e.document.getRoot(),r=t.sourceElement,o=t.config.get("placeholder")||r&&"textarea"===r.tagName.toLowerCase()&&r.getAttribute("placeholder");o&&XC({view:e,element:n,text:o,isDirectHost:!1})}},{key:"element",get:function(){return this.view.element}}]),n}(LC);function kI(t){return kI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kI(t)}function SI(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=OI(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function OI(t,e){if(t){if("string"===typeof t)return PI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PI(t,e):void 0}}function PI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jI(t,e,n){return e&&RI(t.prototype,e),n&&RI(t,n),t}function EI(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xI(t,e)}function xI(t,e){return xI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xI(t,e)}function TI(t){var e=DI();return function(){var n,r=MI(t);if(e){var o=MI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CI(this,n)}}function CI(t,e){return!e||"object"!==kI(e)&&"function"!==typeof e?II(t):e}function II(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DI(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function MI(t){return MI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},MI(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var NI=function(t){EI(n,t);var e=TI(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return AI(this,n),t=e.call(this,r,{idProperty:"viewUid"}),t.on("add",(function(e,n,r){t._renderViewIntoCollectionParent(n,r)})),t.on("remove",(function(e,n){n.element&&t._parentElement&&n.element.remove()})),t._parentElement=null,t}return jI(n,[{key:"destroy",value:function(){this.map((function(t){return t.destroy()}))}},{key:"setParent",value:function(t){this._parentElement=t;var e,n=SI(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._renderViewIntoCollectionParent(r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"delegate",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length||!VI(n))throw new Oa["b"]("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:function(e){var r,o=SI(t);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,u=SI(n);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.delegate(c).to(e)}}catch(s){u.e(s)}finally{u.f()}}}catch(s){o.e(s)}finally{o.f()}t.on("add",(function(t,r){var o,i=SI(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.delegate(a).to(e)}}catch(s){i.e(s)}finally{i.f()}})),t.on("remove",(function(t,r){var o,i=SI(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.stopDelegating(a,e)}}catch(s){i.e(s)}finally{i.f()}}))}}}},{key:"_renderViewIntoCollectionParent",value:function(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}]),n}(ou);function VI(t){return t.every((function(t){return"string"==typeof t}))}function BI(t){return BI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BI(t)}function FI(t){return UI(t)||zI(t)||rD(t)||LI()}function LI(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zI(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function UI(t){if(Array.isArray(t))return oD(t)}function HI(t,e,n){return HI="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=$I(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},HI(t,e,n||t)}function $I(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=XI(t),null===t)break;return t}function WI(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qI(t,e)}function qI(t,e){return qI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qI(t,e)}function YI(t){var e=JI();return function(){var n,r=XI(t);if(e){var o=XI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GI(this,n)}}function GI(t,e){return!e||"object"!==BI(e)&&"function"!==typeof e?KI(t):e}function KI(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JI(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function XI(t){return XI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},XI(t)}function ZI(t,e){return eD(t)||tD(t,e)||rD(t,e)||QI()}function QI(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tD(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function eD(t){if(Array.isArray(t))return t}function nD(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=rD(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function rD(t,e){if(t){if("string"===typeof t)return oD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oD(t,e):void 0}}function oD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uD(t,e,n){return e&&aD(t.prototype,e),n&&aD(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var cD="http://www.w3.org/1999/xhtml",sD=function(){function t(e){iD(this,t),Object.assign(this,wD(gD(e))),this._isRendered=!1,this._revertData=null}return uD(t,[{key:"render",value:function(){var t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}},{key:"apply",value:function(t){return this._revertData=ID(),this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}},{key:"revert",value:function(t){if(!this._revertData)throw new Oa["b"]("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,t]);this._revertTemplateFromNode(t,this._revertData)}},{key:"getViews",value:a.a.mark((function t(){var e,n;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(t){var r,o,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.children){e.next=23;break}r=nD(t.children),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=15;break}if(i=o.value,!xD(i)){e.next=11;break}return e.next=9,i;case 9:e.next=13;break;case 11:if(!TD(i)){e.next=13;break}return e.delegateYield(n(i),"t0",13);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](2),r.e(e.t1);case 20:return e.prev=20,r.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,17,20,23]])},e=a.a.mark(n),t.delegateYield(n(this),"t0",3);case 3:case"end":return t.stop()}}),t,this)}))},{key:"_renderNode",value:function(t){var e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new Oa["b"]('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(t):this._renderElement(t)}},{key:"_renderElement",value:function(t){var e=t.node;return e||(e=t.node=document.createElementNS(this.ns||cD,this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}},{key:"_renderText",value:function(t){var e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),pD(this.text)?this._bindToObservable({schema:this.text,updater:vD(e),data:t}):e.textContent=this.text.join(""),e}},{key:"_renderAttributes",value:function(t){var e,n,r,o;if(this.attributes){var i=t.node,a=t.revertData;for(e in this.attributes)if(r=i.getAttribute(e),n=this.attributes[e],a&&(a.attributes[e]=r),o=bt(n[0])&&n[0].ns?n[0].ns:null,pD(n)){var u=o?n[0].value:n;a&&DD(e)&&u.unshift(r),this._bindToObservable({schema:u,updater:mD(i,e,o),data:t})}else"style"==e&&"string"!==typeof n[0]?this._renderStyleAttribute(n[0],t):(a&&r&&DD(e)&&n.unshift(r),n=n.map((function(t){return t&&t.value||t})).reduce((function(t,e){return t.concat(e)}),[]).reduce(AD,""),ED(n)||i.setAttributeNS(o,e,n))}}},{key:"_renderStyleAttribute",value:function(t,e){var n=e.node;for(var r in t){var o=t[r];pD(o)?this._bindToObservable({schema:[o],updater:bD(n,r),data:e}):n.style[r]=o}}},{key:"_renderElementChildren",value:function(t){var e,n=t.node,r=t.intoFragment?document.createDocumentFragment():n,o=t.isApplying,i=0,a=nD(this.children);try{for(a.s();!(e=a.n()).done;){var u=e.value;if(CD(u)){if(!o){u.setParent(n);var c,s=nD(u);try{for(s.s();!(c=s.n()).done;){var l=c.value;r.appendChild(l.element)}}catch(p){s.e(p)}finally{s.f()}}}else if(xD(u))o||(u.isRendered||u.render(),r.appendChild(u.element));else if(td(u))r.appendChild(u);else if(o){var f=t.revertData,h=ID();f.children.push(h),u._renderNode({node:r.childNodes[i++],isApplying:!0,revertData:h})}else r.appendChild(u.render())}}catch(p){a.e(p)}finally{a.f()}t.intoFragment&&n.appendChild(r)}},{key:"_setUpListeners",value:function(t){var e=this;if(this.eventListeners){var n=function(n){var r=e.eventListeners[n].map((function(e){var r=n.split("@"),o=ZI(r,2),i=o[0],a=o[1];return e.activateDomEventListener(i,a,t)}));t.revertData&&t.revertData.bindings.push(r)};for(var r in this.eventListeners)n(r)}}},{key:"_bindToObservable",value:function(t){var e=t.schema,n=t.updater,r=t.data,o=r.revertData;dD(e,n,r);var i=e.filter((function(t){return!ED(t)})).filter((function(t){return t.observable})).map((function(t){return t.activateAttributeListener(e,n,r)}));o&&o.bindings.push(i)}},{key:"_revertTemplateFromNode",value:function(t,e){var n,r=nD(e.bindings);try{for(r.s();!(n=r.n()).done;){var o,i=n.value,a=nD(i);try{for(a.s();!(o=a.n()).done;){var u=o.value;u()}}catch(f){a.e(f)}finally{a.f()}}}catch(f){r.e(f)}finally{r.f()}if(e.text)t.textContent=e.text;else{for(var c in e.attributes){var s=e.attributes[c];null===s?t.removeAttribute(c):t.setAttribute(c,s)}for(var l=0;l<e.children.length;++l)this._revertTemplateFromNode(t.childNodes[l],e.children[l])}}}],[{key:"bind",value:function(t,e){return{to:function(n,r){return new fD({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:r})},if:function(n,r,o){return new hD({observable:t,emitter:e,attribute:n,valueIfTrue:r,callback:o})}}}},{key:"extend",value:function(t,e){if(t._isRendered)throw new Oa["b"]("template-extend-render: Attempting to extend a template which has already been rendered.",[this,t]);jD(t,wD(gD(e)))}}]),t}();Xa(sD,Fa);var lD=function(){function t(e){iD(this,t),Object.assign(this,e)}return uD(t,[{key:"getValue",value:function(t){var e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}},{key:"activateAttributeListener",value:function(t,e,n){var r=this,o=function(){return dD(t,e,n)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),function(){r.emitter.stopListening(r.observable,"change:"+r.attribute,o)}}}]),t}(),fD=function(t){WI(n,t);var e=YI(n);function n(){return iD(this,n),e.apply(this,arguments)}return uD(n,[{key:"activateDomEventListener",value:function(t,e,n){var r=this,o=function(t,n){e&&!n.target.matches(e)||("function"==typeof r.eventNameOrFunction?r.eventNameOrFunction(n):r.observable.fire(r.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,o),function(){r.emitter.stopListening(n.node,t,o)}}}]),n}(lD),hD=function(t){WI(n,t);var e=YI(n);function n(){return iD(this,n),e.apply(this,arguments)}return uD(n,[{key:"getValue",value:function(t){var e=HI(XI(n.prototype),"getValue",this).call(this,t);return!ED(e)&&(this.valueIfTrue||!0)}}]),n}(lD);function pD(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(pD):t instanceof lD)}function yD(t,e){return t.map((function(t){return t instanceof lD?t.getValue(e):t}))}function dD(t,e,n){var r=n.node,o=yD(t,r);o=1==t.length&&t[0]instanceof hD?o[0]:o.reduce(AD,""),ED(o)?e.remove():e.set(o)}function vD(t){return{set:function(e){t.textContent=e},remove:function(){t.textContent=""}}}function mD(t,e,n){return{set:function(r){t.setAttributeNS(n,e,r)},remove:function(){t.removeAttributeNS(n,e)}}}function bD(t,e){return{set:function(n){t.style[e]=n},remove:function(){t.style[e]=null}}}function gD(t){var e=oa(t,(function(t){if(t&&(t instanceof lD||TD(t)||xD(t)||CD(t)))return t}));return e}function wD(t){if("string"==typeof t?t=SD(t):t.text&&OD(t),t.on&&(t.eventListeners=kD(t.on),delete t.on),!t.text){t.attributes&&_D(t.attributes);var e=[];if(t.children)if(CD(t.children))e.push(t.children);else{var n,r=nD(t.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;TD(o)||xD(o)||td(o)?e.push(o):e.push(new sD(o))}}catch(i){r.e(i)}finally{r.f()}}t.children=e}return t}function _D(t){for(var e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),PD(t,e)}function kD(t){for(var e in t)PD(t,e);return t}function SD(t){return{text:[t]}}function OD(t){Array.isArray(t.text)||(t.text=[t.text])}function PD(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function AD(t,e){return ED(e)?t:ED(t)?e:"".concat(t," ").concat(e)}function RD(t,e){for(var n in e){var r;if(t[n])(r=t[n]).push.apply(r,FI(e[n]));else t[n]=e[n]}}function jD(t,e){var n;(e.attributes&&(t.attributes||(t.attributes={}),RD(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),RD(t.eventListeners,e.eventListeners)),e.text)&&(n=t.text).push.apply(n,FI(e.text));if(e.children&&e.children.length){if(t.children.length!=e.children.length)throw new Oa["b"]("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",t);var r,o=0,i=nD(e.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;jD(t.children[o++],a)}}catch(u){i.e(u)}finally{i.f()}}}function ED(t){return!t&&0!==t}function xD(t){return t instanceof zD}function TD(t){return t instanceof sD}function CD(t){return t instanceof NI}function ID(){return{children:[],bindings:[],attributes:{}}}function DD(t){return"class"==t||"style"==t}n("e281");function MD(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ND(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ND(t,e){if(t){if("string"===typeof t)return VD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VD(t,e):void 0}}function VD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LD(t,e,n){return e&&FD(t.prototype,e),n&&FD(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var zD=function(){function t(e){BD(this,t),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ou,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(function(t,n){n.locale=e})),this.decorate("render")}return LD(t,[{key:"createCollection",value:function(t){var e=new NI(t);return this._viewCollections.add(e),e}},{key:"registerChild",value:function(t){Ja(t)||(t=[t]);var e,n=MD(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._unboundChildren.add(r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"deregisterChild",value:function(t){Ja(t)||(t=[t]);var e,n=MD(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._unboundChildren.remove(r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"setTemplate",value:function(t){this.template=new sD(t)}},{key:"extendTemplate",value:function(t){sD.extend(this.template,t)}},{key:"render",value:function(){if(this.isRendered)throw new Oa["b"]("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map((function(t){return t.destroy()})),this.template&&this.template._revertData&&this.template.revert(this.element)}},{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=sD.bind(this,this)}}]),t}();Xa(zD,Bd),Xa(zD,Ef);var UD="[object String]";function HD(t){return"string"==typeof t||!un(t)&&M(t)&&j(t)==UD}var $D=HD;function WD(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=qD(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function qD(t,e){if(t){if("string"===typeof t)return YD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YD(t,e):void 0}}function YD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function GD(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=n&&n.xmlns,i=o?t.createElementNS(o,e):t.createElement(e);for(var a in n)i.setAttribute(a,n[a]);!$D(r)&&Ja(r)||(r=[r]);var u,c=WD(r);try{for(c.s();!(u=c.n()).done;){var s=u.value;$D(s)&&(s=t.createTextNode(s)),i.appendChild(s)}}catch(l){c.e(l)}finally{c.f()}return i}function KD(t){return KD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KD(t)}function JD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZD(t,e,n){return e&&XD(t.prototype,e),n&&XD(t,n),t}function QD(t,e,n){return QD="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=tM(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},QD(t,e,n||t)}function tM(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=uM(t),null===t)break;return t}function eM(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nM(t,e)}function nM(t,e){return nM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nM(t,e)}function rM(t){var e=aM();return function(){var n,r=uM(t);if(e){var o=uM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oM(this,n)}}function oM(t,e){return!e||"object"!==KD(e)&&"function"!==typeof e?iM(t):e}function iM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function uM(t){return uM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uM(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var cM=function(t){eM(n,t);var e=rM(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return JD(this,n),r=e.call(this,o),r.locale=t,r}return ZD(n,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new sD({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var t=document.querySelector(".ck-body-wrapper");t||(t=GD(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){QD(uM(n.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}]),n}(NI);n("cf28");function sM(t){return sM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sM(t)}function lM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hM(t,e,n){return e&&fM(t.prototype,e),n&&fM(t,n),t}function pM(t,e,n){return pM="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=yM(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},pM(t,e,n||t)}function yM(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=_M(t),null===t)break;return t}function dM(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vM(t,e)}function vM(t,e){return vM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vM(t,e)}function mM(t){var e=wM();return function(){var n,r=_M(t);if(e){var o=_M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bM(this,n)}}function bM(t,e){return!e||"object"!==sM(e)&&"function"!==typeof e?gM(t):e}function gM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _M(t){return _M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_M(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var kM=function(t){dM(n,t);var e=mM(n);function n(t){var r;return lM(this,n),r=e.call(this,t),r.body=new cM(t),r}return hM(n,[{key:"render",value:function(){pM(_M(n.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),pM(_M(n.prototype),"destroy",this).call(this)}}]),n}(zD);n("e8dd");function SM(t){return SM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SM(t)}function OM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PM(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AM(t,e)}function AM(t,e){return AM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},AM(t,e)}function RM(t){var e=xM();return function(){var n,r=TM(t);if(e){var o=TM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jM(this,n)}}function jM(t,e){return!e||"object"!==SM(e)&&"function"!==typeof e?EM(t):e}function EM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function TM(t){return TM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},TM(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var CM=function(t){PM(n,t);var e=RM(n);function n(t){var r;OM(this,n),r=e.call(this,t),r.set("text"),r.set("for"),r.id="ck-editor__label_".concat(_a());var o=r.bindTemplate;return r.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:r.id,for:o.to("for")},children:[{text:o.to("text")}]}),r}return n}(zD);function IM(t){return IM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IM(t)}function DM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NM(t,e,n){return e&&MM(t.prototype,e),n&&MM(t,n),t}function VM(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BM(t,e)}function BM(t,e){return BM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},BM(t,e)}function FM(t){var e=UM();return function(){var n,r=HM(t);if(e){var o=HM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LM(this,n)}}function LM(t,e){return!e||"object"!==IM(e)&&"function"!==typeof e?zM(t):e}function zM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function HM(t){return HM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},HM(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var $M=function(t){VM(n,t);var e=FM(n);function n(t){var r;return DM(this,n),r=e.call(this,t),r.top=r.createCollection(),r.main=r.createCollection(),r._voiceLabelView=r._createVoiceLabel(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":r._voiceLabelView.id},children:[r._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:r.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:r.main}]}),r}return NM(n,[{key:"_createVoiceLabel",value:function(){var t=this.t,e=new CM;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}]),n}(kM);function WM(t){return WM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WM(t)}function qM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GM(t,e,n){return e&&YM(t.prototype,e),n&&YM(t,n),t}function KM(t,e,n){return KM="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=JM(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},KM(t,e,n||t)}function JM(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=rN(t),null===t)break;return t}function XM(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZM(t,e)}function ZM(t,e){return ZM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ZM(t,e)}function QM(t){var e=nN();return function(){var n,r=rN(t);if(e){var o=rN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tN(this,n)}}function tN(t,e){return!e||"object"!==WM(e)&&"function"!==typeof e?eN(t):e}function eN(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nN(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function rN(t){return rN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rN(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var oN=function(t){XM(n,t);var e=QM(n);function n(t,r,o){var i;return qM(this,n),i=e.call(this,t),i.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),i.name=null,i.set("isFocused",!1),i._editableElement=o,i._hasExternalElement=!!i._editableElement,i._editingView=r,i}return GM(n,[{key:"render",value:function(){var t=this;KM(rN(n.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(function(){return t._updateIsFocusedClasses()})),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),KM(rN(n.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var t=this._editingView;function e(e){t.change((function(n){var r=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",r)}))}function n(r){t.once("change:isRenderingInProgress",(function(t,o,i){i?n(r):e(r)}))}t.isRenderingInProgress?n(this):e(this)}}]),n}(zD);function iN(t){return iN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iN(t)}function aN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cN(t,e,n){return e&&uN(t.prototype,e),n&&uN(t,n),t}function sN(t,e,n){return sN="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=lN(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},sN(t,e,n||t)}function lN(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=mN(t),null===t)break;return t}function fN(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hN(t,e)}function hN(t,e){return hN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hN(t,e)}function pN(t){var e=vN();return function(){var n,r=mN(t);if(e){var o=mN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yN(this,n)}}function yN(t,e){return!e||"object"!==iN(e)&&"function"!==typeof e?dN(t):e}function dN(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vN(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function mN(t){return mN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mN(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var bN=function(t){fN(n,t);var e=pN(n);function n(t,r,o){var i;return aN(this,n),i=e.call(this,t,r,o),i.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),i}return cN(n,[{key:"render",value:function(){var t=this;sN(mN(n.prototype),"render",this).call(this);var e=this._editingView,r=this.t;e.change((function(n){var o=e.document.getRoot(t.name);n.setAttribute("aria-label",r("Rich Text Editor, %0",[t.name]),o)}))}}]),n}(oN);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function gN(t){return function(e){return e+t}}n("da97");function wN(t){return wN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wN(t)}function _N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SN(t,e,n){return e&&kN(t.prototype,e),n&&kN(t,n),t}function ON(t,e,n){return ON="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=PN(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},ON(t,e,n||t)}function PN(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=CN(t),null===t)break;return t}function AN(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RN(t,e)}function RN(t,e){return RN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},RN(t,e)}function jN(t){var e=TN();return function(){var n,r=CN(t);if(e){var o=CN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EN(this,n)}}function EN(t,e){return!e||"object"!==wN(e)&&"function"!==typeof e?xN(t):e}function xN(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TN(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function CN(t){return CN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},CN(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var IN=gN("px"),DN=function(t){AN(n,t);var e=jN(n);function n(t){var r;_N(this,n),r=e.call(this,t);var o=r.bindTemplate;return r.set("isActive",!1),r.set("isSticky",!1),r.set("limiterElement",null),r.set("limiterBottomOffset",50),r.set("viewportTopOffset",0),r.set("_marginLeft",null),r.set("_isStickyToTheLimiter",!1),r.set("_hasViewportTopOffset",!1),r.content=r.createCollection(),r._contentPanelPlaceholder=new sD({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",(function(t){return t?"block":"none"})),height:o.to("isSticky",(function(t){return t?IN(r._panelRect.height):null}))}}}).render(),r._contentPanel=new sD({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",(function(t){return t?IN(r._contentPanelPlaceholder.getBoundingClientRect().width):null})),top:o.to("_hasViewportTopOffset",(function(t){return t?IN(r.viewportTopOffset):null})),bottom:o.to("_isStickyToTheLimiter",(function(t){return t?IN(r.limiterBottomOffset):null})),marginLeft:o.to("_marginLeft")}},children:r.content}).render(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[r._contentPanelPlaceholder,r._contentPanel]}),r}return SN(n,[{key:"render",value:function(){var t=this;ON(CN(n.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(dd.window,"scroll",(function(){t._checkIfShouldBeSticky()})),this.listenTo(this,"change:isActive",(function(){t._checkIfShouldBeSticky()}))}},{key:"_checkIfShouldBeSticky",value:function(){var t,e=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:IN(-dd.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),n}(zD);function MN(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=NN(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function NN(t,e){if(t){if("string"===typeof t)return VN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VN(t,e):void 0}}function VN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LN(t,e,n){return e&&FN(t.prototype,e),n&&FN(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var zN=function(){function t(e){var n=this;if(BN(this,t),Object.assign(this,e),e.actions&&e.keystrokeHandler){var r=function(t){var r=e.actions[t];"string"==typeof r&&(r=[r]);var o,i=MN(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;e.keystrokeHandler.set(a,(function(e,r){n[t](),r()}))}}catch(u){i.e(u)}finally{i.f()}};for(var o in e.actions)r(o)}}return LN(t,[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(t){t&&t.focus()}},{key:"_getFocusableItem",value:function(t){var e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];var r=(e+n+t)%n;do{var o=this.focusables.get(r);if(UN(o))return o;r=(r+n+t)%n}while(r!==e);return null}},{key:"first",get:function(){return this.focusables.find(UN)||null}},{key:"last",get:function(){return this.focusables.filter(UN).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var t=this,e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((function(n,r){var o=n.element===t.focusTracker.focusedElement;return o&&(e=r),o})),e)}}]),t}();function UN(t){return!(!t.focus||"none"==dd.window.getComputedStyle(t.element).display)}function HN(t){return HN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HN(t)}function $N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WN(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qN(t,e)}function qN(t,e){return qN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qN(t,e)}function YN(t){var e=JN();return function(){var n,r=XN(t);if(e){var o=XN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GN(this,n)}}function GN(t,e){return!e||"object"!==HN(e)&&"function"!==typeof e?KN(t):e}function KN(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JN(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function XN(t){return XN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},XN(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ZN=function(t){WN(n,t);var e=YN(n);function n(t){var r;return $N(this,n),r=e.call(this,t),r.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),r}return n}(zD);function QN(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=tV(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function tV(t,e){if(t){if("string"===typeof t)return eV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eV(t,e):void 0}}function eV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oV(t,e,n){return e&&rV(t.prototype,e),n&&rV(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var iV=100,aV=function(){function t(e,n){nV(this,t),t._observerInstance||t._createObserver(),this._element=e,this._callback=n,t._addElementCallback(e,n),t._observerInstance.observe(e)}return oV(t,[{key:"destroy",value:function(){t._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(e,n){t._elementCallbacks||(t._elementCallbacks=new Map);var r=t._elementCallbacks.get(e);r||(r=new Set,t._elementCallbacks.set(e,r)),r.add(n)}},{key:"_deleteElementCallback",value:function(e,n){var r=t._getElementCallbacks(e);r&&(r.delete(n),r.size||(t._elementCallbacks.delete(e),t._observerInstance.unobserve(e))),t._elementCallbacks&&!t._elementCallbacks.size&&(t._observerInstance=null,t._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(e){return t._elementCallbacks?t._elementCallbacks.get(e):null}},{key:"_createObserver",value:function(){var e;e="function"===typeof dd.window.ResizeObserver?dd.window.ResizeObserver:uV,t._observerInstance=new e((function(e){var n,r=QN(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.target.offsetParent){var i=t._getElementCallbacks(o.target);if(i){var a,u=QN(i);try{for(u.s();!(a=u.n()).done;){var c=a.value;c(o)}}catch(s){u.e(s)}finally{u.f()}}}}}catch(s){r.e(s)}finally{r.f()}}))}}]),t}();aV._observerInstance=null,aV._elementCallbacks=null;var uV=function(){function t(e){nV(this,t),this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return oV(t,[{key:"observe",value:function(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var t=this,e=function e(){t._checkElementRectsAndExecuteCallback(),t._periodicCheckTimeout=setTimeout(e,iV)};this.listenTo(dd.window,"resize",(function(){t._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=setTimeout(e,iV)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var t,e=[],n=QN(this._elements);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._hasRectChanged(r)&&e.push({target:r,contentRect:this._previousRects.get(r)})}}catch(o){n.e(o)}finally{n.f()}e.length&&this._callback(e)}},{key:"_hasRectChanged",value:function(t){if(!t.ownerDocument.body.contains(t))return!1;var e=new bg(t),n=this._previousRects.get(t),r=!n||!n.isEqual(e);return this._previousRects.set(t,e),r}}]),t}();
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function cV(t){return t.bindTemplate.to((function(e){e.target===t.element&&e.preventDefault()}))}function sV(t){return sV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sV(t)}function lV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hV(t,e,n){return e&&fV(t.prototype,e),n&&fV(t,n),t}function pV(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yV(t,e)}function yV(t,e){return yV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yV(t,e)}function dV(t){var e=bV();return function(){var n,r=gV(t);if(e){var o=gV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vV(this,n)}}function vV(t,e){return!e||"object"!==sV(e)&&"function"!==typeof e?mV(t):e}function mV(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bV(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function gV(t){return gV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gV(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(uV,Bd);var wV=function(t){pV(n,t);var e=dV(n);function n(t){var r;lV(this,n),r=e.call(this,t);var o=r.bindTemplate;return r.set("isVisible",!1),r.set("position","se"),r.children=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",(function(t){return"ck-dropdown__panel_".concat(t)})),o.if("isVisible","ck-dropdown__panel-visible")]},children:r.children,on:{selectstart:o.to((function(t){return t.preventDefault()}))}}),r}return hV(n,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var t=this.children.last;"function"===typeof t.focusLast?t.focusLast():t.focus()}}}]),n}(zD);n("0a061");
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function _V(t){return t&&t.parentNode?t.offsetParent===dd.document.body?null:t.offsetParent:null}function kV(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=PV(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function SV(t,e){return jV(t)||RV(t,e)||PV(t,e)||OV()}function OV(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function PV(t,e){if(t){if("string"===typeof t)return AV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AV(t,e):void 0}}function AV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RV(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function jV(t){if(Array.isArray(t))return t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function EV(t){var e=t.element,n=t.target,r=t.positions,o=t.limiter,i=t.fitInViewport;Ot(n)&&(n=n()),Ot(o)&&(o=o());var a,u,c=_V(e),s=new bg(e),l=new bg(n);if(o||i){var f=o&&new bg(o).getVisible(),h=i&&new bg(dd.window),p=TV(r,{targetRect:l,elementRect:s,limiterRect:f,viewportRect:h}),y=p||xV(r[0],l,s),d=SV(y,2);u=d[0],a=d[1]}else{var v=xV(r[0],l,s),m=SV(v,2);u=m[0],a=m[1]}var b=MV(a);return c&&(b=DV(b,c)),{left:b.left,top:b.top,name:u}}function xV(t,e,n){var r=t(e,n);if(!r)return null;var o=r.left,i=r.top,a=r.name;return[a,n.clone().moveTo(o,i)]}function TV(t,e){var n=e.elementRect,r=e.viewportRect,o=n.getArea(),i=CV(t,e);if(r){var a=i.filter((function(t){var e=t.viewportIntersectArea;return e===o})),u=IV(a,o);if(u)return u}return IV(i,o)}function CV(t,e){var n,r=e.targetRect,o=e.elementRect,i=e.limiterRect,a=e.viewportRect,u=[],c=o.getArea(),s=kV(t);try{for(s.s();!(n=s.n()).done;){var l=n.value,f=xV(l,r,o);if(f){var h=SV(f,2),p=h[0],y=h[1],d=0,v=0;if(i)if(a){var m=i.getIntersection(a);m&&(d=m.getIntersectionArea(y))}else d=i.getIntersectionArea(y);a&&(v=a.getIntersectionArea(y));var b={positionName:p,positionRect:y,limiterIntersectArea:d,viewportIntersectArea:v};if(d===c)return[b];u.push(b)}}}catch(g){s.e(g)}finally{s.f()}return u}function IV(t,e){var n,r,o,i=0,a=kV(t);try{for(a.s();!(o=a.n()).done;){var u=o.value,c=u.positionName,s=u.positionRect,l=u.limiterIntersectArea,f=u.viewportIntersectArea;if(l===e)return[c,s];var h=Math.pow(f,2)+Math.pow(l,2);h>i&&(i=h,n=s,r=c)}}catch(p){a.e(p)}finally{a.f()}return n?[r,n]:null}function DV(t,e){var n=t.left,r=t.top,o=MV(new bg(e)),i=lg(e);return n-=o.left,r-=o.top,n+=e.scrollLeft,r+=e.scrollTop,n-=i.left,r-=i.top,{left:n,top:r}}function MV(t){var e=t.left,n=t.top,r=dd.window,o=r.scrollX,i=r.scrollY;return{left:e+o,top:n+i}}function NV(t){return NV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NV(t)}function VV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FV(t,e,n){return e&&BV(t.prototype,e),n&&BV(t,n),t}function LV(t,e,n){return LV="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=zV(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},LV(t,e,n||t)}function zV(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=GV(t),null===t)break;return t}function UV(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HV(t,e)}function HV(t,e){return HV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},HV(t,e)}function $V(t){var e=YV();return function(){var n,r=GV(t);if(e){var o=GV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WV(this,n)}}function WV(t,e){return!e||"object"!==NV(e)&&"function"!==typeof e?qV(t):e}function qV(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YV(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function GV(t){return GV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},GV(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var KV=function(t){UV(n,t);var e=$V(n);function n(t,r,o){var i;VV(this,n),i=e.call(this,t);var a=i.bindTemplate;return i.buttonView=r,i.panelView=o,i.set("isOpen",!1),i.set("isEnabled",!0),i.set("class"),i.set("id"),i.set("panelPosition","auto"),i.keystrokes=new HT,i.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",(function(t){return!t}))],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[r,o]}),r.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),i}return FV(n,[{key:"render",value:function(){var t=this;LV(GV(n.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",(function(){t.isOpen=!t.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(function(){t.isOpen&&("auto"===t.panelPosition?t.panelView.position=n._getOptimalPosition({element:t.panelView.element,target:t.buttonView.element,fitInViewport:!0,positions:t._panelPositions}).name:t.panelView.position=t.panelPosition)})),this.keystrokes.listenTo(this.element);var e=function(e,n){t.isOpen&&(t.buttonView.focus(),t.isOpen=!1,n())};this.keystrokes.set("arrowdown",(function(e,n){t.buttonView.isEnabled&&!t.isOpen&&(t.isOpen=!0,n())})),this.keystrokes.set("arrowright",(function(e,n){t.isOpen&&n()})),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var t=n.defaultPanelPositions,e=t.southEast,r=t.southWest,o=t.northEast,i=t.northWest;return"ltr"===this.locale.uiLanguageDirection?[e,r,o,i]:[r,e,i,o]}}]),n}(zD);KV.defaultPanelPositions={southEast:function(t){return{top:t.bottom,left:t.left,name:"se"}},southWest:function(t,e){return{top:t.bottom,left:t.left-e.width+t.width,name:"sw"}},northEast:function(t,e){return{top:t.top-e.height,left:t.left,name:"ne"}},northWest:function(t,e){return{top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"}}},KV._getOptimalPosition=EV;n("ffa0");function JV(t){return JV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JV(t)}function XV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QV(t,e,n){return e&&ZV(t.prototype,e),n&&ZV(t,n),t}function tB(t,e,n){return tB="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=eB(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},tB(t,e,n||t)}function eB(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=cB(t),null===t)break;return t}function nB(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rB(t,e)}function rB(t,e){return rB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rB(t,e)}function oB(t){var e=uB();return function(){var n,r=cB(t);if(e){var o=cB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iB(this,n)}}function iB(t,e){return!e||"object"!==JV(e)&&"function"!==typeof e?aB(t):e}function aB(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function cB(t){return cB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cB(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var sB=function(t){nB(n,t);var e=oB(n);function n(){var t;XV(this,n),t=e.call(this);var r=t.bindTemplate;return t.set("content",""),t.set("viewBox","0 0 20 20"),t.set("fillColor",""),t.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:r.to("viewBox")}}),t}return QV(n,[{key:"render",value:function(){var t=this;tB(cB(n.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(function(){t._updateXMLContent(),t._colorFillPaths()})),this.on("change:fillColor",(function(){t._colorFillPaths()}))}},{key:"_updateXMLContent",value:function(){if(this.content){var t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml"),e=t.querySelector("svg"),n=e.getAttribute("viewBox");n&&(this.viewBox=n),this.element.innerHTML="";while(e.childNodes.length>0)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var t=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((function(e){e.style.fill=t.fillColor}))}}]),n}(zD);n("b0d6");function lB(t){return lB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lB(t)}function fB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hB(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pB(t,e)}function pB(t,e){return pB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pB(t,e)}function yB(t){var e=mB();return function(){var n,r=bB(t);if(e){var o=bB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dB(this,n)}}function dB(t,e){return!e||"object"!==lB(e)&&"function"!==typeof e?vB(t):e}function vB(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function bB(t){return bB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bB(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var gB=function(t){hB(n,t);var e=yB(n);function n(t){var r;fB(this,n),r=e.call(this,t),r.set("text",""),r.set("position","s");var o=r.bindTemplate;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",o.to("position",(function(t){return"ck-tooltip_"+t})),o.if("text","ck-hidden",(function(t){return!t.trim()}))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:o.to("text")}]}]}),r}return n}(zD);n("43ae");function wB(t){return wB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wB(t)}function _B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SB(t,e,n){return e&&kB(t.prototype,e),n&&kB(t,n),t}function OB(t,e,n){return OB="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=PB(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},OB(t,e,n||t)}function PB(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=CB(t),null===t)break;return t}function AB(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RB(t,e)}function RB(t,e){return RB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},RB(t,e)}function jB(t){var e=TB();return function(){var n,r=CB(t);if(e){var o=CB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EB(this,n)}}function EB(t,e){return!e||"object"!==wB(e)&&"function"!==typeof e?xB(t):e}function xB(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function CB(t){return CB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},CB(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var IB=function(t){AB(n,t);var e=jB(n);function n(t){var r;_B(this,n),r=e.call(this,t);var o=r.bindTemplate,i=_a();return r.set("class"),r.set("labelStyle"),r.set("icon"),r.set("isEnabled",!0),r.set("isOn",!1),r.set("isVisible",!0),r.set("isToggleable",!1),r.set("keystroke"),r.set("label"),r.set("tabindex",-1),r.set("tooltip"),r.set("tooltipPosition","s"),r.set("type","button"),r.set("withText",!1),r.set("withKeystroke",!1),r.children=r.createCollection(),r.tooltipView=r._createTooltipView(),r.labelView=r._createLabelView(i),r.iconView=new sB,r.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),r.keystrokeView=r._createKeystrokeView(),r.bind("_tooltipString").to(xB(r),"tooltip",xB(r),"label",xB(r),"keystroke",r._getTooltipString.bind(xB(r))),r.setTemplate({tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",(function(t){return!t})),o.if("isVisible","ck-hidden",(function(t){return!t})),o.to("isOn",(function(t){return t?"ck-on":"ck-off"})),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],type:o.to("type",(function(t){return t||"button"})),tabindex:o.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_".concat(i),"aria-disabled":o.if("isEnabled",!0,(function(t){return!t})),"aria-pressed":o.to("isOn",(function(t){return!!r.isToggleable&&String(t)}))},children:r.children,on:{mousedown:o.to((function(t){t.preventDefault()})),click:o.to((function(t){r.isEnabled?r.fire("execute"):t.preventDefault()}))}}),r}return SB(n,[{key:"render",value:function(){OB(CB(n.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var t=new gB;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}},{key:"_createLabelView",value:function(t){var e=new zD,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:"ck-editor__aria-label_".concat(t)},children:[{text:this.bindTemplate.to("label")}]}),e}},{key:"_createKeystrokeView",value:function(){var t=new zD;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(function(t){return Bp(t)}))}]}),t}},{key:"_getTooltipString",value:function(t,e,n){return t?"string"==typeof t?t:(n&&(n=Bp(n)),t instanceof Function?t(e,n):"".concat(e).concat(n?" (".concat(n,")"):"")):""}}]),n}(zD),DB=n("4ca4"),MB=n.n(DB);function NB(t){return NB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NB(t)}function VB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FB(t,e,n){return e&&BB(t.prototype,e),n&&BB(t,n),t}function LB(t,e,n){return LB="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=zB(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},LB(t,e,n||t)}function zB(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=GB(t),null===t)break;return t}function UB(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HB(t,e)}function HB(t,e){return HB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},HB(t,e)}function $B(t){var e=YB();return function(){var n,r=GB(t);if(e){var o=GB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WB(this,n)}}function WB(t,e){return!e||"object"!==NB(e)&&"function"!==typeof e?qB(t):e}function qB(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function GB(t){return GB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},GB(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var KB=function(t){UB(n,t);var e=$B(n);function n(t){var r;return VB(this,n),r=e.call(this,t),r.arrowView=r._createArrowView(),r.extendTemplate({attributes:{"aria-haspopup":!0}}),r.delegate("execute").to(qB(r),"open"),r}return FB(n,[{key:"render",value:function(){LB(GB(n.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var t=new sB;return t.content=MB.a,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}]),n}(IB);n("3a7f");function JB(t){return JB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JB(t)}function XB(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ZB(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ZB(t,e){if(t){if("string"===typeof t)return QB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QB(t,e):void 0}}function QB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nF(t,e,n){return e&&eF(t.prototype,e),n&&eF(t,n),t}function rF(t,e,n){return rF="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=oF(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},rF(t,e,n||t)}function oF(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=fF(t),null===t)break;return t}function iF(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aF(t,e)}function aF(t,e){return aF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},aF(t,e)}function uF(t){var e=lF();return function(){var n,r=fF(t);if(e){var o=fF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cF(this,n)}}function cF(t,e){return!e||"object"!==JB(e)&&"function"!==typeof e?sF(t):e}function sF(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lF(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function fF(t){return fF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fF(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var hF=function(t){iF(n,t);var e=uF(n);function n(){var t;return tF(this,n),t=e.call(this),t.items=t.createCollection(),t.focusTracker=new IC,t.keystrokes=new HT,t._focusCycler=new zN({focusables:t.items,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),t.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:t.items}),t}return nF(n,[{key:"render",value:function(){var t=this;rF(fF(n.prototype),"render",this).call(this);var e,r=XB(this.items);try{for(r.s();!(e=r.n()).done;){var o=e.value;this.focusTracker.add(o.element)}}catch(i){r.e(i)}finally{r.f()}this.items.on("add",(function(e,n){t.focusTracker.add(n.element)})),this.items.on("remove",(function(e,n){t.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),n}(zD);function pF(t){return pF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pF(t)}function yF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vF(t,e,n){return e&&dF(t.prototype,e),n&&dF(t,n),t}function mF(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bF(t,e)}function bF(t,e){return bF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},bF(t,e)}function gF(t){var e=kF();return function(){var n,r=SF(t);if(e){var o=SF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wF(this,n)}}function wF(t,e){return!e||"object"!==pF(e)&&"function"!==typeof e?_F(t):e}function _F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kF(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function SF(t){return SF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},SF(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var OF=function(t){mF(n,t);var e=gF(n);function n(t){var r;return yF(this,n),r=e.call(this,t),r.children=r.createCollection(),r.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:r.children}),r}return vF(n,[{key:"focus",value:function(){this.children.first.focus()}}]),n}(zD);function PF(t){return PF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PF(t)}function AF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jF(t,e)}function jF(t,e){return jF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jF(t,e)}function EF(t){var e=CF();return function(){var n,r=IF(t);if(e){var o=IF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xF(this,n)}}function xF(t,e){return!e||"object"!==PF(e)&&"function"!==typeof e?TF(t):e}function TF(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CF(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function IF(t){return IF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},IF(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var DF=function(t){RF(n,t);var e=EF(n);function n(t){var r;return AF(this,n),r=e.call(this,t),r.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),r}return n}(zD);n("ff23");function MF(t){return MF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MF(t)}function NF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BF(t,e,n){return e&&VF(t.prototype,e),n&&VF(t,n),t}function FF(t,e,n){return FF="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=LF(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},FF(t,e,n||t)}function LF(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=YF(t),null===t)break;return t}function zF(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UF(t,e)}function UF(t,e){return UF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},UF(t,e)}function HF(t){var e=qF();return function(){var n,r=YF(t);if(e){var o=YF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $F(this,n)}}function $F(t,e){return!e||"object"!==MF(e)&&"function"!==typeof e?WF(t):e}function WF(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qF(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function YF(t){return YF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},YF(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var GF=function(t){zF(n,t);var e=HF(n);function n(t){var r;return NF(this,n),r=e.call(this,t),r.isToggleable=!0,r.toggleSwitchView=r._createToggleView(),r.extendTemplate({attributes:{class:"ck-switchbutton"}}),r}return BF(n,[{key:"render",value:function(){FF(YF(n.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var t=new zD;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}]),n}(IB);function KF(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=JF(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function JF(t,e){if(t){if("string"===typeof t)return XF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XF(t,e):void 0}}function XF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ZF(t){var e=t.emitter,n=t.activator,r=t.callback,o=t.contextElements;e.listenTo(document,"mousedown",(function(t,e){var i=e.target;if(n()){var a,u=KF(o);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(c.contains(i))return}}catch(s){u.e(s)}finally{u.f()}r()}}))}n("2a21"),n("f5e9");function QF(t){return rL(t)||nL(t)||eL(t)||tL()}function tL(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eL(t,e){if(t){if("string"===typeof t)return oL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oL(t,e):void 0}}function nL(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function rL(t){if(Array.isArray(t))return oL(t)}function oL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function iL(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KB,n=new e(t),r=new wV(t),o=new KV(t,n,r);return n.bind("isEnabled").to(o),n instanceof KB?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),cL(o),o}function aL(t,e){var n=t.locale,r=n.t,o=t.toolbarView=new xL(n);o.set("ariaLabel",r("Dropdown toolbar")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map((function(t){return o.items.add(t)})),t.panelView.children.add(o),o.items.delegate("execute").to(t)}function uL(t,e){var n=t.locale,r=t.listView=new hF(n);r.items.bindTo(e).using((function(t){var e=t.type,r=t.model;if("separator"===e)return new DF(n);if("button"===e||"switchbutton"===e){var o,i,a=new OF(n);return i="button"===e?new IB(n):new GF(n),(o=i).bind.apply(o,QF(Object.keys(r))).to(r),i.delegate("execute").to(a),a.children.add(i),a}})),t.panelView.children.add(r),r.items.delegate("execute").to(t)}function cL(t){sL(t),lL(t),fL(t)}function sL(t){t.on("render",(function(){ZF({emitter:t,activator:function(){return t.isOpen},callback:function(){t.isOpen=!1},contextElements:[t.element]})}))}function lL(t){t.on("execute",(function(e){e.source instanceof GF||(t.isOpen=!1)}))}function fL(t){t.keystrokes.set("arrowdown",(function(e,n){t.isOpen&&(t.panelView.focus(),n())})),t.keystrokes.set("arrowup",(function(e,n){t.isOpen&&(t.panelView.focusLast(),n())}))}var hL=n("1cb8"),pL=n.n(hL);n("7def");function yL(t){return yL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yL(t)}function dL(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=vL(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function vL(t,e){if(t){if("string"===typeof t)return mL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mL(t,e):void 0}}function mL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wL(t,e,n){return e&&gL(t.prototype,e),n&&gL(t,n),t}function _L(t,e,n){return _L="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=kL(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},_L(t,e,n||t)}function kL(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=EL(t),null===t)break;return t}function SL(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OL(t,e)}function OL(t,e){return OL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},OL(t,e)}function PL(t){var e=jL();return function(){var n,r=EL(t);if(e){var o=EL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return AL(this,n)}}function AL(t,e){return!e||"object"!==yL(e)&&"function"!==typeof e?RL(t):e}function RL(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jL(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function EL(t){return EL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},EL(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var xL=function(t){SL(n,t);var e=PL(n);function n(t,r){var o;bL(this,n),o=e.call(this,t);var i=o.bindTemplate,a=o.t;return o.options=r||{},o.set("ariaLabel",a("Editor toolbar")),o.set("maxWidth","auto"),o.items=o.createCollection(),o.focusTracker=new IC,o.keystrokes=new HT,o.set("class"),o.set("isCompact",!1),o.itemsView=new TL(t),o.children=o.createCollection(),o.children.add(o.itemsView),o.focusables=o.createCollection(),o._focusCycler=new zN({focusables:o.focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),o.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")}},children:o.children,on:{mousedown:cV(RL(o))}}),o._behavior=o.options.shouldGroupWhenFull?new IL(RL(o)):new CL(RL(o)),o}return wL(n,[{key:"render",value:function(){var t=this;_L(EL(n.prototype),"render",this).call(this);var e,r=dL(this.items);try{for(r.s();!(e=r.n()).done;){var o=e.value;this.focusTracker.add(o.element)}}catch(i){r.e(i)}finally{r.f()}this.items.on("add",(function(e,n){t.focusTracker.add(n.element)})),this.items.on("remove",(function(e,n){t.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),_L(EL(n.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(t,e){var n=this;t.map((function(t){"|"==t?n.items.add(new ZN):e.has(t)?n.items.add(e.create(t)):console.warn(Object(Oa["a"])("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:t})}))}}]),n}(zD),TL=function(t){SL(n,t);var e=PL(n);function n(t){var r;return bL(this,n),r=e.call(this,t),r.children=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:r.children}),r}return n}(zD),CL=function(){function t(e){bL(this,t);var n=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using((function(t){return t})),e.focusables.bindTo(e.items).using((function(t){return t})),e.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}return wL(t,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),t}(),IL=function(){function t(e){var n=this;bL(this,t),this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using((function(t){return t})),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("add",(function(t,e,r){r>n.ungroupedItems.length?n.groupedItems.add(e,r-n.ungroupedItems.length):n.ungroupedItems.add(e,r),n._updateGrouping()})),e.items.on("remove",(function(t,e,r){r>n.ungroupedItems.length?n.groupedItems.remove(e):n.ungroupedItems.remove(e),n._updateGrouping()})),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return wL(t,[{key:"render",value:function(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(this.viewElement.offsetParent){var t;while(this._areItemsOverflowing)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){while(this.groupedItems.length&&!this._areItemsOverflowing)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_enableGroupingOnResize",value:function(){var t,e=this;this.resizeObserver=new aV(this.viewElement,(function(n){t&&t===n.contentRect.width&&!e.shouldUpdateGroupingOnNextResize||(e.shouldUpdateGroupingOnNextResize=!1,e._updateGrouping(),t=n.contentRect.width)})),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(t){var e=this;t.on("change:maxWidth",(function(){e._updateGrouping()}))}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new ZN),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var t=this.viewLocale,e=t.t,n=iL(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",aL(n,[]),n.buttonView.set({label:e("Show more items"),tooltip:!0,icon:pL.a}),n.toolbarView.items.bindTo(this.groupedItems).using((function(t){return t})),n}},{key:"_updateFocusCycleableItems",value:function(){var t=this;this.viewFocusables.clear(),this.ungroupedItems.map((function(e){t.viewFocusables.add(e)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new bg(t.lastChild),r=new bg(t);if(!this.cachedPadding){var o=dd.window.getComputedStyle(t),i="ltr"===e?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[i])}return"ltr"===e?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}}]),t}();n("6134");function DL(t){return DL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DL(t)}function ML(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VL(t,e,n){return e&&NL(t.prototype,e),n&&NL(t,n),t}function BL(t,e,n){return BL="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=FL(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},BL(t,e,n||t)}function FL(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=qL(t),null===t)break;return t}function LL(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zL(t,e)}function zL(t,e){return zL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zL(t,e)}function UL(t){var e=WL();return function(){var n,r=qL(t);if(e){var o=qL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HL(this,n)}}function HL(t,e){return!e||"object"!==DL(e)&&"function"!==typeof e?$L(t):e}function $L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WL(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function qL(t){return qL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qL(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var YL=function(t){LL(n,t);var e=UL(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ML(this,n),o=e.call(this,t),o.stickyPanel=new DN(t),o.toolbar=new xL(t,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),o.editable=new bN(t,r),o}return VL(n,[{key:"render",value:function(){BL(qL(n.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),n}($M);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function GL(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}function KL(t){return KL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KL(t)}function JL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZL(t,e,n){return e&&XL(t.prototype,e),n&&XL(t,n),t}function QL(t,e,n){return QL="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=tz(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},QL(t,e,n||t)}function tz(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=uz(t),null===t)break;return t}function ez(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nz(t,e)}function nz(t,e){return nz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nz(t,e)}function rz(t){var e=az();return function(){var n,r=uz(t);if(e){var o=uz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oz(this,n)}}function oz(t,e){return!e||"object"!==KL(e)&&"function"!==typeof e?iz(t):e}function iz(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function az(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function uz(t){return uz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uz(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var cz=function(t){ez(n,t);var e=rz(n);function n(t,r){var o;JL(this,n),o=e.call(this,r),aa(t)&&(o.sourceElement=t),o.data.processor=new _C(o.data.viewDocument),o.model.document.createRoot();var i=!o.config.get("toolbar.shouldNotGroupWhenFull"),a=new YL(o.locale,o.editing.view,{shouldToolbarGroupWhenFull:i});return o.ui=new _I(iz(o),a),pC(iz(o)),o}return ZL(n,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),QL(uz(n.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){var o=new e(t,n);r(o.initPlugins().then((function(){return o.ui.init(aa(t)?t:null)})).then((function(){if(!aa(t)&&n.initialData)throw new Oa["b"]("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);var e=n.initialData||sz(t);return o.data.init(e)})).then((function(){return o.fire("ready")})).then((function(){return o})))}))}}]),n}(uC);function sz(t){return aa(t)?GL(t):t}function lz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hz(t,e,n){return e&&fz(t.prototype,e),n&&fz(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(cz,sC),Xa(cz,hC);var pz=function(){function t(e){lz(this,t),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}return hz(t,[{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",yz,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",yz),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),t}();function yz(t){t.return=!1,t.stop()}function dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mz(t,e,n){return e&&vz(t.prototype,e),n&&vz(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(pz,Ef);var bz=function(){function t(e){dz(this,t),this.files=gz(e),this._native=e}return mz(t,[{key:"getData",value:function(t){return this._native.getData(t)}},{key:"setData",value:function(t,e){this._native.setData(t,e)}},{key:"types",get:function(){return this._native.types}}]),t}();function gz(t){var e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];return e.length?e:n.filter((function(t){return"file"===t.kind})).map((function(t){return t.getAsFile()}))}function wz(t){return wz="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wz(t)}function _z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sz(t,e,n){return e&&kz(t.prototype,e),n&&kz(t,n),t}function Oz(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pz(t,e)}function Pz(t,e){return Pz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pz(t,e)}function Az(t){var e=Ez();return function(){var n,r=xz(t);if(e){var o=xz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rz(this,n)}}function Rz(t,e){return!e||"object"!==wz(e)&&"function"!==typeof e?jz(t):e}function jz(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ez(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function xz(t){return xz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xz(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Tz=function(t){Oz(n,t);var e=Az(n);function n(t){var r;_z(this,n),r=e.call(this,t);var o=r.document;function i(t,e){e.preventDefault();var n=e.dropRange?[e.dropRange]:Array.from(o.selection.getRanges()),r=new ga(o,"clipboardInput");o.fire(r,{dataTransfer:e.dataTransfer,targetRanges:n}),r.stop.called&&e.stopPropagation()}return r.domEventType=["paste","copy","cut","drop","dragover"],r.listenTo(o,"paste",i,{priority:"low"}),r.listenTo(o,"drop",i,{priority:"low"}),r}return Sz(n,[{key:"onDomEvent",value:function(t){var e={dataTransfer:new bz(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=Cz(this.view,t)),this.fire(t.type,t,e)}}]),n}(km);function Cz(t,e){var n,r=e.target.ownerDocument,o=e.clientX,i=e.clientY;return r.caretRangeFromPoint&&r.caretRangeFromPoint(o,i)?n=r.caretRangeFromPoint(o,i):e.rangeParent&&(n=r.createRange(),n.setStart(e.rangeParent,e.rangeOffset),n.collapse(!0)),n?t.domConverter.domRangeToView(n):t.document.selection.getFirstRange()}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Iz(t){return t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),t.indexOf("</p><p>")>-1&&(t="<p>".concat(t,"</p>")),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Dz(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(t,e){return 1==e.length?" ":e}))}function Mz(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Nz(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Nz(t,e){if(t){if("string"===typeof t)return Vz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vz(t,e):void 0}}function Vz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Bz=["figcaption","li"];function Fz(t){var e="";if(t.is("text")||t.is("textProxy"))e=t.data;else if(t.is("img")&&t.hasAttribute("alt"))e=t.getAttribute("alt");else{var n,r=null,o=Mz(t.getChildren());try{for(o.s();!(n=o.n()).done;){var i=n.value,a=Fz(i);r&&(r.is("containerElement")||i.is("containerElement"))&&(Bz.includes(r.name)||Bz.includes(i.name)?e+="\n":e+="\n\n"),e+=a,r=i}}catch(u){o.e(u)}finally{o.f()}}return e}function Lz(t){return Lz="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lz(t)}function zz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hz(t,e,n){return e&&Uz(t.prototype,e),n&&Uz(t,n),t}function $z(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wz(t,e)}function Wz(t,e){return Wz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wz(t,e)}function qz(t){var e=Kz();return function(){var n,r=Jz(t);if(e){var o=Jz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yz(this,n)}}function Yz(t,e){return!e||"object"!==Lz(e)&&"function"!==typeof e?Gz(t):e}function Gz(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kz(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Jz(t){return Jz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jz(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Xz=function(t){$z(n,t);var e=qz(n);function n(){return zz(this,n),e.apply(this,arguments)}return Hz(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.model.document,r=e.editing.view,o=r.document;function i(t,r){var i=r.dataTransfer;r.preventDefault();var a=e.data.toView(e.model.getSelectedContent(n.selection));o.fire("clipboardOutput",{dataTransfer:i,content:a,method:t.name})}this._htmlDataProcessor=new _C(o),r.addObserver(Tz),this.listenTo(o,"clipboardInput",(function(t){e.isReadOnly&&t.stop()}),{priority:"highest"}),this.listenTo(o,"clipboardInput",(function(e,n){var o=n.dataTransfer,i="";o.getData("text/html")?i=Dz(o.getData("text/html")):o.getData("text/plain")&&(i=Iz(o.getData("text/plain"))),i=t._htmlDataProcessor.toView(i);var a=new ga(t,"inputTransformation");t.fire(a,{content:i,dataTransfer:o}),a.stop.called&&e.stop(),r.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",(function(e,n){if(!n.content.isEmpty){var r=t.editor.data,o=t.editor.model,i=r.toModel(n.content,"$clipboardHolder");if(0==i.childCount)return;o.insertContent(i),e.stop()}}),{priority:"low"}),this.listenTo(o,"copy",i,{priority:"low"}),this.listenTo(o,"cut",(function(t,n){e.isReadOnly?n.preventDefault():i(t,n)}),{priority:"low"}),this.listenTo(o,"clipboardOutput",(function(r,o){o.content.isEmpty||(o.dataTransfer.setData("text/html",t._htmlDataProcessor.toData(o.content)),o.dataTransfer.setData("text/plain",Fz(o.content))),"cut"==o.method&&e.model.deleteContent(n.selection)}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Clipboard"}}]),n}(pz);function Zz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tU(t,e,n){return e&&Qz(t.prototype,e),n&&Qz(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var eU=function(){function t(e){var n=this;Zz(this,t),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(function(){n.refresh()})),this.on("execute",(function(t){n.isEnabled||t.stop()}),{priority:"high"}),this.listenTo(e,"change:isReadOnly",(function(t,e,r){r?n.forceDisabled("readOnlyMode"):n.clearForceDisabled("readOnlyMode")}))}return tU(t,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",nU,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",nU),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),t}();function nU(t){t.return=!1,t.stop()}Xa(eU,Ef);var rU=a.a.mark(uU);function oU(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=iU(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function iU(t,e){if(t){if("string"===typeof t)return aU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aU(t,e):void 0}}function aU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function uU(t,e){var n,r,o;return a.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=oU(e),i.prev=1,n.s();case 3:if((r=n.n()).done){i.next=10;break}if(o=r.value,!o||!t.getAttributeProperties(o[0]).copyOnEnter){i.next=8;break}return i.next=8,o;case 8:i.next=3;break;case 10:i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](1),n.e(i.t0);case 15:return i.prev=15,n.f(),i.finish(15);case 18:case"end":return i.stop()}}),rU,null,[[1,12,15,18]])}function cU(t){return cU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cU(t)}function sU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fU(t,e,n){return e&&lU(t.prototype,e),n&&lU(t,n),t}function hU(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pU(t,e)}function pU(t,e){return pU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pU(t,e)}function yU(t){var e=mU();return function(){var n,r=bU(t);if(e){var o=bU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dU(this,n)}}function dU(t,e){return!e||"object"!==cU(e)&&"function"!==typeof e?vU(t):e}function vU(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mU(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function bU(t){return bU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bU(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var gU=function(t){hU(n,t);var e=yU(n);function n(){return sU(this,n),e.apply(this,arguments)}return fU(n,[{key:"execute",value:function(){var t=this,e=this.editor.model,n=e.document;e.change((function(r){wU(t.editor.model,r,n.selection,e.schema),t.fire("afterExecute",{writer:r})}))}}]),n}(eU);function wU(t,e,n,r){var o=n.isCollapsed,i=n.getFirstRange(),a=i.start.parent,u=i.end.parent;if(r.isLimit(a)||r.isLimit(u))o||a!=u||t.deleteContent(n);else if(o){var c=uU(e.model.schema,n.getAttributes());_U(e,i.start),e.setSelectionAttribute(c)}else{var s=!(i.start.isAtStart&&i.end.isAtEnd),l=a==u;t.deleteContent(n,{leaveUnmerged:s}),s&&(l?_U(e,n.focus):e.setSelection(u,0))}}function _U(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}function kU(t){return kU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kU(t)}function SU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PU(t,e,n){return e&&OU(t.prototype,e),n&&OU(t,n),t}function AU(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RU(t,e)}function RU(t,e){return RU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},RU(t,e)}function jU(t){var e=TU();return function(){var n,r=CU(t);if(e){var o=CU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EU(this,n)}}function EU(t,e){return!e||"object"!==kU(e)&&"function"!==typeof e?xU(t):e}function xU(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TU(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function CU(t){return CU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},CU(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var IU=function(t){AU(n,t);var e=jU(n);function n(t){var r;SU(this,n),r=e.call(this,t);var o=r.document;return o.on("keydown",(function(t,e){var n;r.isEnabled&&e.keyCode==Mp.enter&&(o.once("enter",(function(t){return n=t}),{priority:"highest"}),o.fire("enter",new lm(o,e.domEvent,{isSoft:e.shiftKey})),n&&n.stop.called&&t.stop())})),r}return PU(n,[{key:"observe",value:function(){}}]),n}($d);function DU(t){return DU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DU(t)}function MU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VU(t,e,n){return e&&NU(t.prototype,e),n&&NU(t,n),t}function BU(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FU(t,e)}function FU(t,e){return FU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},FU(t,e)}function LU(t){var e=HU();return function(){var n,r=$U(t);if(e){var o=$U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zU(this,n)}}function zU(t,e){return!e||"object"!==DU(e)&&"function"!==typeof e?UU(t):e}function UU(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HU(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function $U(t){return $U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$U(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var WU=function(t){BU(n,t);var e=LU(n);function n(){return MU(this,n),e.apply(this,arguments)}return VU(n,[{key:"init",value:function(){var t=this.editor,e=t.editing.view,n=e.document;e.addObserver(IU),t.commands.add("enter",new gU(t)),this.listenTo(n,"enter",(function(n,r){r.preventDefault(),r.isSoft||(t.execute("enter"),e.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),n}(pz);function qU(t){return qU="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qU(t)}function YU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KU(t,e,n){return e&&GU(t.prototype,e),n&&GU(t,n),t}function JU(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XU(t,e)}function XU(t,e){return XU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},XU(t,e)}function ZU(t){var e=eH();return function(){var n,r=nH(t);if(e){var o=nH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QU(this,n)}}function QU(t,e){return!e||"object"!==qU(e)&&"function"!==typeof e?tH(t):e}function tH(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eH(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function nH(t){return nH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nH(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var rH=function(t){JU(n,t);var e=ZU(n);function n(){return YU(this,n),e.apply(this,arguments)}return KU(n,[{key:"execute",value:function(){var t=this,e=this.editor.model,n=e.document;e.change((function(r){iH(e,r,n.selection),t.fire("afterExecute",{writer:r})}))}},{key:"refresh",value:function(){var t=this.editor.model,e=t.document;this.isEnabled=oH(t.schema,e.selection)}}]),n}(eU);function oH(t,e){if(e.rangeCount>1)return!1;var n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;var r=e.getFirstRange(),o=r.start.parent,i=r.end.parent;return!uH(o,t)&&!uH(i,t)||o===i}function iH(t,e,n){var r=n.isCollapsed,o=n.getFirstRange(),i=o.start.parent,a=o.end.parent,u=i==a;if(r){var c=uU(t.schema,n.getAttributes());aH(t,e,o.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(c)}else{var s=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:s}),u?aH(t,e,n.focus):s&&e.setSelection(a,0)}}function aH(t,e,n){var r=e.createElement("softBreak");t.insertContent(r,n),e.setSelection(r,"after")}function uH(t,e){return!t.is("rootElement")&&(e.isLimit(t)||uH(t.parent,e))}function cH(t){return cH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cH(t)}function sH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fH(t,e,n){return e&&lH(t.prototype,e),n&&lH(t,n),t}function hH(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pH(t,e)}function pH(t,e){return pH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pH(t,e)}function yH(t){var e=mH();return function(){var n,r=bH(t);if(e){var o=bH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dH(this,n)}}function dH(t,e){return!e||"object"!==cH(e)&&"function"!==typeof e?vH(t):e}function vH(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mH(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function bH(t){return bH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bH(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var gH=function(t){hH(n,t);var e=yH(n);function n(){return sH(this,n),e.apply(this,arguments)}return fH(n,[{key:"init",value:function(){var t=this.editor,e=t.model.schema,n=t.conversion,r=t.editing.view,o=r.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:function(t,e){return e.createEmptyElement("br")}}),r.addObserver(IU),t.commands.add("shiftEnter",new rH(t)),this.listenTo(o,"enter",(function(e,n){n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),r.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),n}(pz);function wH(t){return wH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wH(t)}function _H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SH(t,e,n){return e&&kH(t.prototype,e),n&&kH(t,n),t}function OH(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PH(t,e)}function PH(t,e){return PH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},PH(t,e)}function AH(t){var e=EH();return function(){var n,r=xH(t);if(e){var o=xH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RH(this,n)}}function RH(t,e){return!e||"object"!==wH(e)&&"function"!==typeof e?jH(t):e}function jH(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EH(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function xH(t){return xH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xH(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var TH=function(t){OH(n,t);var e=AH(n);function n(){return _H(this,n),e.apply(this,arguments)}return SH(n,[{key:"execute",value:function(){var t=this.editor.model,e=t.schema.getLimitElement(t.document.selection);t.change((function(t){t.setSelection(e,"in")}))}}]),n}(eU);function CH(t){return CH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CH(t)}function IH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MH(t,e,n){return e&&DH(t.prototype,e),n&&DH(t,n),t}function NH(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VH(t,e)}function VH(t,e){return VH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},VH(t,e)}function BH(t){var e=zH();return function(){var n,r=UH(t);if(e){var o=UH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FH(this,n)}}function FH(t,e){return!e||"object"!==CH(e)&&"function"!==typeof e?LH(t):e}function LH(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zH(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function UH(t){return UH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},UH(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var HH=Vp("Ctrl+A"),$H=function(t){NH(n,t);var e=BH(n);function n(){return IH(this,n),e.apply(this,arguments)}return MH(n,[{key:"init",value:function(){var t=this.editor,e=t.editing.view,n=e.document;t.commands.add("selectAll",new TH(t)),this.listenTo(n,"keydown",(function(e,n){Np(n)===HH&&(t.execute("selectAll"),n.preventDefault())}))}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),n}(pz),WH=n("fa71"),qH=n.n(WH);function YH(t){return YH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YH(t)}function GH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JH(t,e,n){return e&&KH(t.prototype,e),n&&KH(t,n),t}function XH(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZH(t,e)}function ZH(t,e){return ZH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ZH(t,e)}function QH(t){var e=n$();return function(){var n,r=r$(t);if(e){var o=r$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return t$(this,n)}}function t$(t,e){return!e||"object"!==YH(e)&&"function"!==typeof e?e$(t):e}function e$(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n$(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function r$(t){return r$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r$(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var o$=function(t){XH(n,t);var e=QH(n);function n(){return GH(this,n),e.apply(this,arguments)}return JH(n,[{key:"init",value:function(){var t=this,e=this.editor;e.ui.componentFactory.add("selectAll",(function(n){var r=e.commands.get("selectAll"),o=new IB(n),i=n.t;return o.set({label:i("Select all"),icon:qH.a,keystroke:"Ctrl+A",tooltip:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),t.listenTo(o,"execute",(function(){e.execute("selectAll"),e.editing.view.focus()})),o}))}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),n}(pz);function i$(t){return i$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i$(t)}function a$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c$(t,e,n){return e&&u$(t.prototype,e),n&&u$(t,n),t}function s$(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l$(t,e)}function l$(t,e){return l$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l$(t,e)}function f$(t){var e=y$();return function(){var n,r=d$(t);if(e){var o=d$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h$(this,n)}}function h$(t,e){return!e||"object"!==i$(e)&&"function"!==typeof e?p$(t):e}function p$(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d$(t){return d$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d$(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var v$=function(t){s$(n,t);var e=f$(n);function n(){return a$(this,n),e.apply(this,arguments)}return c$(n,null,[{key:"requires",get:function(){return[$H,o$]}},{key:"pluginName",get:function(){return"SelectAll"}}]),n}(pz);function m$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g$(t,e,n){return e&&b$(t.prototype,e),n&&b$(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var w$=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;m$(this,t),this.model=e,this.size=0,this.limit=r,this.isLocked=!1,this._changeCallback=function(t,e){"transparent"!=e.type&&e!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return g$(t,[{key:"input",value:function(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(t){this.isLocked&&!t||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}}]),t}();function _$(t){return _$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_$(t)}function k$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O$(t,e,n){return e&&S$(t.prototype,e),n&&S$(t,n),t}function P$(t,e,n){return P$="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=A$(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},P$(t,e,n||t)}function A$(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=I$(t),null===t)break;return t}function R$(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j$(t,e)}function j$(t,e){return j$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},j$(t,e)}function E$(t){var e=C$();return function(){var n,r=I$(t);if(e){var o=I$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x$(this,n)}}function x$(t,e){return!e||"object"!==_$(e)&&"function"!==typeof e?T$(t):e}function T$(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C$(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function I$(t){return I$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},I$(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var D$=function(t){R$(n,t);var e=E$(n);function n(t,r){var o;return k$(this,n),o=e.call(this,t),o._buffer=new w$(t.model,r),o._batches=new WeakSet,o}return O$(n,[{key:"destroy",value:function(){P$(I$(n.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,o=e.text||"",i=o.length,a=e.range?n.createSelection(e.range):r.selection,u=e.resultRange;n.enqueueChange(this._buffer.batch,(function(e){t._buffer.lock(),n.deleteContent(a),o&&n.insertContent(e.createText(o,r.selection.getAttributes()),a),u?e.setSelection(u):a.is("documentSelection")||e.setSelection(a),t._buffer.unlock(),t._buffer.input(i),t._batches.add(t._buffer.batch)}))}},{key:"buffer",get:function(){return this._buffer}}]),n}(eU);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function M$(t){var e=null,n=t.model,r=t.editing.view,o=t.commands.get("input");function i(t){var i=n.document,a=r.document.isComposing,c=e&&e.isEqual(i.selection);e=null,o.isEnabled&&(B$(t)||i.selection.isCollapsed||a&&229===t.keyCode||!a&&229===t.keyCode&&c||u())}function a(){var t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||u()}function u(){var t=o.buffer;t.lock(),n.enqueueChange(t.batch,(function(){n.deleteContent(n.document.selection)})),t.unlock()}Rp.isAndroid?r.document.on("beforeinput",(function(t,e){return i(e)}),{priority:"lowest"}):r.document.on("keydown",(function(t,e){return i(e)}),{priority:"lowest"}),r.document.on("compositionstart",a,{priority:"lowest"}),r.document.on("compositionend",(function(){e=n.createSelection(n.document.selection)}),{priority:"lowest"})}for(var N$=[Np("arrowUp"),Np("arrowRight"),Np("arrowDown"),Np("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],V$=112;V$<=135;V$++)N$.push(V$);function B$(t){return!!t.ctrlKey||N$.includes(t.keyCode)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function F$(t,e){var n,r=[],o=0;return t.forEach((function(t){"equal"==t?(i(),o++):"insert"==t?(a("insert")?n.values.push(e[o]):(i(),n={type:"insert",index:o,values:[e[o]]}),o++):a("delete")?n.howMany++:(i(),n={type:"delete",index:o,howMany:1})})),i(),r;function i(){n&&(r.push(n),n=null)}function a(t){return n&&n.type==t}}function L$(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=z$(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function z$(t,e){if(t){if("string"===typeof t)return U$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U$(t,e):void 0}}function U$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function H$(t){if(0==t.length)return!1;var e,n=L$(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if("children"===r.type&&!$$(r))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}function $$(t){if(t.newChildren.length-t.oldChildren.length==1){var e=Xy(t.oldChildren,t.newChildren,W$),n=F$(e,t.newChildren);if(!(n.length>1)){var r=n[0];if(r.values[0]&&r.values[0].is("text"))return r}}}function W$(t,e){return t&&t.is("text")&&e&&e.is("text")?t.data===e.data:t===e}function q$(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Y$(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Y$(t,e){if(t){if("string"===typeof t)return G$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G$(t,e):void 0}}function G$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X$(t,e,n){return e&&J$(t.prototype,e),n&&J$(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Z$(t){t.editing.view.document.on("mutations",(function(e,n,r){new Q$(t).handle(n,r)}))}var Q$=function(){function t(e){K$(this,t),this.editor=e,this.editing=this.editor.editing}return X$(t,[{key:"handle",value:function(t,e){if(H$(t))this._handleContainerChildrenMutations(t,e);else{var n,r=q$(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._handleTextMutation(o,e),this._handleTextNodeInsertion(o)}}catch(i){r.e(i)}finally{r.f()}}}},{key:"_handleContainerChildrenMutations",value:function(t,e){var n=tW(t);if(n){var r=this.editor.editing.view.domConverter,o=r.mapViewToDom(n),i=new xd(this.editor.editing.view.document),a=this.editor.data.toModel(i.domToView(o)).getChild(0),u=this.editor.editing.mapper.toModelElement(n);if(u){var c=Array.from(a.getChildren()),s=Array.from(u.getChildren()),l=c[c.length-1],f=s[s.length-1];l&&l.is("softBreak")&&f&&!f.is("softBreak")&&c.pop();var h=this.editor.model.schema;if(eW(c,h)&&eW(s,h)){var p=c.map((function(t){return t.is("text")?t.data:"@"})).join("").replace(/\u00A0/g," "),y=s.map((function(t){return t.is("text")?t.data:"@"})).join("").replace(/\u00A0/g," ");if(y!==p){var d=Xy(y,p),v=nW(d),m=v.firstChangeAt,b=v.insertions,g=v.deletions,w=null;e&&(w=this.editing.mapper.toModelRange(e.getFirstRange()));var _=p.substr(m,b),k=this.editor.model.createRange(this.editor.model.createPositionAt(u,m),this.editor.model.createPositionAt(u,m+g));this.editor.execute("input",{text:_,range:k,resultRange:w})}}}}}},{key:"_handleTextMutation",value:function(t,e){if("text"==t.type){var n=t.newText.replace(/\u00A0/g," "),r=t.oldText.replace(/\u00A0/g," ");if(r!==n){var o=Xy(r,n),i=nW(o),a=i.firstChangeAt,u=i.insertions,c=i.deletions,s=null;e&&(s=this.editing.mapper.toModelRange(e.getFirstRange()));var l=this.editing.view.createPositionAt(t.node,a),f=this.editing.mapper.toModelPosition(l),h=this.editor.model.createRange(f,f.getShiftedBy(c)),p=n.substr(a,u);this.editor.execute("input",{text:p,range:h,resultRange:s})}}}},{key:"_handleTextNodeInsertion",value:function(t){if("children"==t.type){var e=$$(t),n=this.editing.view.createPositionAt(t.node,e.index),r=this.editing.mapper.toModelPosition(n),o=e.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(r)})}}}]),t}();function tW(t){var e=t.map((function(t){return t.node})).reduce((function(t,e){return t.getCommonAncestor(e,{includeSelf:!0})}));if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find((function(t){return t.is("containerElement")||t.is("rootElement")}))}function eW(t,e){return t.every((function(t){return e.isInline(t)}))}function nW(t){for(var e=null,n=null,r=0;r<t.length;r++){var o=t[r];"equal"!=o&&(e=null===e?r:e,n=r)}for(var i=0,a=0,u=e;u<=n;u++)"insert"!=t[u]&&i++,"delete"!=t[u]&&a++;return{insertions:a,deletions:i,firstChangeAt:e}}function rW(t){return rW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rW(t)}function oW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aW(t,e,n){return e&&iW(t.prototype,e),n&&iW(t,n),t}function uW(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cW(t,e)}function cW(t,e){return cW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cW(t,e)}function sW(t){var e=hW();return function(){var n,r=pW(t);if(e){var o=pW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lW(this,n)}}function lW(t,e){return!e||"object"!==rW(e)&&"function"!==typeof e?fW(t):e}function fW(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hW(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function pW(t){return pW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pW(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var yW=function(t){uW(n,t);var e=sW(n);function n(){return oW(this,n),e.apply(this,arguments)}return aW(n,[{key:"init",value:function(){var t=this.editor,e=new D$(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),M$(t),Z$(t)}},{key:"isInput",value:function(t){var e=this.editor.commands.get("input");return e._batches.has(t)}}],[{key:"pluginName",get:function(){return"Input"}}]),n}(pz);function dW(t){return dW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dW(t)}function vW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bW(t,e,n){return e&&mW(t.prototype,e),n&&mW(t,n),t}function gW(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wW(t,e)}function wW(t,e){return wW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wW(t,e)}function _W(t){var e=OW();return function(){var n,r=PW(t);if(e){var o=PW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kW(this,n)}}function kW(t,e){return!e||"object"!==dW(e)&&"function"!==typeof e?SW(t):e}function SW(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OW(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function PW(t){return PW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},PW(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var AW=function(t){gW(n,t);var e=_W(n);function n(t,r){var o;return vW(this,n),o=e.call(this,t),o.direction=r,o._buffer=new w$(t.model,t.config.get("typing.undoStep")),o}return bW(n,[{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document;n.enqueueChange(this._buffer.batch,(function(o){t._buffer.lock();var i=o.createSelection(e.selection||r.selection),a=i.isCollapsed;if(i.isCollapsed&&n.modifySelection(i,{direction:t.direction,unit:e.unit}),t._shouldEntireContentBeReplacedWithParagraph(e.sequence||1))t._replaceEntireContentWithParagraph(o);else if(!i.isCollapsed){var u=0;i.getFirstRange().getMinimalFlatRanges().forEach((function(t){u+=xh(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),n.deleteContent(i,{doNotResetEntireContent:a,direction:t.direction}),t._buffer.input(u),o.setSelection(i),t._buffer.unlock()}}))}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(t){if(t>1)return!1;var e=this.editor.model,n=e.document,r=n.selection,o=e.schema.getLimitElement(r),i=r.isCollapsed&&r.containsEntireContent(o);if(!i)return!1;if(!e.schema.checkChild(o,"paragraph"))return!1;var a=o.getChild(0);return!a||"paragraph"!==a.name}},{key:"_replaceEntireContentWithParagraph",value:function(t){var e=this.editor.model,n=e.document,r=n.selection,o=e.schema.getLimitElement(r),i=t.createElement("paragraph");t.remove(t.createRangeIn(o)),t.insert(i,o),t.setSelection(i,0)}},{key:"buffer",get:function(){return this._buffer}}]),n}(eU);function RW(t){return RW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RW(t)}function jW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xW(t,e,n){return e&&EW(t.prototype,e),n&&EW(t,n),t}function TW(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CW(t,e)}function CW(t,e){return CW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},CW(t,e)}function IW(t){var e=NW();return function(){var n,r=VW(t);if(e){var o=VW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DW(this,n)}}function DW(t,e){return!e||"object"!==RW(e)&&"function"!==typeof e?MW(t):e}function MW(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NW(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function VW(t){return VW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},VW(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var BW=function(t){TW(n,t);var e=IW(n);function n(t){var r;jW(this,n),r=e.call(this,t);var o=t.document,i=0;function a(t,e,n){var r;o.once("delete",(function(t){return r=t}),{priority:Number.POSITIVE_INFINITY}),o.fire("delete",new lm(o,e,n)),r&&r.stop.called&&t.stop()}return o.on("keyup",(function(t,e){e.keyCode!=Mp.delete&&e.keyCode!=Mp.backspace||(i=0)})),o.on("keydown",(function(t,e){var n={};if(e.keyCode==Mp.delete)n.direction="forward",n.unit="character";else{if(e.keyCode!=Mp.backspace)return;n.direction="backward",n.unit="codePoint"}var r=Rp.isMac?e.altKey:e.ctrlKey;n.unit=r?"word":n.unit,n.sequence=++i,a(t,e.domEvent,n)})),Rp.isAndroid&&o.on("beforeinput",(function(e,n){if("deleteContentBackward"==n.domEvent.inputType){var r={unit:"codepoint",direction:"backward",sequence:1},o=n.domTarget.ownerDocument.defaultView.getSelection();o.anchorNode==o.focusNode&&o.anchorOffset+1!=o.focusOffset&&(r.selectionToRemove=t.domConverter.domSelectionToView(o)),a(e,n.domEvent,r)}})),r}return xW(n,[{key:"observe",value:function(){}}]),n}($d);function FW(t){return FW="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FW(t)}function LW(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=zW(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function zW(t,e){if(t){if("string"===typeof t)return UW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UW(t,e):void 0}}function UW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WW(t,e,n){return e&&$W(t.prototype,e),n&&$W(t,n),t}function qW(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YW(t,e)}function YW(t,e){return YW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},YW(t,e)}function GW(t){var e=XW();return function(){var n,r=ZW(t);if(e){var o=ZW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KW(this,n)}}function KW(t,e){return!e||"object"!==FW(e)&&"function"!==typeof e?JW(t):e}function JW(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XW(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ZW(t){return ZW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ZW(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var QW=function(t){qW(n,t);var e=GW(n);function n(){return HW(this,n),e.apply(this,arguments)}return WW(n,[{key:"init",value:function(){var t=this.editor,e=t.editing.view,n=e.document;if(e.addObserver(BW),t.commands.add("forwardDelete",new AW(t,"forward")),t.commands.add("delete",new AW(t,"backward")),this.listenTo(n,"delete",(function(n,r){var o={unit:r.unit,sequence:r.sequence};if(r.selectionToRemove){var i,a=t.model.createSelection(),u=[],c=LW(r.selectionToRemove.getRanges());try{for(c.s();!(i=c.n()).done;){var s=i.value;u.push(t.editing.mapper.toModelRange(s))}}catch(l){c.e(l)}finally{c.f()}a.setTo(u),o.selection=a}t.execute("forward"==r.direction?"forwardDelete":"delete",o),r.preventDefault(),e.scrollToTheSelection()})),Rp.isAndroid){var r=null;this.listenTo(n,"delete",(function(t,e){var n=e.domTarget.ownerDocument.defaultView.getSelection();r={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}),{priority:"lowest"}),this.listenTo(n,"keyup",(function(t,e){if(r){var n=e.domTarget.ownerDocument.defaultView.getSelection();n.collapse(r.anchorNode,r.anchorOffset),n.extend(r.focusNode,r.focusOffset),r=null}}))}}}],[{key:"pluginName",get:function(){return"Delete"}}]),n}(pz);function tq(t){return tq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tq(t)}function eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rq(t,e,n){return e&&nq(t.prototype,e),n&&nq(t,n),t}function oq(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iq(t,e)}function iq(t,e){return iq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},iq(t,e)}function aq(t){var e=sq();return function(){var n,r=lq(t);if(e){var o=lq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uq(this,n)}}function uq(t,e){return!e||"object"!==tq(e)&&"function"!==typeof e?cq(t):e}function cq(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sq(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function lq(t){return lq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lq(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var fq=function(t){oq(n,t);var e=aq(n);function n(){return eq(this,n),e.apply(this,arguments)}return rq(n,null,[{key:"requires",get:function(){return[yW,QW]}},{key:"pluginName",get:function(){return"Typing"}}]),n}(pz);function hq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yq(t,e,n){return e&&pq(t.prototype,e),n&&pq(t,n),t}function dq(t){return bq(t)||mq(t)||wq(t)||vq()}function vq(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mq(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function bq(t){if(Array.isArray(t))return _q(t)}function gq(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=wq(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function wq(t,e){if(t){if("string"===typeof t)return _q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_q(t,e):void 0}}function _q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var kq=new Map;function Sq(t,e,n){var r=kq.get(t);r||(r=new Map,kq.set(t,r)),r.set(e,n)}function Oq(t,e){var n=kq.get(t);return n&&n.has(e)?n.get(e):Pq}function Pq(t){return[t]}function Aq(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Oq(t.constructor,e.constructor);try{return t=t.clone(),r(t,e,n)}catch(o){throw o}}function Rq(t,e,n){t=t.slice(),e=e.slice();var r=new jq(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(t),r.setOriginalOperations(e);var o=r.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:o};var i,a=new WeakMap,u=gq(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.set(c,0)}}catch(S){u.e(S)}finally{u.f()}var s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length},l=0;while(l<t.length){var f,h,p=t[l],y=a.get(p);if(y!=e.length){var d=e[y],v=Aq(p,d,r.getContext(p,d,!0)),m=Aq(d,p,r.getContext(d,p,!1));r.updateRelation(p,d),r.setOriginalOperations(v,p),r.setOriginalOperations(m,d);var b,g=gq(v);try{for(g.s();!(b=g.n()).done;){var w=b.value;a.set(w,y+m.length)}}catch(S){g.e(S)}finally{g.f()}(f=t).splice.apply(f,[l,1].concat(dq(v))),(h=e).splice.apply(h,[y,1].concat(dq(m)))}else l++}if(n.padWithNoOps){var _=t.length-s.originalOperationsACount,k=e.length-s.originalOperationsBCount;xq(t,k-_),xq(e,_-k)}return Eq(t,s.nextBaseVersionB),Eq(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:o}}var jq=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];hq(this,t),this.originalOperations=new Map,this._history=e.history,this._useRelations=n,this._forceWeakRemove=!!r,this._relations=new Map}return yq(t,[{key:"setOriginalOperations",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n?this.originalOperations.get(n):null,o=gq(t);try{for(o.s();!(e=o.n()).done;){var i=e.value;this.originalOperations.set(i,r||i)}}catch(a){o.e(a)}finally{o.f()}}},{key:"updateRelation",value:function(t,e){switch(t.constructor){case hR:switch(e.constructor){case Mj:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case hR:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter");break}break;case Kj:switch(e.constructor){case Mj:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case hR:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore");break}break;case Mj:switch(e.constructor){case Mj:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case Kj:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case YR:var n=t.newRange;if(!n)return;switch(e.constructor){case hR:var r=d_._createFromPositionAndShift(e.sourcePosition,e.howMany),o=r.containsPosition(n.start)||r.start.isEqual(n.start),i=r.containsPosition(n.end)||r.end.isEqual(n.end);!o&&!i||r.containsRange(n)||this._setRelation(t,e,{side:o?"left":"right",path:o?n.start.path.slice():n.end.path.slice()});break;case Mj:var a=n.start.isEqual(e.targetPosition),u=n.start.isEqual(e.deletionPosition),c=n.end.isEqual(e.deletionPosition),s=n.end.isEqual(e.sourcePosition);(a||u||c||s)&&this._setRelation(t,e,{wasInLeftElement:a,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:c,wasInRightElement:s});break}break}}},{key:"getContext",value:function(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(t){var e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}},{key:"_getRelation",value:function(t,e){var n=this.originalOperations.get(e),r=this._history.getUndoneOperation(n);if(!r)return null;var o=this.originalOperations.get(t),i=this._relations.get(o);return i&&i.get(r)||null}},{key:"_setRelation",value:function(t,e,n){var r=this.originalOperations.get(t),o=this.originalOperations.get(e),i=this._relations.get(r);i||(i=new Map,this._relations.set(r,i)),i.set(o,n)}}]),t}();function Eq(t,e){var n,r=gq(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.baseVersion=e++}}catch(i){r.e(i)}finally{r.f()}}function xq(t,e){for(var n=0;n<e;n++)t.push(new Px(0))}function Tq(t,e,n){var r=t.nodes,o=r.getNode(0).getAttribute(e);if(o==n)return null;var i=new d_(t.position,t.position.getShiftedBy(t.howMany));return new BA(i,e,o,n,0)}function Cq(t,e){var n=d_._createFromPositionAndShift(e.sourcePosition,e.howMany),r=null,o=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(o=t.getDifference(n),r=t.getIntersection(n)):o=[t];var i,a=[],u=gq(o);try{for(u.s();!(i=u.n()).done;){var c=i.value;c=c._getTransformedByDeletion(e.sourcePosition,e.howMany);var s=e.getMovedRangeStart(),l=c.start.hasSameParentAs(s);c=c._getTransformedByInsertion(s,e.howMany,l),a.push.apply(a,dq(c))}}catch(f){u.e(f)}finally{u.f()}return r&&a.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),a}function Iq(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Dq(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=new hR(o.start,o.end.offset-o.start.offset,e,0);n.push(i);for(var a=r+1;a<t.length;a++)t[a]=t[a]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];e=e._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return n}function Mq(t){return Mq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mq(t)}function Nq(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Vq(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Vq(t,e){if(t){if("string"===typeof t)return Bq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bq(t,e):void 0}}function Bq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zq(t,e,n){return e&&Lq(t.prototype,e),n&&Lq(t,n),t}function Uq(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hq(t,e)}function Hq(t,e){return Hq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hq(t,e)}function $q(t){var e=Yq();return function(){var n,r=Gq(t);if(e){var o=Gq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wq(this,n)}}function Wq(t,e){return!e||"object"!==Mq(e)&&"function"!==typeof e?qq(t):e}function qq(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yq(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Gq(t){return Gq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gq(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Sq(BA,BA,(function(t,e,n){if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){var r=t.range.getDifference(e.range).map((function(e){return new BA(e,t.key,t.oldValue,t.newValue,0)})),o=t.range.getIntersection(e.range);return o&&n.aIsStrong&&r.push(new BA(o,e.key,e.newValue,t.newValue,0)),0==r.length?[new Px(0)]:r}return[t]})),Sq(BA,IR,(function(t,e){if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){var n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes),r=n.map((function(e){return new BA(e,t.key,t.oldValue,t.newValue,t.baseVersion)}));if(e.shouldReceiveAttributes){var o=Tq(e,t.key,t.oldValue);o&&r.unshift(o)}return r}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),Sq(BA,Mj,(function(t,e){var n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(d_._createFromPositionAndShift(e.graveyardPosition,1));var r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map((function(e){return new BA(e,t.key,t.oldValue,t.newValue,t.baseVersion)}))})),Sq(BA,hR,(function(t,e){var n=Cq(t.range,e);return n.map((function(e){return new BA(e,t.key,t.oldValue,t.newValue,t.baseVersion)}))})),Sq(BA,Kj,(function(t,e){if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){var n=t.clone();return n.range=new d_(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),Sq(IR,BA,(function(t,e){var n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){var r=Tq(t,e.key,e.newValue);r&&n.push(r)}return n})),Sq(IR,IR,(function(t,e,n){return t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]})),Sq(IR,hR,(function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]})),Sq(IR,Kj,(function(t,e){return t.position=t.position._getTransformedBySplitOperation(e),[t]})),Sq(IR,Mj,(function(t,e){return t.position=t.position._getTransformedByMergeOperation(e),[t]})),Sq(YR,IR,(function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]})),Sq(YR,YR,(function(t,e,n){if(t.name==e.name){if(!n.aIsStrong)return[new Px(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),Sq(YR,Mj,(function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]})),Sq(YR,hR,(function(t,e,n){if(t.oldRange&&(t.oldRange=d_._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){var r=d_._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=r.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=r.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=d_._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]})),Sq(YR,Kj,(function(t,e,n){if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){var r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=e_._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=e_._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=e_._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=e_._createAt(e.insertionPosition):t.newRange.end=r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),Sq(Mj,IR,(function(t,e){return t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]})),Sq(Mj,Mj,(function(t,e,n){if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){var r=e.graveyardPosition.path.slice();return r.push(0),t.sourcePosition=new e_(e.graveyardPosition.root,r),t.howMany=0,[t]}return[new Px(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var o="$graveyard"==t.targetPosition.root.rootName,i="$graveyard"==e.targetPosition.root.rootName,a=o&&!i,u=i&&!o,c=u||!a&&n.aIsStrong;if(c){var s=e.targetPosition._getTransformedByMergeOperation(e),l=t.targetPosition._getTransformedByMergeOperation(e);return[new hR(s,t.howMany,l,0)]}return[new Px(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Sq(Mj,hR,(function(t,e,n){var r=d_._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new Px(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),Sq(Mj,Kj,(function(t,e,n){if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){var r=0!=e.howMany,o=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(r||o||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),Sq(hR,IR,(function(t,e){var n=d_._createFromPositionAndShift(t.sourcePosition,t.howMany),r=n._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),Sq(hR,hR,(function(t,e,n){var r,o=d_._createFromPositionAndShift(t.sourcePosition,t.howMany),i=d_._createFromPositionAndShift(e.sourcePosition,e.howMany),a=n.aIsStrong,u=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?u=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(u=!1),r=t.targetPosition.isEqual(e.targetPosition)&&u?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Iq(t,e)&&Iq(e,t))return[e.getReversed()];var c=o.containsPosition(e.targetPosition);if(c&&o.containsRange(i,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Dq([o],r);var s=i.containsPosition(t.targetPosition);if(s&&i.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Dq([o],r);var l=Iu(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Dq([o],r);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;var f,h=[],p=o.getDifference(i),y=gq(p);try{for(y.s();!(f=y.n()).done;){var d=f.value;d.start=d.start._getTransformedByDeletion(e.sourcePosition,e.howMany),d.end=d.end._getTransformedByDeletion(e.sourcePosition,e.howMany);var v="same"==Iu(d.start.getParentPath(),e.getMovedRangeStart().getParentPath()),m=d._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,v);h.push.apply(h,dq(m))}}catch(g){y.e(g)}finally{y.f()}var b=o.getIntersection(i);return null!==b&&a&&(b.start=b.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),b.end=b.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===h.length?h.push(b):1==h.length?i.start.isBefore(o.start)||i.start.isEqual(o.start)?h.unshift(b):h.push(b):h.splice(1,0,b)),0===h.length?[new Px(t.baseVersion)]:Dq(h,r)})),Sq(hR,Kj,(function(t,e,n){var r=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=t.targetPosition._getTransformedBySplitOperation(e));var o=d_._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){var i=new d_(e.splitPosition,o.end);i=i._getTransformedBySplitOperation(e);var a=[new d_(o.start,e.splitPosition),i];return Dq(a,r)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(r=t.targetPosition);var u=o._getTransformedBySplitOperation(e),c=[u];if(e.graveyardPosition){var s=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);t.howMany>1&&s&&!n.aWasUndone&&c.push(d_._createFromPositionAndShift(e.insertionPosition,1))}return Dq(c,r)})),Sq(hR,Mj,(function(t,e,n){var r=d_._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new Px(0)]}else if(!n.aWasUndone){var o=[],i=e.graveyardPosition.clone(),a=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(o.push(new hR(t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),a=a._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));var u=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),c=new hR(i,1,u,0),s=c.getMovedRangeStart().path.slice();s.push(0);var l=new e_(c.targetPosition.root,s);a=a._getTransformedByMove(i,u,1);var f=new hR(a,e.howMany,l,0);return o.push(c),o.push(f),o}var h=d_._createFromPositionAndShift(t.sourcePosition,t.howMany),p=h._getTransformedByMergeOperation(e);return t.sourcePosition=p.start,t.howMany=p.end.offset-p.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),Sq(uj,IR,(function(t,e){return t.position=t.position._getTransformedByInsertOperation(e),[t]})),Sq(uj,Mj,(function(t,e){return t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])})),Sq(uj,hR,(function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]})),Sq(uj,uj,(function(t,e,n){if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new Px(0)];t.oldName=e.newName}return[t]})),Sq(uj,Kj,(function(t,e){var n=t.position.path,r=e.splitPosition.getParentPath();if("same"==Iu(n,r)&&!e.graveyardPosition){var o=new uj(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,o]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),Sq(_j,_j,(function(t,e,n){if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new Px(0)];t.oldValue=e.newValue}return[t]})),Sq(Kj,IR,(function(t,e){return t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=Kj.getInsertionPosition(t.splitPosition),[t]})),Sq(Kj,Mj,(function(t,e,n){if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){var r=e.graveyardPosition.path.slice();r.push(0);var o=new e_(e.graveyardPosition.root,r),i=Kj.getInsertionPosition(new e_(e.graveyardPosition.root,r)),a=new Kj(o,0,null,0);return a.insertionPosition=i,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Kj.getInsertionPosition(t.splitPosition),t.graveyardPosition=a.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[a,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Kj.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Sq(Kj,hR,(function(t,e,n){var r=d_._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){var o=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&o){var i=t.splitPosition._getTransformedByMoveOperation(e),a=t.graveyardPosition._getTransformedByMoveOperation(e),u=a.path.slice();u.push(0);var c=new e_(a.root,u),s=new hR(i,t.howMany,c,0);return[s]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){var l=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=l,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=Kj.getInsertionPosition(t.splitPosition),[t]}var f=t.splitPosition.isEqual(e.targetPosition);return!f||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=Kj.getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=Kj.getInsertionPosition(t.splitPosition),[t])})),Sq(Kj,Kj,(function(t,e,n){if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new Px(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new Px(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){var r="$graveyard"==t.splitPosition.root.rootName,o="$graveyard"==e.splitPosition.root.rootName,i=r&&!o,a=o&&!r,u=a||!i&&n.aIsStrong;if(u){var c=[];return e.howMany&&c.push(new hR(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&c.push(new hR(t.splitPosition,t.howMany,t.moveTargetPosition,0)),c}return[new Px(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){var s=e.insertionPosition.path.slice();s.push(0);var l=new e_(e.insertionPosition.root,s),f=new hR(t.insertionPosition,1,l,0);return[t,f]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=Kj.getInsertionPosition(t.splitPosition),[t]}));var Kq=function(t){Uq(n,t);var e=$q(n);function n(t){var r;return Fq(this,n),r=e.call(this,t),r._stack=[],r._createdBatches=new WeakSet,r.refresh(),r}return zq(n,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(t){var e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(t,e,n){var r,o=this.editor.model,i=o.document,a=[],u=Nq(t);try{for(u.s();!(r=u.n()).done;){var c=r.value,s=Jq(c,n),l=s.find((function(t){return t.start.root!=i.graveyard}));l&&a.push(l)}}catch(f){u.e(f)}finally{u.f()}a.length&&o.change((function(t){t.setSelection(a,{backward:e})}))}},{key:"_undo",value:function(t,e){var n=this.editor.model,r=n.document;this._createdBatches.add(e);var o=t.operations.slice().filter((function(t){return t.isDocumentOperation}));o.reverse();var i,a=Nq(o);try{for(a.s();!(i=a.n()).done;){var u,c=i.value,s=c.baseVersion+1,l=Array.from(r.history.getOperations(s)),f=Rq([c.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}),h=f.operationsA,p=Nq(h);try{for(p.s();!(u=p.n()).done;){var y=u.value;e.addOperation(y),n.applyOperation(y),r.history.setOperationAsUndone(c,y)}}catch(d){p.e(d)}finally{p.f()}}}catch(d){a.e(d)}finally{a.f()}}}]),n}(eU);function Jq(t,e){var n=t.getTransformedByOperations(e);n.sort((function(t,e){return t.start.isBefore(e.start)?-1:1}));for(var r=1;r<n.length;r++){var o=n[r-1],i=n[r];o.end.isTouching(i.start)&&(o.end=i.end,n.splice(r,1),r--)}return n}function Xq(t){return Xq="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xq(t)}function Zq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tY(t,e,n){return e&&Qq(t.prototype,e),n&&Qq(t,n),t}function eY(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nY(t,e)}function nY(t,e){return nY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nY(t,e)}function rY(t){var e=aY();return function(){var n,r=uY(t);if(e){var o=uY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oY(this,n)}}function oY(t,e){return!e||"object"!==Xq(e)&&"function"!==typeof e?iY(t):e}function iY(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aY(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function uY(t){return uY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uY(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var cY=function(t){eY(n,t);var e=rY(n);function n(){return Zq(this,n),e.apply(this,arguments)}return tY(n,[{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e?this._stack.findIndex((function(t){return t.batch==e})):this._stack.length-1,r=this._stack.splice(n,1)[0],o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,(function(){t._undo(r.batch,o);var e=t.editor.model.document.history.getOperations(r.batch.baseVersion);t._restoreSelection(r.selection.ranges,r.selection.isBackward,e),t.fire("revert",r.batch,o)})),this.refresh()}}]),n}(Kq);function sY(t){return sY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sY(t)}function lY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hY(t,e,n){return e&&fY(t.prototype,e),n&&fY(t,n),t}function pY(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yY(t,e)}function yY(t,e){return yY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yY(t,e)}function dY(t){var e=bY();return function(){var n,r=gY(t);if(e){var o=gY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vY(this,n)}}function vY(t,e){return!e||"object"!==sY(e)&&"function"!==typeof e?mY(t):e}function mY(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bY(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function gY(t){return gY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gY(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var wY=function(t){pY(n,t);var e=dY(n);function n(){return lY(this,n),e.apply(this,arguments)}return hY(n,[{key:"execute",value:function(){var t=this,e=this._stack.pop(),n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,(function(){var r=e.batch.operations[e.batch.operations.length-1],o=r.baseVersion+1,i=t.editor.model.document.history.getOperations(o);t._restoreSelection(e.selection.ranges,e.selection.isBackward,i),t._undo(e.batch,n)})),this.refresh()}}]),n}(Kq);function _Y(t){return _Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_Y(t)}function kY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OY(t,e,n){return e&&SY(t.prototype,e),n&&SY(t,n),t}function PY(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AY(t,e)}function AY(t,e){return AY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},AY(t,e)}function RY(t){var e=xY();return function(){var n,r=TY(t);if(e){var o=TY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jY(this,n)}}function jY(t,e){return!e||"object"!==_Y(e)&&"function"!==typeof e?EY(t):e}function EY(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xY(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function TY(t){return TY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},TY(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var CY=function(t){PY(n,t);var e=RY(n);function n(t){var r;return kY(this,n),r=e.call(this,t),r._batchRegistry=new WeakSet,r}return OY(n,null,[{key:"pluginName",get:function(){return"UndoEditing"}}]),OY(n,[{key:"init",value:function(){var t=this,e=this.editor;this._undoCommand=new cY(e),this._redoCommand=new wY(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(function(e,n){var r=n[0];if(r.isDocumentOperation){var o=r.batch,i=t._redoCommand._createdBatches.has(o),a=t._undoCommand._createdBatches.has(o),u=t._batchRegistry.has(o);u||"transparent"==o.type&&!i&&!a||(i?t._undoCommand.addBatch(o):a||(t._undoCommand.addBatch(o),t._redoCommand.clearStack()),t._batchRegistry.add(o))}}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(function(e,n,r){t._redoCommand.addBatch(r)})),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}]),n}(pz),IY=n("f945"),DY=n.n(IY),MY=n("332d"),NY=n.n(MY);function VY(t){return VY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VY(t)}function BY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LY(t,e,n){return e&&FY(t.prototype,e),n&&FY(t,n),t}function zY(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UY(t,e)}function UY(t,e){return UY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},UY(t,e)}function HY(t){var e=qY();return function(){var n,r=YY(t);if(e){var o=YY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $Y(this,n)}}function $Y(t,e){return!e||"object"!==VY(e)&&"function"!==typeof e?WY(t):e}function WY(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qY(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function YY(t){return YY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},YY(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var GY=function(t){zY(n,t);var e=HY(n);function n(){return BY(this,n),e.apply(this,arguments)}return LY(n,[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?DY.a:NY.a,o="ltr"==e.uiLanguageDirection?NY.a:DY.a;this._addButton("undo",n("Undo"),"CTRL+Z",r),this._addButton("redo",n("Redo"),"CTRL+Y",o)}},{key:"_addButton",value:function(t,e,n,r){var o=this,i=this.editor;i.ui.componentFactory.add(t,(function(a){var u=i.commands.get(t),c=new IB(a);return c.set({label:e,icon:r,keystroke:n,tooltip:!0}),c.bind("isEnabled").to(u,"isEnabled"),o.listenTo(c,"execute",(function(){i.execute(t),i.editing.view.focus()})),c}))}}]),n}(pz);function KY(t){return KY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KY(t)}function JY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZY(t,e,n){return e&&XY(t.prototype,e),n&&XY(t,n),t}function QY(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tG(t,e)}function tG(t,e){return tG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tG(t,e)}function eG(t){var e=oG();return function(){var n,r=iG(t);if(e){var o=iG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nG(this,n)}}function nG(t,e){return!e||"object"!==KY(e)&&"function"!==typeof e?rG(t):e}function rG(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oG(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function iG(t){return iG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iG(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var aG=function(t){QY(n,t);var e=eG(n);function n(){return JY(this,n),e.apply(this,arguments)}return ZY(n,null,[{key:"requires",get:function(){return[CY,GY]}},{key:"pluginName",get:function(){return"Undo"}}]),n}(pz);function uG(t){return uG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uG(t)}function cG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lG(t,e,n){return e&&sG(t.prototype,e),n&&sG(t,n),t}function fG(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hG(t,e)}function hG(t,e){return hG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hG(t,e)}function pG(t){var e=vG();return function(){var n,r=mG(t);if(e){var o=mG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yG(this,n)}}function yG(t,e){return!e||"object"!==uG(e)&&"function"!==typeof e?dG(t):e}function dG(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vG(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function mG(t){return mG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mG(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var bG=function(t){fG(n,t);var e=pG(n);function n(){return cG(this,n),e.apply(this,arguments)}return lG(n,null,[{key:"requires",get:function(){return[Xz,WU,v$,gH,fq,aG]}},{key:"pluginName",get:function(){return"Essentials"}}]),n}(pz);function gG(t){return gG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gG(t)}function wG(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_G(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function _G(t,e){if(t){if("string"===typeof t)return kG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kG(t,e):void 0}}function kG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PG(t,e,n){return e&&OG(t.prototype,e),n&&OG(t,n),t}function AG(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RG(t,e)}function RG(t,e){return RG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},RG(t,e)}function jG(t){var e=TG();return function(){var n,r=CG(t);if(e){var o=CG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EG(this,n)}}function EG(t,e){return!e||"object"!==gG(e)&&"function"!==typeof e?xG(t):e}function xG(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TG(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function CG(t){return CG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},CG(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var IG=function(t){AG(n,t);var e=jG(n);function n(t,r){var o;return SG(this,n),o=e.call(this,t),o.attributeKey=r,o}return PG(n,[{key:"refresh",value:function(){var t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,o=r.selection,i=void 0===e.forceValue?!this.value:e.forceValue;n.change((function(e){if(o.isCollapsed)i?e.setSelectionAttribute(t.attributeKey,!0):e.removeSelectionAttribute(t.attributeKey);else{var r,a=n.schema.getValidRanges(o.getRanges(),t.attributeKey),u=wG(a);try{for(u.s();!(r=u.n()).done;){var c=r.value;i?e.setAttribute(t.attributeKey,i,c):e.removeAttribute(t.attributeKey,c)}}catch(s){u.e(s)}finally{u.f()}}}))}},{key:"_getValueFromFirstAllowedNode",value:function(){var t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var r,o=wG(n.getRanges());try{for(o.s();!(r=o.n()).done;){var i,a=r.value,u=wG(a.getItems());try{for(u.s();!(i=u.n()).done;){var c=i.value;if(e.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey)}}catch(s){u.e(s)}finally{u.f()}}}catch(s){o.e(s)}finally{o.f()}return!1}}]),n}(eU);function DG(t){return DG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DG(t)}function MG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VG(t,e,n){return e&&NG(t.prototype,e),n&&NG(t,n),t}function BG(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FG(t,e)}function FG(t,e){return FG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},FG(t,e)}function LG(t){var e=HG();return function(){var n,r=$G(t);if(e){var o=$G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zG(this,n)}}function zG(t,e){return!e||"object"!==DG(e)&&"function"!==typeof e?UG(t):e}function UG(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HG(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function $G(t){return $G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$G(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var WG="bold",qG=function(t){BG(n,t);var e=LG(n);function n(){return MG(this,n),e.apply(this,arguments)}return VG(n,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:WG}),t.model.schema.setAttributeProperties(WG,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:WG,view:"strong",upcastAlso:["b",function(t){var e=t.getStyle("font-weight");return e?"bold"==e||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add(WG,new IG(t,WG)),t.keystrokes.set("CTRL+B",WG)}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),n}(pz),YG=n("8708"),GG=n.n(YG);function KG(t){return KG="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KG(t)}function JG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZG(t,e,n){return e&&XG(t.prototype,e),n&&XG(t,n),t}function QG(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tK(t,e)}function tK(t,e){return tK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tK(t,e)}function eK(t){var e=oK();return function(){var n,r=iK(t);if(e){var o=iK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nK(this,n)}}function nK(t,e){return!e||"object"!==KG(e)&&"function"!==typeof e?rK(t):e}function rK(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oK(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function iK(t){return iK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iK(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var aK="bold",uK=function(t){QG(n,t);var e=eK(n);function n(){return JG(this,n),e.apply(this,arguments)}return ZG(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add(aK,(function(r){var o=e.commands.get(aK),i=new IB(r);return i.set({label:n("Bold"),icon:GG.a,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),t.listenTo(i,"execute",(function(){e.execute(aK),e.editing.view.focus()})),i}))}}]),n}(pz);function cK(t){return cK="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cK(t)}function sK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fK(t,e,n){return e&&lK(t.prototype,e),n&&lK(t,n),t}function hK(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pK(t,e)}function pK(t,e){return pK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pK(t,e)}function yK(t){var e=mK();return function(){var n,r=bK(t);if(e){var o=bK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dK(this,n)}}function dK(t,e){return!e||"object"!==cK(e)&&"function"!==typeof e?vK(t):e}function vK(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mK(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function bK(t){return bK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bK(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var gK=function(t){hK(n,t);var e=yK(n);function n(){return sK(this,n),e.apply(this,arguments)}return fK(n,null,[{key:"requires",get:function(){return[qG,uK]}},{key:"pluginName",get:function(){return"Bold"}}]),n}(pz);function wK(t){return wK="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wK(t)}function _K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SK(t,e,n){return e&&kK(t.prototype,e),n&&kK(t,n),t}function OK(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PK(t,e)}function PK(t,e){return PK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},PK(t,e)}function AK(t){var e=EK();return function(){var n,r=xK(t);if(e){var o=xK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RK(this,n)}}function RK(t,e){return!e||"object"!==wK(e)&&"function"!==typeof e?jK(t):e}function jK(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EK(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function xK(t){return xK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xK(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var TK="italic",CK=function(t){OK(n,t);var e=AK(n);function n(){return _K(this,n),e.apply(this,arguments)}return SK(n,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:TK}),t.model.schema.setAttributeProperties(TK,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:TK,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(TK,new IG(t,TK)),t.keystrokes.set("CTRL+I",TK)}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),n}(pz),IK=n("1033"),DK=n.n(IK);function MK(t){return MK="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MK(t)}function NK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BK(t,e,n){return e&&VK(t.prototype,e),n&&VK(t,n),t}function FK(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LK(t,e)}function LK(t,e){return LK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},LK(t,e)}function zK(t){var e=$K();return function(){var n,r=WK(t);if(e){var o=WK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UK(this,n)}}function UK(t,e){return!e||"object"!==MK(e)&&"function"!==typeof e?HK(t):e}function HK(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function WK(t){return WK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},WK(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var qK="italic",YK=function(t){FK(n,t);var e=zK(n);function n(){return NK(this,n),e.apply(this,arguments)}return BK(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add(qK,(function(r){var o=e.commands.get(qK),i=new IB(r);return i.set({label:n("Italic"),icon:DK.a,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),t.listenTo(i,"execute",(function(){e.execute(qK),e.editing.view.focus()})),i}))}}]),n}(pz);function GK(t){return GK="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GK(t)}function KK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XK(t,e,n){return e&&JK(t.prototype,e),n&&JK(t,n),t}function ZK(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QK(t,e)}function QK(t,e){return QK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},QK(t,e)}function tJ(t){var e=rJ();return function(){var n,r=oJ(t);if(e){var o=oJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eJ(this,n)}}function eJ(t,e){return!e||"object"!==GK(e)&&"function"!==typeof e?nJ(t):e}function nJ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rJ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function oJ(t){return oJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},oJ(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var iJ=function(t){ZK(n,t);var e=tJ(n);function n(){return KK(this,n),e.apply(this,arguments)}return XK(n,null,[{key:"requires",get:function(){return[CK,YK]}},{key:"pluginName",get:function(){return"Italic"}}]),n}(pz);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function aJ(t,e,n){return n.createRange(uJ(t,e,!0,n),uJ(t,e,!1,n))}function uJ(t,e,n,r){var o=t.textNode||(n?t.nodeBefore:t.nodeAfter),i=null;while(o&&o.getAttribute("linkHref")==e)i=o,o=n?o.previousSibling:o.nextSibling;return i?r.createPositionAt(i,n?"before":"after"):t}function cJ(t){return cJ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cJ(t)}function sJ(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=lJ(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function lJ(t,e){if(t){if("string"===typeof t)return fJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fJ(t,e):void 0}}function fJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yJ(t,e,n){return e&&pJ(t.prototype,e),n&&pJ(t,n),t}function dJ(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vJ(t,e)}function vJ(t,e){return vJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vJ(t,e)}function mJ(t){var e=wJ();return function(){var n,r=_J(t);if(e){var o=_J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bJ(this,n)}}function bJ(t,e){return!e||"object"!==cJ(e)&&"function"!==typeof e?gJ(t):e}function gJ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wJ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _J(t){return _J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_J(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var kJ=function(t){dJ(n,t);var e=mJ(n);function n(t){var r;return hJ(this,n),r=e.call(this,t),r.manualDecorators=new ou,r}return yJ(n,[{key:"restoreManualDecoratorStates",value:function(){var t,e=sJ(this.manualDecorators);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.value=this._getDecoratorStateFromModel(n.id)}}catch(r){e.e(r)}finally{e.f()}}},{key:"refresh",value:function(){var t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("linkHref");var n,r=sJ(this.manualDecorators);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(i){r.e(i)}finally{r.f()}this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref")}},{key:"execute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,r=n.document.selection,o=[],i=[];for(var a in e)e[a]?o.push(a):i.push(a);n.change((function(e){if(r.isCollapsed){var a=r.getFirstPosition();if(r.hasAttribute("linkHref")){var u=aJ(a,r.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,u),o.forEach((function(t){e.setAttribute(t,!0,u)})),i.forEach((function(t){e.removeAttribute(t,u)})),e.setSelection(u)}else if(""!==t){var c=oc(r.getAttributes());c.set("linkHref",t),o.forEach((function(t){c.set(t,!0)}));var s=e.createText(t,c);n.insertContent(s,a),e.setSelection(e.createRangeOn(s))}}else{var l,f=n.schema.getValidRanges(r.getRanges(),"linkHref"),h=sJ(f);try{var p=function(){var n=l.value;e.setAttribute("linkHref",t,n),o.forEach((function(t){e.setAttribute(t,!0,n)})),i.forEach((function(t){e.removeAttribute(t,n)}))};for(h.s();!(l=h.n()).done;)p()}catch(y){h.e(y)}finally{h.f()}}}))}},{key:"_getDecoratorStateFromModel",value:function(t){var e=this.editor.model.document;return e.selection.getAttribute(t)}}]),n}(eU);function SJ(t){return SJ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SJ(t)}function OJ(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=PJ(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function PJ(t,e){if(t){if("string"===typeof t)return AJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AJ(t,e):void 0}}function AJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EJ(t,e,n){return e&&jJ(t.prototype,e),n&&jJ(t,n),t}function xJ(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TJ(t,e)}function TJ(t,e){return TJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},TJ(t,e)}function CJ(t){var e=MJ();return function(){var n,r=NJ(t);if(e){var o=NJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IJ(this,n)}}function IJ(t,e){return!e||"object"!==SJ(e)&&"function"!==typeof e?DJ(t):e}function DJ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MJ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function NJ(t){return NJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},NJ(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var VJ=function(t){xJ(n,t);var e=CJ(n);function n(){return RJ(this,n),e.apply(this,arguments)}return EJ(n,[{key:"refresh",value:function(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}},{key:"execute",value:function(){var t=this.editor,e=this.editor.model,n=e.document.selection,r=t.commands.get("link");e.change((function(t){var o,i=n.isCollapsed?[aJ(n.getFirstPosition(),n.getAttribute("linkHref"),e)]:n.getRanges(),a=OJ(i);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(t.removeAttribute("linkHref",u),r){var c,s=OJ(r.manualDecorators);try{for(s.s();!(c=s.n()).done;){var l=c.value;t.removeAttribute(l.id,u)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){a.e(f)}finally{a.f()}}))}}]),n}(eU);function BJ(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:es(t,e,n)}var FJ=BJ,LJ="\\ud800-\\udfff",zJ="\\u0300-\\u036f",UJ="\\ufe20-\\ufe2f",HJ="\\u20d0-\\u20ff",$J=zJ+UJ+HJ,WJ="\\ufe0e\\ufe0f",qJ="\\u200d",YJ=RegExp("["+qJ+LJ+$J+WJ+"]");function GJ(t){return YJ.test(t)}var KJ=GJ;function JJ(t){return t.split("")}var XJ=JJ,ZJ="\\ud800-\\udfff",QJ="\\u0300-\\u036f",tX="\\ufe20-\\ufe2f",eX="\\u20d0-\\u20ff",nX=QJ+tX+eX,rX="\\ufe0e\\ufe0f",oX="["+ZJ+"]",iX="["+nX+"]",aX="\\ud83c[\\udffb-\\udfff]",uX="(?:"+iX+"|"+aX+")",cX="[^"+ZJ+"]",sX="(?:\\ud83c[\\udde6-\\uddff]){2}",lX="[\\ud800-\\udbff][\\udc00-\\udfff]",fX="\\u200d",hX=uX+"?",pX="["+rX+"]?",yX="(?:"+fX+"(?:"+[cX,sX,lX].join("|")+")"+pX+hX+")*",dX=pX+hX+yX,vX="(?:"+[cX+iX+"?",iX,sX,lX,oX].join("|")+")",mX=RegExp(aX+"(?="+aX+")|"+vX+dX,"g");function bX(t){return t.match(mX)||[]}var gX=bX;function wX(t){return KJ(t)?gX(t):XJ(t)}var _X=wX;function kX(t){return function(e){e=$c(e);var n=KJ(e)?_X(e):void 0,r=n?n[0]:e.charAt(0),o=n?FJ(n,1).join(""):e.slice(1);return r[t]()+o}}var SX=kX,OX=SX("toUpperCase"),PX=OX;function AX(t,e){return TX(t)||xX(t,e)||jX(t,e)||RX()}function RX(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jX(t,e){if(t){if("string"===typeof t)return EX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EX(t,e):void 0}}function EX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xX(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function TX(t){if(Array.isArray(t))return t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var CX=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,IX=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function DX(t){return t.is("attributeElement")&&!!t.getCustomProperty("link")}function MX(t,e){var n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function NX(t){return t=String(t),VX(t)?t:"#"}function VX(t){var e=t.replace(CX,"");return e.match(IX)}function BX(t,e){var n={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach((function(t){return t.label&&n[t.label]&&(t.label=n[t.label]),t})),e}function FX(t){var e=[];if(t)for(var n=0,r=Object.entries(t);n<r.length;n++){var o=AX(r[n],2),i=o[0],a=o[1],u=Object.assign({},a,{id:"link".concat(PX(i))});e.push(u)}return e}function LX(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=zX(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function zX(t,e){if(t){if("string"===typeof t)return UX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UX(t,e):void 0}}function UX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WX(t,e,n){return e&&$X(t.prototype,e),n&&$X(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var qX=function(){function t(){HX(this,t),this._definitions=new Set}return WX(t,[{key:"add",value:function(t){var e=this;Array.isArray(t)?t.forEach((function(t){return e._definitions.add(t)})):this._definitions.add(t)}},{key:"getDispatcher",value:function(){var t=this;return function(e){e.on("attribute:linkHref",(function(e,n,r){if(r.consumable.test(n.item,"attribute:linkHref")){var o,i=r.writer,a=i.document.selection,u=LX(t._definitions);try{for(u.s();!(o=u.n()).done;){var c=o.value,s=i.createAttributeElement("a",c.attributes,{priority:5});i.setCustomProperty("link",!0,s),c.callback(n.attributeNewValue)?n.item.is("selection")?i.wrap(a.getFirstRange(),s):i.wrap(r.mapper.toViewRange(n.range),s):i.unwrap(r.mapper.toViewRange(n.range),s)}}catch(l){u.e(l)}finally{u.f()}}}),{priority:"high"})}}},{key:"length",get:function(){return this._definitions.size}}]),t}();function YX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var GX=function t(e){var n=e.id,r=e.label,o=e.attributes,i=e.defaultValue;YX(this,t),this.id=n,this.set("value"),this.defaultValue=i,this.label=r,this.attributes=o};function KX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XX(t,e,n){return e&&JX(t.prototype,e),n&&JX(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ZX(t){var e=t.view,n=t.model,r=t.emitter,o=t.attribute,i=t.locale,a=new QX(n,r,o),u=n.document.selection;r.listenTo(e.document,"keydown",(function(t,e){if(u.isCollapsed&&!(e.shiftKey||e.altKey||e.ctrlKey)){var n=e.keyCode==Mp.arrowright,r=e.keyCode==Mp.arrowleft;if(n||r){var o,c=u.getFirstPosition(),s=i.contentLanguageDirection;o="ltr"===s&&n||"rtl"===s&&r?a.handleForwardMovement(c,e):a.handleBackwardMovement(c,e),o&&t.stop()}}}),{priority:Sa.get("high")+1})}Xa(GX,Ef);var QX=function(){function t(e,n,r){var o=this;KX(this,t),this.model=e,this.attribute=r,this._modelSelection=e.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,n.listenTo(this._modelSelection,"change:range",(function(t,e){o._isNextGravityRestorationSkipped?o._isNextGravityRestorationSkipped=!1:o._isGravityOverridden&&(!e.directChange&&tZ(o._modelSelection.getFirstPosition(),r)||o._restoreGravity())}))}return XX(t,[{key:"handleForwardMovement",value:function(t,e){var n=this.attribute;if(!this._isGravityOverridden&&(!t.isAtStart||!this._hasSelectionAttribute))return rZ(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):eZ(t,n)||nZ(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0}},{key:"handleBackwardMovement",value:function(t,e){var n=this.attribute;return this._isGravityOverridden?rZ(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):rZ(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&nZ(t,n)?this._hasSelectionAttribute?void(oZ(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(oZ(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}},{key:"_overrideGravity",value:function(){this._overrideUid=this.model.change((function(t){return t.overrideSelectionGravity()}))}},{key:"_restoreGravity",value:function(){var t=this;this.model.change((function(e){e.restoreSelectionGravity(t._overrideUid),t._overrideUid=null}))}},{key:"_preventCaretMovement",value:function(t){t.preventDefault()}},{key:"_removeSelectionAttribute",value:function(){var t=this;this.model.change((function(e){e.removeSelectionAttribute(t.attribute)}))}},{key:"_setSelectionAttributeFromTheNodeBefore",value:function(t){var e=this,n=this.attribute;this.model.change((function(r){r.setSelectionAttribute(e.attribute,t.nodeBefore.getAttribute(n))}))}},{key:"_skipNextAutomaticGravityRestoration",value:function(){this._isNextGravityRestorationSkipped=!0}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_hasSelectionAttribute",get:function(){return this._modelSelection.hasAttribute(this.attribute)}}]),t}();function tZ(t,e){return eZ(t,e)||nZ(t,e)}function eZ(t,e){var n=t.nodeBefore,r=t.nodeAfter,o=!!n&&n.hasAttribute(e),i=!!r&&r.hasAttribute(e);return i&&(!o||n.getAttribute(e)!==r.getAttribute(e))}function nZ(t,e){var n=t.nodeBefore,r=t.nodeAfter,o=!!n&&n.hasAttribute(e),i=!!r&&r.hasAttribute(e);return o&&(!i||n.getAttribute(e)!==r.getAttribute(e))}function rZ(t,e){var n=t.nodeBefore,r=t.nodeAfter,o=!!n&&n.hasAttribute(e),i=!!r&&r.hasAttribute(e);if(i&&o)return r.getAttribute(e)!==n.getAttribute(e)}function oZ(t,e){return tZ(t.getShiftedBy(-1),e)}n("356b");function iZ(t){return iZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iZ(t)}function aZ(t){return sZ(t)||cZ(t)||fZ(t)||uZ()}function uZ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cZ(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function sZ(t){if(Array.isArray(t))return hZ(t)}function lZ(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=fZ(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function fZ(t,e){if(t){if("string"===typeof t)return hZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hZ(t,e):void 0}}function hZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dZ(t,e,n){return e&&yZ(t.prototype,e),n&&yZ(t,n),t}function vZ(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mZ(t,e)}function mZ(t,e){return mZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mZ(t,e)}function bZ(t){var e=_Z();return function(){var n,r=kZ(t);if(e){var o=kZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gZ(this,n)}}function gZ(t,e){return!e||"object"!==iZ(e)&&"function"!==typeof e?wZ(t):e}function wZ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function kZ(t){return kZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kZ(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var SZ="ck-link_selected",OZ="automatic",PZ="manual",AZ=/^(https?:)?\/\//,RZ=function(t){vZ(n,t);var e=bZ(n);function n(t){var r;return pZ(this,n),r=e.call(this,t),t.config.define("link",{addTargetToExternalLinks:!1}),r}return dZ(n,null,[{key:"pluginName",get:function(){return"LinkEditing"}}]),dZ(n,[{key:"init",value:function(){var t=this.editor,e=t.locale;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:MX}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(t,e){return MX(NX(t),e)}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(t){return t.getAttribute("href")}}}),t.commands.add("link",new kJ(t)),t.commands.add("unlink",new VJ(t));var n=BX(t.t,FX(t.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((function(t){return t.mode===OZ}))),this._enableManualDecorators(n.filter((function(t){return t.mode===PZ}))),ZX({view:t.editing.view,model:t.model,emitter:this,attribute:"linkHref",locale:e}),this._setupLinkHighlight(),this._enableInsertContentSelectionAttributesFixer()}},{key:"_enableAutomaticDecorators",value:function(t){var e=this.editor,n=new qX;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:OZ,callback:function(t){return AZ.test(t)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(t){if(t.length){var e=this.editor,n=e.commands.get("link"),r=n.manualDecorators;t.forEach((function(t){e.model.schema.extend("$text",{allowAttributes:t.id}),r.add(new GX(t)),e.conversion.for("downcast").attributeToElement({model:t.id,view:function(e,n){if(e){var o=r.get(t.id).attributes,i=n.createAttributeElement("a",o,{priority:5});return n.setCustomProperty("link",!0,i),i}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:r.get(t.id).attributes},model:{key:t.id}})}))}}},{key:"_setupLinkHighlight",value:function(){var t=this.editor,e=t.editing.view,n=new Set;e.document.registerPostFixer((function(e){var r=t.model.document.selection,o=!1;if(r.hasAttribute("linkHref")){var i,a=aJ(r.getFirstPosition(),r.getAttribute("linkHref"),t.model),u=t.editing.mapper.toViewRange(a),c=lZ(u.getItems());try{for(c.s();!(i=c.n()).done;){var s=i.value;s.is("a")&&!s.hasClass(SZ)&&(e.addClass(SZ,s),n.add(s),o=!0)}}catch(l){c.e(l)}finally{c.f()}}return o})),t.conversion.for("editingDowncast").add((function(t){function r(){e.change((function(t){var e,r=lZ(n.values());try{for(r.s();!(e=r.n()).done;){var o=e.value;t.removeClass(SZ,o),n.delete(o)}}catch(i){r.e(i)}finally{r.f()}}))}t.on("insert",r,{priority:"highest"}),t.on("remove",r,{priority:"highest"}),t.on("attribute",r,{priority:"highest"}),t.on("selection",r,{priority:"highest"})}))}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var t=this.editor,e=t.model,n=e.document.selection;e.on("insertContent",(function(){var t=n.anchor.nodeBefore,r=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&t&&t.hasAttribute("linkHref")&&(r&&r.hasAttribute("linkHref")||e.change((function(t){aZ(e.document.selection.getAttributeKeys()).filter((function(t){return t.startsWith("link")})).forEach((function(e){return t.removeSelectionAttribute(e)}))})))}),{priority:"low"})}}]),n}(pz);function jZ(t){return jZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jZ(t)}function EZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TZ(t,e,n){return e&&xZ(t.prototype,e),n&&xZ(t,n),t}function CZ(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IZ(t,e)}function IZ(t,e){return IZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},IZ(t,e)}function DZ(t){var e=VZ();return function(){var n,r=BZ(t);if(e){var o=BZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MZ(this,n)}}function MZ(t,e){return!e||"object"!==jZ(e)&&"function"!==typeof e?NZ(t):e}function NZ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VZ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function BZ(t){return BZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},BZ(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var FZ=function(t){CZ(n,t);var e=DZ(n);function n(t){var r;return EZ(this,n),r=e.call(this,t),r.domEventType="click",r}return TZ(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),n}(km);n("1af3");function LZ(t){return LZ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LZ(t)}function zZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HZ(t,e,n){return e&&UZ(t.prototype,e),n&&UZ(t,n),t}function $Z(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WZ(t,e)}function WZ(t,e){return WZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},WZ(t,e)}function qZ(t){var e=KZ();return function(){var n,r=JZ(t);if(e){var o=JZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return YZ(this,n)}}function YZ(t,e){return!e||"object"!==LZ(e)&&"function"!==typeof e?GZ(t):e}function GZ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KZ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function JZ(t){return JZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},JZ(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var XZ=gN("px"),ZZ=dd.document.body,QZ=function(t){$Z(n,t);var e=qZ(n);function n(t){var r;zZ(this,n),r=e.call(this,t);var o=r.bindTemplate;return r.set("top",0),r.set("left",0),r.set("position","arrow_nw"),r.set("isVisible",!1),r.set("withArrow",!0),r.set("class"),r.content=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",o.to("position",(function(t){return"ck-balloon-panel_".concat(t)})),o.if("isVisible","ck-balloon-panel_visible"),o.if("withArrow","ck-balloon-panel_with-arrow"),o.to("class")],style:{top:o.to("top",XZ),left:o.to("left",XZ)}},children:r.content}),r}return HZ(n,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(t){this.show();var e=n.defaultPositions,r=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast],limiter:ZZ,fitInViewport:!0},t),o=n._getOptimalPosition(r),i=parseInt(o.left),a=parseInt(o.top),u=o.name;Object.assign(this,{top:a,left:i,position:u})}},{key:"pin",value:function(t){var e=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){e.isVisible?e._startPinning(t):e._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(t){var e=this;this.attachTo(t);var n=tQ(t.target),r=t.limiter?tQ(t.limiter):ZZ;this.listenTo(dd.document,"scroll",(function(o,i){var a=i.target,u=n&&a.contains(n),c=r&&a.contains(r);!u&&!c&&n&&r||e.attachTo(t)}),{useCapture:!0}),this.listenTo(dd.window,"resize",(function(){e.attachTo(t)}))}},{key:"_stopPinning",value:function(){this.stopListening(dd.document,"scroll"),this.stopListening(dd.window,"resize")}}]),n}(zD);function tQ(t){return aa(t)?t:sg(t)?t.commonAncestorContainer:"function"==typeof t?tQ(t()):null}function eQ(t,e){return t.top-e.height-QZ.arrowVerticalOffset}function nQ(t){return t.bottom+QZ.arrowVerticalOffset}QZ.arrowHorizontalOffset=25,QZ.arrowVerticalOffset=10,QZ._getOptimalPosition=EV,QZ.defaultPositions={northWestArrowSouthWest:function(t,e){return{top:eQ(t,e),left:t.left-QZ.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(t,e){return{top:eQ(t,e),left:t.left-.25*e.width-QZ.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(t,e){return{top:eQ(t,e),left:t.left-e.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(t,e){return{top:eQ(t,e),left:t.left-.75*e.width+QZ.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(t,e){return{top:eQ(t,e),left:t.left-e.width+QZ.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(t,e){return{top:eQ(t,e),left:t.left+t.width/2-QZ.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(t,e){return{top:eQ(t,e),left:t.left+t.width/2-.25*e.width-QZ.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(t,e){return{top:eQ(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(t,e){return{top:eQ(t,e),left:t.left+t.width/2-.75*e.width+QZ.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(t,e){return{top:eQ(t,e),left:t.left+t.width/2-e.width+QZ.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(t,e){return{top:eQ(t,e),left:t.right-QZ.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(t,e){return{top:eQ(t,e),left:t.right-.25*e.width-QZ.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(t,e){return{top:eQ(t,e),left:t.right-e.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(t,e){return{top:eQ(t,e),left:t.right-.75*e.width+QZ.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(t,e){return{top:eQ(t,e),left:t.right-e.width+QZ.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(t,e){return{top:nQ(t,e),left:t.left-QZ.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(t,e){return{top:nQ(t,e),left:t.left-.25*e.width-QZ.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(t,e){return{top:nQ(t,e),left:t.left-e.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(t,e){return{top:nQ(t,e),left:t.left-.75*e.width+QZ.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(t,e){return{top:nQ(t,e),left:t.left-e.width+QZ.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(t,e){return{top:nQ(t,e),left:t.left+t.width/2-QZ.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(t,e){return{top:nQ(t,e),left:t.left+t.width/2-.25*e.width-QZ.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(t,e){return{top:nQ(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(t,e){return{top:nQ(t,e),left:t.left+t.width/2-.75*e.width+QZ.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(t,e){return{top:nQ(t,e),left:t.left+t.width/2-e.width+QZ.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(t,e){return{top:nQ(t,e),left:t.right-QZ.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(t,e){return{top:nQ(t,e),left:t.right-.25*e.width-QZ.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(t,e){return{top:nQ(t,e),left:t.right-e.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(t,e){return{top:nQ(t,e),left:t.right-.75*e.width+QZ.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(t,e){return{top:nQ(t,e),left:t.right-e.width+QZ.arrowHorizontalOffset,name:"arrow_ne"}}};var rQ=n("74c7"),oQ=n.n(rQ),iQ=n("f422"),aQ=n.n(iQ);n("e348"),n("51a6");function uQ(t,e,n){return uQ="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=cQ(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},uQ(t,e,n||t)}function cQ(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=gQ(t),null===t)break;return t}function sQ(t){return sQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sQ(t)}function lQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hQ(t,e,n){return e&&fQ(t.prototype,e),n&&fQ(t,n),t}function pQ(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yQ(t,e)}function yQ(t,e){return yQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yQ(t,e)}function dQ(t){var e=bQ();return function(){var n,r=gQ(t);if(e){var o=gQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vQ(this,n)}}function vQ(t,e){return!e||"object"!==sQ(e)&&"function"!==typeof e?mQ(t):e}function mQ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bQ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function gQ(t){return gQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gQ(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var wQ=gN("px"),_Q=function(t){pQ(n,t);var e=dQ(n);function n(t){var r;return lQ(this,n),r=e.call(this,t),r.positionLimiter=function(){var t=r.editor.editing.view,e=t.document,n=e.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null},r.set("visibleView",null),r.view=new QZ(t.locale),t.ui.view.body.add(r.view),t.ui.focusTracker.add(r.view.element),r._viewToStack=new Map,r._idToStack=new Map,r.set("_numberOfStacks",0),r.set("_singleViewMode",!1),r._rotatorView=r._createRotatorView(),r._fakePanelsView=r._createFakePanelsView(),r}return hQ(n,null,[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),hQ(n,[{key:"hasView",value:function(t){return Array.from(this._viewToStack.keys()).includes(t)}},{key:"add",value:function(t){if(this.hasView(t.view))throw new Oa["b"]("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t]);var e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));var n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}},{key:"remove",value:function(t){if(!this.hasView(t))throw new Oa["b"]("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t]);var e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}},{key:"updatePosition",value:function(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(t){this.visibleStack=t;var e=this._idToStack.get(t);if(!e)throw new Oa["b"]("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}},{key:"_getStackId",value:function(t){var e=Array.from(this._idToStack.entries()).find((function(e){return e[1]===t}));return e[0]}},{key:"_showNextStack",value:function(){var t=Array.from(this._idToStack.values()),e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}},{key:"_showPrevStack",value:function(){var t=Array.from(this._idToStack.values()),e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}},{key:"_createRotatorView",value:function(){var t=this,e=new kQ(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(function(t,e){return!e&&t>1})),e.on("change:isNavigationVisible",(function(){return t.updatePosition()}),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(function(e,r){if(r<2)return"";var o=Array.from(t._idToStack.values()).indexOf(t._visibleStack)+1;return n("%0 of %1",[o,r])})),e.buttonNextView.on("execute",(function(){e.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showNextStack()})),e.buttonPrevView.on("execute",(function(){e.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showPrevStack()})),e}},{key:"_createFakePanelsView",value:function(){var t=new SQ(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(function(t,e){var n=!e&&t>=2;return n?Math.min(t-1,2):0})),t.listenTo(this.view,"change:top",(function(){return t.updatePosition()})),t.listenTo(this.view,"change:left",(function(){return t.updatePosition()})),this.editor.ui.view.body.add(t),t}},{key:"_showView",value:function(t){var e=t.view,n=t.balloonClassName,r=void 0===n?"":n,o=t.withArrow,i=void 0===o||o,a=t.singleViewMode,u=void 0!==a&&a;this.view.class=r,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}}]),n}(pz),kQ=function(t){pQ(n,t);var e=dQ(n);function n(t){var r;lQ(this,n),r=e.call(this,t);var o=t.t,i=r.bindTemplate;return r.set("isNavigationVisible",!0),r.focusTracker=new IC,r.buttonPrevView=r._createButtonView(o("Previous"),oQ.a),r.buttonNextView=r._createButtonView(o("Next"),aQ.a),r.content=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",(function(t){return t?"":"ck-hidden"}))]},children:[r.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},r.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:r.content}]}),r}return hQ(n,[{key:"render",value:function(){uQ(gQ(n.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(t){this.hideView(),this.content.add(t)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(t,e){var n=new IB(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}]),n}(zD),SQ=function(t){pQ(n,t);var e=dQ(n);function n(t,r){var o;lQ(this,n),o=e.call(this,t);var i=o.bindTemplate;return o.set("top",0),o.set("left",0),o.set("height",0),o.set("width",0),o.set("numberOfPanels",0),o.content=o.createCollection(),o._balloonPanelView=r,o.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",(function(t){return t?"":"ck-hidden"}))],style:{top:i.to("top",wQ),left:i.to("left",wQ),width:i.to("width",wQ),height:i.to("height",wQ)}},children:o.content}),o.on("change:numberOfPanels",(function(t,e,n,r){n>r?o._addPanels(n-r):o._removePanels(r-n),o.updatePosition()})),o}return hQ(n,[{key:"_addPanels",value:function(t){while(t--){var e=new zD;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}},{key:"_removePanels",value:function(t){while(t--){var e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var t=this._balloonPanelView,e=t.top,n=t.left,r=new bg(this._balloonPanelView.element),o=r.width,i=r.height;Object.assign(this,{top:e,left:n,width:o,height:i})}}}]),n}(zD);n("d2df");function OQ(t){return OQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OQ(t)}function PQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RQ(t,e,n){return e&&AQ(t.prototype,e),n&&AQ(t,n),t}function jQ(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EQ(t,e)}function EQ(t,e){return EQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},EQ(t,e)}function xQ(t){var e=IQ();return function(){var n,r=DQ(t);if(e){var o=DQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TQ(this,n)}}function TQ(t,e){return!e||"object"!==OQ(e)&&"function"!==typeof e?CQ(t):e}function CQ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IQ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function DQ(t){return DQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},DQ(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var MQ=function(t){jQ(n,t);var e=xQ(n);function n(t,r){var o;PQ(this,n),o=e.call(this,t);var i="ck-labeled-field-view-".concat(_a()),a="ck-labeled-field-view-status-".concat(_a());o.fieldView=r(CQ(o),i,a),o.set("label"),o.set("isEnabled",!0),o.set("errorText",null),o.set("infoText",null),o.set("class"),o.labelView=o._createLabelView(i),o.statusView=o._createStatusView(a),o.bind("_statusText").to(CQ(o),"errorText",CQ(o),"infoText",(function(t,e){return t||e}));var u=o.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",(function(t){return!t}))]},children:[o.labelView,o.fieldView,o.statusView]}),o}return RQ(n,[{key:"_createLabelView",value:function(t){var e=new CM(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}},{key:"_createStatusView",value:function(t){var e=new zD(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(function(t){return!t}))],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}},{key:"focus",value:function(){this.fieldView.focus()}}]),n}(zD);n("3d1d");function NQ(t){return NQ="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NQ(t)}function VQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FQ(t,e,n){return e&&BQ(t.prototype,e),n&&BQ(t,n),t}function LQ(t,e,n){return LQ="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=zQ(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},LQ(t,e,n||t)}function zQ(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=GQ(t),null===t)break;return t}function UQ(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HQ(t,e)}function HQ(t,e){return HQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},HQ(t,e)}function $Q(t){var e=YQ();return function(){var n,r=GQ(t);if(e){var o=GQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WQ(this,n)}}function WQ(t,e){return!e||"object"!==NQ(e)&&"function"!==typeof e?qQ(t):e}function qQ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YQ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function GQ(t){return GQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},GQ(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var KQ=function(t){UQ(n,t);var e=$Q(n);function n(t){var r;VQ(this,n),r=e.call(this,t),r.set("value"),r.set("id"),r.set("placeholder"),r.set("isReadOnly",!1),r.set("hasError",!1),r.set("ariaDescribedById");var o=r.bindTemplate;return r.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),readonly:o.to("isReadOnly"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById")},on:{input:o.to("input")}}),r}return FQ(n,[{key:"render",value:function(){var t=this;LQ(GQ(n.prototype),"render",this).call(this);var e=function(e){t.element.value=e||0===e?e:""};e(this.value),this.on("change:value",(function(t,n,r){e(r)}))}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),n}(zD);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function JQ(t,e,n){var r=new KQ(t.locale);return r.set({id:e,ariaDescribedById:n}),r.bind("isReadOnly").to(t,"isEnabled",(function(t){return!t})),r.bind("hasError").to(t,"errorText",(function(t){return!!t})),r.on("input",(function(){t.errorText=null})),r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function XQ(t){var e=t.view;e.listenTo(e.element,"submit",(function(t,n){n.preventDefault(),e.fire("submit")}),{useCapture:!0})}var ZQ=n("18ce"),QQ=n.n(ZQ),t0=n("8ef8"),e0=n.n(t0);n("18ea");function n0(t){return n0="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(t)}function r0(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a0(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function o0(t){return c0(t)||u0(t)||a0(t)||i0()}function i0(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a0(t,e){if(t){if("string"===typeof t)return s0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s0(t,e):void 0}}function u0(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c0(t){if(Array.isArray(t))return s0(t)}function s0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h0(t,e,n){return e&&f0(t.prototype,e),n&&f0(t,n),t}function p0(t,e,n){return p0="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=y0(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},p0(t,e,n||t)}function y0(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=_0(t),null===t)break;return t}function d0(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v0(t,e)}function m0(t){var e=w0();return function(){var n,r=_0(t);if(e){var o=_0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(t,e){return!e||"object"!==n0(e)&&"function"!==typeof e?g0(t):e}function g0(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w0(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _0(t){return _0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_0(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var k0=function(t){d0(n,t);var e=m0(n);function n(t,r){var o;l0(this,n),o=e.call(this,t);var i=t.t;o.focusTracker=new IC,o.keystrokes=new HT,o.urlInputView=o._createUrlInput(),o.saveButtonView=o._createButton(i("Save"),QQ.a,"ck-button-save"),o.saveButtonView.type="submit",o.cancelButtonView=o._createButton(i("Cancel"),e0.a,"ck-button-cancel","cancel"),o._manualDecoratorSwitches=o._createManualDecoratorSwitches(r),o.children=o._createFormChildren(r.manualDecorators),o._focusables=new NI,o._focusCycler=new zN({focusables:o._focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var a=["ck","ck-link-form"];return r.manualDecorators.length&&a.push("ck-link-form_layout-vertical"),o.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:o.children}),o}return h0(n,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce((function(t,e){return t[e.name]=e.isOn,t}),{})}},{key:"render",value:function(){var t=this;p0(_0(n.prototype),"render",this).call(this),XQ({view:this});var e=[this.urlInputView].concat(o0(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]);e.forEach((function(e){t._focusables.add(e),t.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var t=this.locale.t,e=new MQ(this.locale,JQ);return e.label=t("Link URL"),e.fieldView.placeholder="https://example.com",e}},{key:"_createButton",value:function(t,e,n,r){var o=new IB(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}},{key:"_createManualDecoratorSwitches",value:function(t){var e,n=this,r=this.createCollection(),o=r0(t.manualDecorators);try{var i=function(){var o=e.value,i=new GF(n.locale);i.set({name:o.id,label:o.label,withText:!0}),i.bind("isOn").toMany([o,t],"value",(function(t,e){return void 0===e&&void 0===t?o.defaultValue:t})),i.on("execute",(function(){o.set("value",!i.isOn)})),r.add(i)};for(o.s();!(e=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r}},{key:"_createFormChildren",value:function(t){var e=this.createCollection();if(e.add(this.urlInputView),t.length){var n=new zD;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((function(t){return{tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(n)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}]),n}(zD),S0=n("1805"),O0=n.n(S0),P0=n("2609"),A0=n.n(P0);n("2260");function R0(t){return R0="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(t)}function j0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x0(t,e,n){return e&&E0(t.prototype,e),n&&E0(t,n),t}function T0(t,e,n){return T0="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=C0(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},T0(t,e,n||t)}function C0(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=F0(t),null===t)break;return t}function I0(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},D0(t,e)}function M0(t){var e=B0();return function(){var n,r=F0(t);if(e){var o=F0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N0(this,n)}}function N0(t,e){return!e||"object"!==R0(e)&&"function"!==typeof e?V0(t):e}function V0(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B0(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},F0(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var L0=function(t){I0(n,t);var e=M0(n);function n(t){var r;j0(this,n),r=e.call(this,t);var o=t.t;return r.focusTracker=new IC,r.keystrokes=new HT,r.previewButtonView=r._createPreviewButton(),r.unlinkButtonView=r._createButton(o("Unlink"),O0.a,"unlink"),r.editButtonView=r._createButton(o("Edit link"),A0.a,"edit"),r.set("href"),r._focusables=new NI,r._focusCycler=new zN({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[r.previewButtonView,r.editButtonView,r.unlinkButtonView]}),r}return x0(n,[{key:"render",value:function(){var t=this;T0(F0(n.prototype),"render",this).call(this);var e=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];e.forEach((function(e){t._focusables.add(e),t.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(t,e,n){var r=new IB(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.delegate("execute").to(this,n),r}},{key:"_createPreviewButton",value:function(){var t=new IB(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",(function(t){return t&&NX(t)})),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",(function(t){return t||n("This link has no URL")})),t.bind("isEnabled").to(this,"href",(function(t){return!!t})),t.template.tag="a",t.template.eventListeners={},t}}]),n}(zD),z0=n("77bd"),U0=n.n(z0);function H0(t){return H0="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(t)}function $0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q0(t,e,n){return e&&W0(t.prototype,e),n&&W0(t,n),t}function Y0(t,e,n){return Y0="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=G0(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Y0(t,e,n||t)}function G0(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=e1(t),null===t)break;return t}function K0(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},J0(t,e)}function X0(t){var e=t1();return function(){var n,r=e1(t);if(e){var o=e1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z0(this,n)}}function Z0(t,e){return!e||"object"!==H0(e)&&"function"!==typeof e?Q0(t):e}function Q0(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t1(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e1(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var n1="Ctrl+K",r1=function(t){K0(n,t);var e=X0(n);function n(){return $0(this,n),e.apply(this,arguments)}return q0(n,[{key:"init",value:function(){var t=this.editor;t.editing.view.addObserver(FZ),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(_Q),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}},{key:"destroy",value:function(){Y0(e1(n.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var t=this,e=this.editor,n=new L0(e.locale),r=e.commands.get("link"),o=e.commands.get("unlink");return n.bind("href").to(r,"value"),n.editButtonView.bind("isEnabled").to(r),n.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(n,"edit",(function(){t._addFormView()})),this.listenTo(n,"unlink",(function(){e.execute("unlink"),t._hideUI()})),n.keystrokes.set("Esc",(function(e,n){t._hideUI(),n()})),n.keystrokes.set(n1,(function(e,n){t._addFormView(),n()})),n}},{key:"_createFormView",value:function(){var t=this,e=this.editor,n=e.commands.get("link"),r=new k0(e.locale,n);return r.urlInputView.fieldView.bind("value").to(n,"value"),r.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(t){return!t})),r.saveButtonView.bind("isEnabled").to(n),this.listenTo(r,"submit",(function(){e.execute("link",r.urlInputView.fieldView.element.value,r.getDecoratorSwitchesState()),t._closeFormView()})),this.listenTo(r,"cancel",(function(){t._closeFormView()})),r.keystrokes.set("Esc",(function(e,n){t._closeFormView(),n()})),r}},{key:"_createToolbarLinkButton",value:function(){var t=this,e=this.editor,n=e.commands.get("link"),r=e.t;e.keystrokes.set(n1,(function(e,n){n(),t._showUI(!0)})),e.ui.componentFactory.add("link",(function(e){var o=new IB(e);return o.isEnabled=!0,o.label=r("Link"),o.icon=U0.a,o.keystroke=n1,o.tooltip=!0,o.isToggleable=!0,o.bind("isEnabled").to(n,"isEnabled"),o.bind("isOn").to(n,"value",(function(t){return!!t})),t.listenTo(o,"execute",(function(){return t._showUI(!0)})),o}))}},{key:"_enableUserBalloonInteractions",value:function(){var t=this,e=this.editor.editing.view.document;this.listenTo(e,"click",(function(){var e=t._getSelectedLinkElement();e&&t._showUI()})),this.editor.keystrokes.set("Tab",(function(e,n){t._areActionsVisible&&!t.actionsView.focusTracker.isFocused&&(t.actionsView.focus(),n())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(e,n){t._isUIVisible&&(t._hideUI(),n())})),ZF({emitter:this.formView,activator:function(){return t._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return t._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var t=this.editor,e=t.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=e.value||""}}},{key:"_closeFormView",value:function(){var t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}},{key:"_showUI",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}}},{key:"_startUpdatingUI",value:function(){var t=this,e=this.editor,n=e.editing.view.document,r=this._getSelectedLinkElement(),o=a(),i=function(){var e=t._getSelectedLinkElement(),n=a();r&&!e||!r&&n!==o?t._hideUI():t._isUIVisible&&t._balloon.updatePosition(t._getBalloonPositionData()),r=e,o=n};function a(){return n.selection.focus.getAncestors().reverse().find((function(t){return t.is("element")}))}this.listenTo(e.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}},{key:"_getBalloonPositionData",value:function(){var t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement(),r=n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange());return{target:r}}},{key:"_getSelectedLinkElement",value:function(){var t=this.editor.editing.view,e=t.document.selection;if(e.isCollapsed)return o1(e.getFirstPosition());var n=e.getFirstRange().getTrimmed(),r=o1(n.start),o=o1(n.end);return r&&r==o&&t.createRangeIn(r).getTrimmed().isEqual(n)?r:null}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){var t=this._balloon.visibleView;return t==this.formView||this._areActionsVisible}}],[{key:"requires",get:function(){return[_Q]}},{key:"pluginName",get:function(){return"LinkUI"}}]),n}(pz);function o1(t){return t.getAncestors().find((function(t){return DX(t)}))}function i1(t){return i1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(t)}function a1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c1(t,e,n){return e&&u1(t.prototype,e),n&&u1(t,n),t}function s1(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l1(t,e)}function f1(t){var e=y1();return function(){var n,r=d1(t);if(e){var o=d1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h1(this,n)}}function h1(t,e){return!e||"object"!==i1(e)&&"function"!==typeof e?p1(t):e}function p1(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y1(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d1(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var v1=function(t){s1(n,t);var e=f1(n);function n(){return a1(this,n),e.apply(this,arguments)}return c1(n,null,[{key:"requires",get:function(){return[RZ,r1]}},{key:"pluginName",get:function(){return"Link"}}]),n}(pz);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function m1(t){var e=t.next();return e.done?null:e.value}function b1(t){return b1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(t)}function g1(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=w1(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function w1(t,e){if(t){if("string"===typeof t)return _1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_1(t,e):void 0}}function _1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O1(t,e,n){return e&&S1(t.prototype,e),n&&S1(t,n),t}function P1(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},A1(t,e)}function R1(t){var e=x1();return function(){var n,r=T1(t);if(e){var o=T1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j1(this,n)}}function j1(t,e){return!e||"object"!==b1(e)&&"function"!==typeof e?E1(t):e}function E1(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x1(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function T1(t){return T1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},T1(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var C1=function(t){P1(n,t);var e=R1(n);function n(){return k1(this,n),e.apply(this,arguments)}return O1(n,[{key:"refresh",value:function(){var t=this.editor.model,e=t.document,n=m1(e.selection.getSelectedBlocks());this.value=!!n&&n.is("paragraph"),this.isEnabled=!!n&&I1(n,t.schema)}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document;e.change((function(r){var o,i=(t.selection||n.selection).getSelectedBlocks(),a=g1(i);try{for(a.s();!(o=a.n()).done;){var u=o.value;!u.is("paragraph")&&I1(u,e.schema)&&r.rename(u,"paragraph")}}catch(c){a.e(c)}finally{a.f()}}))}}]),n}(eU);function I1(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}function D1(t){return D1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(t)}function M1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V1(t,e,n){return e&&N1(t.prototype,e),n&&N1(t,n),t}function B1(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F1(t,e)}function F1(t,e){return F1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},F1(t,e)}function L1(t){var e=H1();return function(){var n,r=$1(t);if(e){var o=$1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z1(this,n)}}function z1(t,e){return!e||"object"!==D1(e)&&"function"!==typeof e?U1(t):e}function U1(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H1(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$1(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var W1=function(t){B1(n,t);var e=L1(n);function n(){return M1(this,n),e.apply(this,arguments)}return V1(n,[{key:"execute",value:function(t){var e=this.editor.model;e.schema.checkChild(t.position,"paragraph")&&e.change((function(n){var r=n.createElement("paragraph");e.insertContent(r,t.position),n.setSelection(r,"in")}))}}]),n}(eU);function q1(t){return q1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(t)}function Y1(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=G1(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function G1(t,e){if(t){if("string"===typeof t)return K1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K1(t,e):void 0}}function K1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z1(t,e,n){return e&&X1(t.prototype,e),n&&X1(t,n),t}function Q1(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&t2(t,e)}function t2(t,e){return t2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t2(t,e)}function e2(t){var e=o2();return function(){var n,r=i2(t);if(e){var o=i2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return n2(this,n)}}function n2(t,e){return!e||"object"!==q1(e)&&"function"!==typeof e?r2(t):e}function r2(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o2(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function i2(t){return i2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i2(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var a2=function(t){Q1(n,t);var e=e2(n);function n(){return J1(this,n),e.apply(this,arguments)}return Z1(n,[{key:"init",value:function(){var t=this,e=this.editor,r=e.model,o=e.data;e.commands.add("paragraph",new C1(e)),e.commands.add("insertParagraph",new W1(e)),r.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:function(t,e){return n.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null},converterPriority:"low"}),o.upcastDispatcher.on("element",(function(t,e,n){n.consumable.test(e.viewItem,{name:e.viewItem.name})&&c2(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,u2(e.viewItem,e.modelCursor,n))}),{priority:"low"}),o.upcastDispatcher.on("text",(function(t,e,n){e.modelRange||c2(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,u2(e.viewItem,e.modelCursor,n))}),{priority:"lowest"}),r.document.registerPostFixer((function(e){return t._autoparagraphEmptyRoots(e)})),e.data.on("ready",(function(){r.enqueueChange("transparent",(function(e){return t._autoparagraphEmptyRoots(e)}))}),{priority:"lowest"})}},{key:"_autoparagraphEmptyRoots",value:function(t){var e,n=this.editor.model,r=Y1(n.document.getRootNames());try{for(r.s();!(e=r.n()).done;){var o=e.value,i=n.document.getRoot(o);if(i.isEmpty&&"$graveyard"!=i.rootName&&n.schema.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0}}catch(a){r.e(a)}finally{r.f()}}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),n}(pz);function u2(t,e,n){var r=n.writer.createElement("paragraph");return n.writer.insert(r,e),n.convertItem(t,n.writer.createPositionAt(r,0))}function c2(t,e,n){var r=n.createContext(e);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */a2.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);var s2=["left","right","center","justify"];function l2(t){return s2.includes(t)}function f2(t,e){return"rtl"==e.contentLanguageDirection?"right"===t:"left"===t}function h2(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=p2(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function p2(t,e){if(t){if("string"===typeof t)return y2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y2(t,e):void 0}}function y2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d2(t){return d2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d2(t)}function v2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b2(t,e,n){return e&&m2(t.prototype,e),n&&m2(t,n),t}function g2(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w2(t,e)}function w2(t,e){return w2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w2(t,e)}function _2(t){var e=O2();return function(){var n,r=P2(t);if(e){var o=P2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k2(this,n)}}function k2(t,e){return!e||"object"!==d2(e)&&"function"!==typeof e?S2(t):e}function S2(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O2(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function P2(t){return P2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P2(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var A2="alignment",R2=function(t){g2(n,t);var e=_2(n);function n(){return v2(this,n),e.apply(this,arguments)}return b2(n,[{key:"refresh",value:function(){var t=this.editor,e=t.locale,n=m1(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!n&&this._canBeAligned(n),this.isEnabled&&n.hasAttribute("alignment")?this.value=n.getAttribute("alignment"):this.value="rtl"===e.contentLanguageDirection?"right":"left"}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,r=n.locale,o=n.model,i=o.document,a=e.value;o.change((function(e){var n=Array.from(i.selection.getSelectedBlocks()).filter((function(e){return t._canBeAligned(e)})),o=n[0].getAttribute("alignment"),u=f2(a,r)||o===a||!a;u?j2(n,e):E2(n,e,a)}))}},{key:"_canBeAligned",value:function(t){return this.editor.model.schema.checkAttribute(t,A2)}}]),n}(eU);function j2(t,e){var n,r=h2(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.removeAttribute(A2,o)}}catch(i){r.e(i)}finally{r.f()}}function E2(t,e,n){var r,o=h2(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.setAttribute(A2,n,i)}}catch(a){o.e(a)}finally{o.f()}}function x2(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=D2(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function T2(t){return T2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T2(t)}function C2(t){return N2(t)||M2(t)||D2(t)||I2()}function I2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D2(t,e){if(t){if("string"===typeof t)return V2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V2(t,e):void 0}}function M2(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function N2(t){if(Array.isArray(t))return V2(t)}function V2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L2(t,e,n){return e&&F2(t.prototype,e),n&&F2(t,n),t}function z2(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U2(t,e)}function U2(t,e){return U2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},U2(t,e)}function H2(t){var e=q2();return function(){var n,r=Y2(t);if(e){var o=Y2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $2(this,n)}}function $2(t,e){return!e||"object"!==T2(e)&&"function"!==typeof e?W2(t):e}function W2(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q2(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Y2(t){return Y2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Y2(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var G2=function(t){z2(n,t);var e=H2(n);function n(t){var r;return B2(this,n),r=e.call(this,t),t.config.define("alignment",{options:C2(s2)}),r}return L2(n,null,[{key:"pluginName",get:function(){return"AlignmentEditing"}}]),L2(n,[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.model.schema,r=t.config.get("alignment.options").filter(l2);n.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0});var o=K2(r.filter((function(t){return!f2(t,e)})));t.conversion.attributeToAttribute(o),t.commands.add("alignment",new R2(t))}}]),n}(pz);function K2(t){var e,n={model:{key:"alignment",values:t.slice()},view:{}},r=x2(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.view[o]={key:"style",value:{"text-align":o}}}}catch(i){r.e(i)}finally{r.f()}return n}var J2=n("1efe"),X2=n.n(J2),Z2=n("e046"),Q2=n.n(Z2),t5=n("2b8c"),e5=n.n(t5),n5=n("6378"),r5=n.n(n5);function o5(t){return o5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o5(t)}function i5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u5(t,e,n){return e&&a5(t.prototype,e),n&&a5(t,n),t}function c5(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s5(t,e)}function s5(t,e){return s5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s5(t,e)}function l5(t){var e=p5();return function(){var n,r=y5(t);if(e){var o=y5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f5(this,n)}}function f5(t,e){return!e||"object"!==o5(e)&&"function"!==typeof e?h5(t):e}function h5(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p5(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function y5(t){return y5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y5(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var d5=new Map([["left",X2.a],["right",Q2.a],["center",e5.a],["justify",r5.a]]),v5=function(t){c5(n,t);var e=l5(n);function n(){return i5(this,n),e.apply(this,arguments)}return u5(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.ui.componentFactory,r=e.t,o=e.config.get("alignment.options");o.filter(l2).forEach((function(e){return t._addButton(e)})),n.add("alignment",(function(t){var e=iL(t),i=o.map((function(t){return n.create("alignment:".concat(t))}));aL(e,i),e.buttonView.set({label:r("Text alignment"),tooltip:!0}),e.toolbarView.isVertical=!0,e.toolbarView.ariaLabel=r("Text alignment toolbar"),e.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});var a="rtl"===t.contentLanguageDirection?Q2.a:X2.a;return e.buttonView.bind("icon").toMany(i,"isOn",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.findIndex((function(t){return t}));return r<0?a:i[r].icon})),e.bind("isEnabled").toMany(i,"isEnabled",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some((function(t){return t}))})),e}))}},{key:"_addButton",value:function(t){var e=this,n=this.editor;n.ui.componentFactory.add("alignment:".concat(t),(function(r){var o=n.commands.get("alignment"),i=new IB(r);return i.set({label:e.localizedOptionTitles[t],icon:d5.get(t),tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(o),i.bind("isOn").to(o,"value",(function(e){return e===t})),e.listenTo(i,"execute",(function(){n.execute("alignment",{value:t}),n.editing.view.focus()})),i}))}},{key:"localizedOptionTitles",get:function(){var t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}}],[{key:"pluginName",get:function(){return"AlignmentUI"}}]),n}(pz);function m5(t){return m5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m5(t)}function b5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w5(t,e,n){return e&&g5(t.prototype,e),n&&g5(t,n),t}function _5(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k5(t,e)}function k5(t,e){return k5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k5(t,e)}function S5(t){var e=A5();return function(){var n,r=R5(t);if(e){var o=R5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O5(this,n)}}function O5(t,e){return!e||"object"!==m5(e)&&"function"!==typeof e?P5(t):e}function P5(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A5(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function R5(t){return R5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},R5(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var j5=function(t){_5(n,t);var e=S5(n);function n(){return b5(this,n),e.apply(this,arguments)}return w5(n,null,[{key:"requires",get:function(){return[G2,v5]}},{key:"pluginName",get:function(){return"Alignment"}}]),n}(pz);function E5(t){return E5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E5(t)}function x5(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=T5(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function T5(t,e){if(t){if("string"===typeof t)return C5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C5(t,e):void 0}}function C5(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M5(t,e,n){return e&&D5(t.prototype,e),n&&D5(t,n),t}function N5(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V5(t,e)}function V5(t,e){return V5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},V5(t,e)}function B5(t){var e=z5();return function(){var n,r=U5(t);if(e){var o=U5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F5(this,n)}}function F5(t,e){return!e||"object"!==E5(e)&&"function"!==typeof e?L5(t):e}function L5(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z5(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function U5(t){return U5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},U5(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var H5=function(t){N5(n,t);var e=B5(n);function n(t,r){var o;return I5(this,n),o=e.call(this,t),o.modelElements=r,o}return M5(n,[{key:"refresh",value:function(){var t=this,e=m1(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some((function(n){return $5(e,n,t.editor.model.schema)}))}},{key:"execute",value:function(t){var e=this.editor.model,n=e.document,r=t.value;e.change((function(t){var o,i=Array.from(n.selection.getSelectedBlocks()).filter((function(t){return $5(t,r,e.schema)})),a=x5(i);try{for(a.s();!(o=a.n()).done;){var u=o.value;u.is(r)||t.rename(u,r)}}catch(c){a.e(c)}finally{a.f()}}))}}]),n}(eU);function $5(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}function W5(t){return W5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W5(t)}function q5(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Y5(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Y5(t,e){if(t){if("string"===typeof t)return G5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G5(t,e):void 0}}function G5(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X5(t,e,n){return e&&J5(t.prototype,e),n&&J5(t,n),t}function Z5(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q5(t,e)}function Q5(t,e){return Q5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Q5(t,e)}function t7(t){var e=r7();return function(){var n,r=o7(t);if(e){var o=o7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return e7(this,n)}}function e7(t,e){return!e||"object"!==W5(e)&&"function"!==typeof e?n7(t):e}function n7(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r7(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function o7(t){return o7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o7(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i7="paragraph",a7=function(t){Z5(n,t);var e=t7(n);function n(t){var r;return K5(this,n),r=e.call(this,t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),r}return X5(n,null,[{key:"pluginName",get:function(){return"HeadingEditing"}}]),X5(n,[{key:"init",value:function(){var t,e=this.editor,n=e.config.get("heading.options"),r=[],o=q5(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.model!==i7&&(e.model.schema.register(i.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(i),r.push(i.model))}}catch(a){o.e(a)}finally{o.f()}this._addDefaultH1Conversion(e),e.commands.add("heading",new H5(e,r))}},{key:"afterInit",value:function(){var t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(function(e,r){var o=t.model.document.selection.getFirstPosition().parent,i=n.some((function(t){return o.is(t.model)}));i&&!o.is(i7)&&0===o.childCount&&r.writer.rename(o,i7)}))}},{key:"_addDefaultH1Conversion",value:function(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Sa.get("low")+1})}}],[{key:"requires",get:function(){return[a2]}}]),n}(pz);function u7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var c7=function t(e,n){u7(this,t),n&&mf(this,n),e&&this.set(e)};
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function s7(t){var e=t.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map((function(t){var e=n[t.title];return e&&e!=t.title&&(t.title=e),t}))}Xa(c7,Ef);n("8b56");function l7(t){return l7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l7(t)}function f7(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=h7(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function h7(t,e){if(t){if("string"===typeof t)return p7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p7(t,e):void 0}}function p7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v7(t,e,n){return e&&d7(t.prototype,e),n&&d7(t,n),t}function m7(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b7(t,e)}function b7(t,e){return b7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b7(t,e)}function g7(t){var e=k7();return function(){var n,r=S7(t);if(e){var o=S7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w7(this,n)}}function w7(t,e){return!e||"object"!==l7(e)&&"function"!==typeof e?_7(t):e}function _7(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k7(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function S7(t){return S7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S7(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var O7=function(t){m7(n,t);var e=g7(n);function n(){return y7(this,n),e.apply(this,arguments)}return v7(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.t,r=s7(e),o=n("Choose heading"),i=n("Heading");e.ui.componentFactory.add("heading",(function(n){var a,u={},c=new ou,s=e.commands.get("heading"),l=e.commands.get("paragraph"),f=[s],h=f7(r);try{var p=function(){var t=a.value,e={type:"button",model:new c7({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(l,"value"),e.model.set("commandName","paragraph"),f.push(l)):(e.model.bind("isOn").to(s,"value",(function(e){return e===t.model})),e.model.set({commandName:"heading",commandValue:t.model})),c.add(e),u[t.model]=t.title};for(h.s();!(a=h.n()).done;)p()}catch(d){h.e(d)}finally{h.f()}var y=iL(n);return uL(y,c),y.buttonView.set({isOn:!1,withText:!0,tooltip:i}),y.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),y.bind("isEnabled").toMany(f,"isEnabled",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some((function(t){return t}))})),y.buttonView.bind("label").to(s,"value",l,"value",(function(t,e){var n=t||e&&"paragraph";return u[n]?u[n]:o})),t.listenTo(y,"execute",(function(t){e.execute(t.source.commandName,t.source.commandValue?{value:t.source.commandValue}:void 0),e.editing.view.focus()})),y}))}}]),n}(pz);function P7(t){return P7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P7(t)}function A7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j7(t,e,n){return e&&R7(t.prototype,e),n&&R7(t,n),t}function E7(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x7(t,e)}function x7(t,e){return x7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x7(t,e)}function T7(t){var e=D7();return function(){var n,r=M7(t);if(e){var o=M7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C7(this,n)}}function C7(t,e){return!e||"object"!==P7(e)&&"function"!==typeof e?I7(t):e}function I7(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D7(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function M7(t){return M7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M7(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var N7=function(t){E7(n,t);var e=T7(n);function n(){return A7(this,n),e.apply(this,arguments)}return j7(n,null,[{key:"requires",get:function(){return[a7,O7]}},{key:"pluginName",get:function(){return"Heading"}}]),n}(pz);function V7(t){return V7="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V7(t)}function B7(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=F7(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function F7(t,e){if(t){if("string"===typeof t)return L7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L7(t,e):void 0}}function L7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H7(t,e,n){return e&&U7(t.prototype,e),n&&U7(t,n),t}function $7(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W7(t,e)}function W7(t,e){return W7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},W7(t,e)}function q7(t){var e=K7();return function(){var n,r=J7(t);if(e){var o=J7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y7(this,n)}}function Y7(t,e){return!e||"object"!==V7(e)&&"function"!==typeof e?G7(t):e}function G7(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function J7(t){return J7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},J7(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var X7=function(t){$7(n,t);var e=q7(n);function n(t,r){var o;return z7(this,n),o=e.call(this,t),o.attributeKey=r,o}return H7(n,[{key:"refresh",value:function(){var t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,o=r.selection,i=e.value;n.change((function(e){if(o.isCollapsed)i?e.setSelectionAttribute(t.attributeKey,i):e.removeSelectionAttribute(t.attributeKey);else{var r,a=n.schema.getValidRanges(o.getRanges(),t.attributeKey),u=B7(a);try{for(u.s();!(r=u.n()).done;){var c=r.value;i?e.setAttribute(t.attributeKey,i,c):e.removeAttribute(t.attributeKey,c)}}catch(s){u.e(s)}finally{u.f()}}}))}}]),n}(eU),Z7=n("8de7"),Q7=n.n(Z7);function t3(t){return t3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t3(t)}function e3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r3(t,e,n){return e&&n3(t.prototype,e),n&&n3(t,n),t}function o3(t,e,n){return o3="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=i3(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},o3(t,e,n||t)}function i3(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=h3(t),null===t)break;return t}function a3(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u3(t,e)}function u3(t,e){return u3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u3(t,e)}function c3(t){var e=f3();return function(){var n,r=h3(t);if(e){var o=h3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s3(this,n)}}function s3(t,e){return!e||"object"!==t3(e)&&"function"!==typeof e?l3(t):e}function l3(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f3(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h3(t){return h3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h3(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var p3=function(t){a3(n,t);var e=c3(n);function n(t){var r;e3(this,n),r=e.call(this,t);var o=r.bindTemplate;return r.set("color"),r.set("hasBorder"),r.icon=Q7.a,r.extendTemplate({attributes:{style:{backgroundColor:o.to("color")},class:["ck","ck-color-grid__tile",o.if("hasBorder","ck-color-table__color-tile_bordered")]}}),r}return r3(n,[{key:"render",value:function(){o3(h3(n.prototype),"render",this).call(this),this.iconView.fillColor="hsl(0, 0%, 100%)"}}]),n}(IB);n("6cdf");function y3(t){return y3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y3(t)}function d3(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=v3(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function v3(t,e){if(t){if("string"===typeof t)return m3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m3(t,e):void 0}}function m3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w3(t,e,n){return e&&g3(t.prototype,e),n&&g3(t,n),t}function _3(t,e,n){return _3="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=k3(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},_3(t,e,n||t)}function k3(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=E3(t),null===t)break;return t}function S3(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O3(t,e)}function O3(t,e){return O3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O3(t,e)}function P3(t){var e=j3();return function(){var n,r=E3(t);if(e){var o=E3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A3(this,n)}}function A3(t,e){return!e||"object"!==y3(e)&&"function"!==typeof e?R3(t):e}function R3(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j3(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function E3(t){return E3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E3(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var x3=function(t){S3(n,t);var e=P3(n);function n(t,r){var o;b3(this,n),o=e.call(this,t);var i=r&&r.colorDefinitions||[],a={};return r&&r.columns&&(a.gridTemplateColumns="repeat( ".concat(r.columns,", 1fr)")),o.set("selectedColor"),o.items=o.createCollection(),o.focusTracker=new IC,o.keystrokes=new HT,o._focusCycler=new zN({focusables:o.items,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),o.items.on("add",(function(t,e){e.isOn=e.color===o.selectedColor})),i.forEach((function(t){var e=new p3;e.set({color:t.color,label:t.label,tooltip:!0,hasBorder:t.options.hasBorder}),e.on("execute",(function(){o.fire("execute",{value:t.color,hasBorder:t.options.hasBorder,label:t.label})})),o.items.add(e)})),o.setTemplate({tag:"div",children:o.items,attributes:{class:["ck","ck-color-grid"],style:a}}),o.on("change:selectedColor",(function(t,e,n){var r,i=d3(o.items);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.isOn=a.color===n}}catch(u){i.e(u)}finally{i.f()}})),o}return w3(n,[{key:"focus",value:function(){this.items.length&&this.items.first.focus()}},{key:"focusLast",value:function(){this.items.length&&this.items.last.focus()}},{key:"render",value:function(){var t=this;_3(E3(n.prototype),"render",this).call(this);var e,r=d3(this.items);try{for(r.s();!(e=r.n()).done;){var o=e.value;this.focusTracker.add(o.element)}}catch(i){r.e(i)}finally{r.f()}this.items.on("add",(function(e,n){t.focusTracker.add(n.element)})),this.items.on("remove",(function(e,n){t.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}}]),n}(zD);function T3(t){return T3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T3(t)}function C3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D3(t,e,n){return e&&I3(t.prototype,e),n&&I3(t,n),t}function M3(t,e,n){return M3="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=N3(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},M3(t,e,n||t)}function N3(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=H3(t),null===t)break;return t}function V3(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B3(t,e)}function B3(t,e){return B3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},B3(t,e)}function F3(t){var e=U3();return function(){var n,r=H3(t);if(e){var o=H3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L3(this,n)}}function L3(t,e){return!e||"object"!==T3(e)&&"function"!==typeof e?z3(t):e}function z3(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U3(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function H3(t){return H3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},H3(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var $3=function(t){V3(n,t);var e=F3(n);function n(t){var r;return C3(this,n),r=e.call(this,t),r.set("isEmpty",!0),r}return D3(n,[{key:"add",value:function(t,e){this.find((function(e){return e.color===t.color}))||(M3(H3(n.prototype),"add",this).call(this,t,e),this.set("isEmpty",!1))}},{key:"remove",value:function(t){var e=M3(H3(n.prototype),"remove",this).call(this,t);return 0===this.length&&this.set("isEmpty",!0),e}},{key:"hasColor",value:function(t){return!!this.find((function(e){return e.color===t}))}}]),n}(ou);Xa($3,Ef);var W3=n("875d"),q3=n.n(W3);n("b3ce");function Y3(t){return Y3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y3(t)}function G3(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=K3(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function K3(t,e){if(t){if("string"===typeof t)return J3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J3(t,e):void 0}}function J3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q3(t,e,n){return e&&Z3(t.prototype,e),n&&Z3(t,n),t}function t8(t,e,n){return t8="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=e8(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},t8(t,e,n||t)}function e8(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=c8(t),null===t)break;return t}function n8(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r8(t,e)}function r8(t,e){return r8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r8(t,e)}function o8(t){var e=u8();return function(){var n,r=c8(t);if(e){var o=c8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i8(this,n)}}function i8(t,e){return!e||"object"!==Y3(e)&&"function"!==typeof e?a8(t):e}function a8(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u8(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function c8(t){return c8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c8(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var s8=function(t){n8(n,t);var e=o8(n);function n(t,r){var o,i=r.colors,a=r.columns,u=r.removeButtonLabel,c=r.documentColorsLabel,s=r.documentColorsCount;return X3(this,n),o=e.call(this,t),o.items=o.createCollection(),o.colorDefinitions=i,o.focusTracker=new IC,o.keystrokes=new HT,o.set("selectedColor"),o.removeButtonLabel=u,o.columns=a,o.documentColors=new $3,o.documentColorsCount=s,o._focusCycler=new zN({focusables:o.items,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),o._documentColorsLabel=c,o.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:o.items}),o.items.add(o._removeColorButton()),o}return Q3(n,[{key:"updateDocumentColors",value:function(t,e){var n=t.document,r=this.documentColorsCount;this.documentColors.clear();var o,i=G3(n.getRootNames());try{for(i.s();!(o=i.n()).done;){var a,u=o.value,c=n.getRoot(u),s=t.createRangeIn(c),l=G3(s.getItems());try{for(l.s();!(a=l.n()).done;){var f=a.value;if(f.is("textProxy")&&f.hasAttribute(e)&&(this._addColorToDocumentColors(f.getAttribute(e)),this.documentColors.length>=r))return}}catch(h){l.e(h)}finally{l.f()}}}catch(h){i.e(h)}finally{i.f()}}},{key:"updateSelectedColors",value:function(){var t=this.documentColorsGrid,e=this.staticColorsGrid,n=this.selectedColor;e.selectedColor=n,t&&(t.selectedColor=n)}},{key:"render",value:function(){t8(c8(n.prototype),"render",this).call(this);var t,e=G3(this.items);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.focusTracker.add(r.element)}}catch(o){e.e(o)}finally{e.f()}this.keystrokes.listenTo(this.element)}},{key:"appendGrids",value:function(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount)){var t=sD.bind(this.documentColors,this.documentColors),e=new CM(this.locale);e.text=this._documentColorsLabel,e.extendTemplate({attributes:{class:["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]}}),this.items.add(e),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"_removeColorButton",value:function(){var t=this,e=new IB;return e.set({withText:!0,icon:q3.a,tooltip:!0,label:this.removeButtonLabel}),e.class="ck-color-table__remove-color",e.on("execute",(function(){t.fire("execute",{value:null})})),e}},{key:"_createStaticColorsGrid",value:function(){var t=new x3(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return t.delegate("execute").to(this),t}},{key:"_createDocumentColorsGrid",value:function(){var t=this,e=sD.bind(this.documentColors,this.documentColors),n=new x3(this.locale,{columns:this.columns});return n.delegate("execute").to(this),n.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),n.items.bindTo(this.documentColors).using((function(e){var n=new p3;return n.set({color:e.color,hasBorder:e.options&&e.options.hasBorder}),e.label&&n.set({label:e.label,tooltip:!0}),n.on("execute",(function(){t.fire("execute",{value:e.color})})),n})),this.documentColors.on("change:isEmpty",(function(t,e,r){r&&(n.selectedColor=null)})),n}},{key:"_addColorToDocumentColors",value:function(t){var e=this.colorDefinitions.find((function(e){return e.color===t}));e?this.documentColors.add(Object.assign({},e)):this.documentColors.add({color:t,label:t,options:{hasBorder:!1}})}}]),n}(zD);function l8(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=f8(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function f8(t,e){if(t){if("string"===typeof t)return h8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h8(t,e):void 0}}function h8(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var p8="fontSize",y8="fontFamily",d8="fontColor",v8="fontBackgroundColor";function m8(t,e){var n,r={model:{key:t,values:[]},view:{},upcastAlso:{}},o=l8(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.model.values.push(i.model),r.view[i.model]=i.view,i.upcastAlso&&(r.upcastAlso[i.model]=i.upcastAlso)}}catch(a){o.e(a)}finally{o.f()}return r}function b8(t){return function(e){return _8(e.getStyle(t))}}function g8(t){return function(e,n){return n.createAttributeElement("span",{style:"".concat(t,":").concat(e)},{priority:7})}}function w8(t){var e=t.dropdownView,n=t.colors,r=t.columns,o=t.removeButtonLabel,i=t.documentColorsLabel,a=t.documentColorsCount,u=e.locale,c=new s8(u,{colors:n,columns:r,removeButtonLabel:o,documentColorsLabel:i,documentColorsCount:a});return e.colorTableView=c,e.panelView.children.add(c),c.delegate("execute").to(e,"execute"),c}function _8(t){return t.replace(/\s/g,"")}function k8(t){return k8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k8(t)}function S8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O8(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P8(t,e)}function P8(t,e){return P8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},P8(t,e)}function A8(t){var e=E8();return function(){var n,r=x8(t);if(e){var o=x8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R8(this,n)}}function R8(t,e){return!e||"object"!==k8(e)&&"function"!==typeof e?j8(t):e}function j8(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function x8(t){return x8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x8(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var T8=function(t){O8(n,t);var e=A8(n);function n(t){return S8(this,n),e.call(this,t,v8)}return n}(X7);function C8(t){return C8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C8(t)}function I8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M8(t,e,n){return e&&D8(t.prototype,e),n&&D8(t,n),t}function N8(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V8(t,e)}function V8(t,e){return V8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},V8(t,e)}function B8(t){var e=z8();return function(){var n,r=U8(t);if(e){var o=U8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F8(this,n)}}function F8(t,e){return!e||"object"!==C8(e)&&"function"!==typeof e?L8(t):e}function L8(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z8(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function U8(t){return U8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},U8(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var H8=function(t){N8(n,t);var e=B8(n);function n(t){var r;return I8(this,n),r=e.call(this,t),t.config.define(v8,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:v8,value:b8("background-color")}}),t.conversion.for("downcast").attributeToElement({model:v8,view:g8("background-color")}),t.commands.add(v8,new T8(t)),t.model.schema.extend("$text",{allowAttributes:v8}),t.model.schema.setAttributeProperties(v8,{isFormatting:!0,copyOnEnter:!0}),r}return M8(n,null,[{key:"pluginName",get:function(){return"FontBackgroundColorEditing"}}]),n}(pz);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $8(t,e){var n=t.t,r={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return e.map((function(t){var e=r[t.label];return e&&e!=t.label&&(t.label=e),t}))}function W8(t){return t.map(q8).filter((function(t){return!!t}))}function q8(t){return"string"===typeof t?{model:t,label:t,hasBorder:!1,view:{name:"span",styles:{color:t}}}:{model:t.color,label:t.label||t.color,hasBorder:void 0!==t.hasBorder&&t.hasBorder,view:{name:"span",styles:{color:"".concat(t.color)}}}}function Y8(t){return Y8="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y8(t)}function G8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J8(t,e,n){return e&&K8(t.prototype,e),n&&K8(t,n),t}function X8(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z8(t,e)}function Z8(t,e){return Z8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z8(t,e)}function Q8(t){var e=n4();return function(){var n,r=r4(t);if(e){var o=r4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return t4(this,n)}}function t4(t,e){return!e||"object"!==Y8(e)&&"function"!==typeof e?e4(t):e}function e4(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n4(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function r4(t){return r4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r4(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var o4=function(t){X8(n,t);var e=Q8(n);function n(t,r){var o,i=r.commandName,a=r.icon,u=r.componentName,c=r.dropdownLabel;return G8(this,n),o=e.call(this,t),o.commandName=i,o.componentName=u,o.icon=a,o.dropdownLabel=c,o.columns=t.config.get("".concat(o.componentName,".columns")),o.colorTableView,o}return J8(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.locale,r=n.t,o=e.commands.get(this.commandName),i=W8(e.config.get(this.componentName).colors),a=$8(n,i),u=e.config.get("".concat(this.componentName,".documentColors"));e.ui.componentFactory.add(this.componentName,(function(n){var i=iL(n);return t.colorTableView=w8({dropdownView:i,colors:a.map((function(t){return{label:t.label,color:t.model,options:{hasBorder:t.hasBorder}}})),columns:t.columns,removeButtonLabel:r("Remove color"),documentColorsLabel:0!==u?r("Document colors"):void 0,documentColorsCount:void 0===u?t.columns:u}),t.colorTableView.bind("selectedColor").to(o,"value"),i.buttonView.set({label:t.dropdownLabel,icon:t.icon,tooltip:!0}),i.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),i.bind("isEnabled").to(o),i.on("execute",(function(n,r){e.execute(t.commandName,r),e.editing.view.focus()})),i.on("change:isOpen",(function(n,r,o){i.colorTableView.appendGrids(),o&&(0!==u&&t.colorTableView.updateDocumentColors(e.model,t.componentName),t.colorTableView.updateSelectedColors())})),i}))}}]),n}(pz),i4=n("807d"),a4=n.n(i4);function u4(t){return u4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u4(t)}function c4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l4(t,e,n){return e&&s4(t.prototype,e),n&&s4(t,n),t}function f4(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h4(t,e)}function h4(t,e){return h4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h4(t,e)}function p4(t){var e=v4();return function(){var n,r=m4(t);if(e){var o=m4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y4(this,n)}}function y4(t,e){return!e||"object"!==u4(e)&&"function"!==typeof e?d4(t):e}function d4(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v4(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function m4(t){return m4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m4(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var b4=function(t){f4(n,t);var e=p4(n);function n(t){c4(this,n);var r=t.locale.t;return e.call(this,t,{commandName:v8,componentName:v8,icon:a4.a,dropdownLabel:r("Font Background Color")})}return l4(n,null,[{key:"pluginName",get:function(){return"FontBackgroundColorUI"}}]),n}(o4);function g4(t){return g4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g4(t)}function w4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k4(t,e,n){return e&&_4(t.prototype,e),n&&_4(t,n),t}function S4(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O4(t,e)}function O4(t,e){return O4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O4(t,e)}function P4(t){var e=j4();return function(){var n,r=E4(t);if(e){var o=E4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A4(this,n)}}function A4(t,e){return!e||"object"!==g4(e)&&"function"!==typeof e?R4(t):e}function R4(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function E4(t){return E4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E4(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var x4=function(t){S4(n,t);var e=P4(n);function n(){return w4(this,n),e.apply(this,arguments)}return k4(n,null,[{key:"requires",get:function(){return[H8,b4]}},{key:"pluginName",get:function(){return"FontBackgroundColor"}}]),n}(pz);function T4(t){return T4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T4(t)}function C4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I4(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D4(t,e)}function D4(t,e){return D4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},D4(t,e)}function M4(t){var e=B4();return function(){var n,r=F4(t);if(e){var o=F4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N4(this,n)}}function N4(t,e){return!e||"object"!==T4(e)&&"function"!==typeof e?V4(t):e}function V4(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function F4(t){return F4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},F4(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var L4=function(t){I4(n,t);var e=M4(n);function n(t){return C4(this,n),e.call(this,t,d8)}return n}(X7);function z4(t){return z4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z4(t)}function U4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $4(t,e,n){return e&&H4(t.prototype,e),n&&H4(t,n),t}function W4(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q4(t,e)}function q4(t,e){return q4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q4(t,e)}function Y4(t){var e=J4();return function(){var n,r=X4(t);if(e){var o=X4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G4(this,n)}}function G4(t,e){return!e||"object"!==z4(e)&&"function"!==typeof e?K4(t):e}function K4(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J4(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function X4(t){return X4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},X4(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Z4=function(t){W4(n,t);var e=Y4(n);function n(t){var r;return U4(this,n),r=e.call(this,t),t.config.define(d8,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:d8,value:b8("color")}}),t.conversion.for("downcast").attributeToElement({model:d8,view:g8("color")}),t.commands.add(d8,new L4(t)),t.model.schema.extend("$text",{allowAttributes:d8}),t.model.schema.setAttributeProperties(d8,{isFormatting:!0,copyOnEnter:!0}),r}return $4(n,null,[{key:"pluginName",get:function(){return"FontColorEditing"}}]),n}(pz),Q4=n("7639"),t6=n.n(Q4);function e6(t){return e6="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e6(t)}function n6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o6(t,e,n){return e&&r6(t.prototype,e),n&&r6(t,n),t}function i6(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a6(t,e)}function a6(t,e){return a6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a6(t,e)}function u6(t){var e=l6();return function(){var n,r=f6(t);if(e){var o=f6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c6(this,n)}}function c6(t,e){return!e||"object"!==e6(e)&&"function"!==typeof e?s6(t):e}function s6(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l6(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f6(t){return f6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f6(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var h6=function(t){i6(n,t);var e=u6(n);function n(t){n6(this,n);var r=t.locale.t;return e.call(this,t,{commandName:d8,componentName:d8,icon:t6.a,dropdownLabel:r("Font Color")})}return o6(n,null,[{key:"pluginName",get:function(){return"FontColorUI"}}]),n}(o4);function p6(t){return p6="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p6(t)}function y6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v6(t,e,n){return e&&d6(t.prototype,e),n&&d6(t,n),t}function m6(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b6(t,e)}function b6(t,e){return b6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b6(t,e)}function g6(t){var e=k6();return function(){var n,r=S6(t);if(e){var o=S6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w6(this,n)}}function w6(t,e){return!e||"object"!==p6(e)&&"function"!==typeof e?_6(t):e}function _6(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function S6(t){return S6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S6(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var O6=function(t){m6(n,t);var e=g6(n);function n(){return y6(this,n),e.apply(this,arguments)}return v6(n,null,[{key:"requires",get:function(){return[Z4,h6]}},{key:"pluginName",get:function(){return"FontColor"}}]),n}(pz);function P6(t){return P6="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P6(t)}function A6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j6(t,e)}function j6(t,e){return j6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},j6(t,e)}function E6(t){var e=C6();return function(){var n,r=I6(t);if(e){var o=I6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x6(this,n)}}function x6(t,e){return!e||"object"!==P6(e)&&"function"!==typeof e?T6(t):e}function T6(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C6(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function I6(t){return I6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},I6(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var D6=function(t){R6(n,t);var e=E6(n);function n(t){return A6(this,n),e.call(this,t,y8)}return n}(X7);function M6(t){return M6="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M6(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function N6(t){return t.map(V6).filter((function(t){return!!t}))}function V6(t){return"object"===M6(t)?t:"default"===t?{title:"Default",model:void 0}:"string"===typeof t?B6(t):void 0}function B6(t){var e=t.replace(/"|'/g,"").split(","),n=e[0],r=e.map(F6).join(", ");return{title:n,model:n,view:{name:"span",styles:{"font-family":r},priority:7}}}function F6(t){return t=t.trim(),t.indexOf(" ")>0&&(t="'".concat(t,"'")),t}function L6(t){return L6="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L6(t)}function z6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H6(t,e,n){return e&&U6(t.prototype,e),n&&U6(t,n),t}function $6(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W6(t,e)}function W6(t,e){return W6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},W6(t,e)}function q6(t){var e=K6();return function(){var n,r=J6(t);if(e){var o=J6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y6(this,n)}}function Y6(t,e){return!e||"object"!==L6(e)&&"function"!==typeof e?G6(t):e}function G6(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K6(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function J6(t){return J6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},J6(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var X6=function(t){$6(n,t);var e=q6(n);function n(t){var r;return z6(this,n),r=e.call(this,t),t.config.define(y8,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1}),r}return H6(n,null,[{key:"pluginName",get:function(){return"FontFamilyEditing"}}]),H6(n,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:y8}),t.model.schema.setAttributeProperties(y8,{isFormatting:!0,copyOnEnter:!0});var e=N6(t.config.get("fontFamily.options")).filter((function(t){return t.model})),n=m8(y8,e);t.config.get("fontFamily.supportAllValues")?this._prepareAnyValueConverters():t.conversion.attributeToElement(n),t.commands.add(y8,new D6(t))}},{key:"_prepareAnyValueConverters",value:function(){var t=this.editor;t.conversion.for("downcast").attributeToElement({model:y8,view:function(t,e){return e.createAttributeElement("span",{style:"font-family:"+t},{priority:7})}}),t.conversion.for("upcast").attributeToAttribute({model:{key:y8,value:function(t){return t.getStyle("font-family")}},view:{name:"span",styles:{"font-family":/.*/}}})}}]),n}(pz),Z6=n("c7ef"),Q6=n.n(Z6);function t9(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=e9(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function e9(t,e){if(t){if("string"===typeof t)return n9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n9(t,e):void 0}}function n9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r9(t){return r9="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r9(t)}function o9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a9(t,e,n){return e&&i9(t.prototype,e),n&&i9(t,n),t}function u9(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c9(t,e)}function c9(t,e){return c9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c9(t,e)}function s9(t){var e=h9();return function(){var n,r=p9(t);if(e){var o=p9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l9(this,n)}}function l9(t,e){return!e||"object"!==r9(e)&&"function"!==typeof e?f9(t):e}function f9(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h9(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p9(t){return p9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p9(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var y9=function(t){u9(n,t);var e=s9(n);function n(){return o9(this,n),e.apply(this,arguments)}return a9(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.t,r=this._getLocalizedOptions(),o=e.commands.get(y8);e.ui.componentFactory.add(y8,(function(i){var a=iL(i);return uL(a,d9(r,o)),a.buttonView.set({label:n("Font Family"),icon:Q6.a,tooltip:!0}),a.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),a.bind("isEnabled").to(o),t.listenTo(a,"execute",(function(t){e.execute(t.source.commandName,{value:t.source.commandParam}),e.editing.view.focus()})),a}))}},{key:"_getLocalizedOptions",value:function(){var t=this.editor,e=t.t,n=N6(t.config.get(y8).options);return n.map((function(t){return"Default"===t.title&&(t.title=e("Default")),t}))}}]),n}(pz);function d9(t,e){var n,r=new ou,o=t9(t);try{var i=function(){var t=n.value,o={type:"button",model:new c7({commandName:y8,commandParam:t.model,label:t.title,withText:!0})};o.model.bind("isOn").to(e,"value",(function(e){return e===t.model||!(!e||!t.model)&&e.split(",")[0].replace(/'/g,"").toLowerCase()===t.model.toLowerCase()})),t.view&&t.view.styles&&o.model.set("labelStyle","font-family: ".concat(t.view.styles["font-family"])),r.add(o)};for(o.s();!(n=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r}function v9(t){return v9="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v9(t)}function m9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g9(t,e,n){return e&&b9(t.prototype,e),n&&b9(t,n),t}function w9(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_9(t,e)}function _9(t,e){return _9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_9(t,e)}function k9(t){var e=P9();return function(){var n,r=A9(t);if(e){var o=A9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S9(this,n)}}function S9(t,e){return!e||"object"!==v9(e)&&"function"!==typeof e?O9(t):e}function O9(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function A9(t){return A9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A9(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var R9=function(t){w9(n,t);var e=k9(n);function n(){return m9(this,n),e.apply(this,arguments)}return g9(n,null,[{key:"requires",get:function(){return[X6,y9]}},{key:"pluginName",get:function(){return"FontFamily"}}]),n}(pz);function j9(t){return j9="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j9(t)}function E9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x9(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T9(t,e)}function T9(t,e){return T9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},T9(t,e)}function C9(t){var e=M9();return function(){var n,r=N9(t);if(e){var o=N9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I9(this,n)}}function I9(t,e){return!e||"object"!==j9(e)&&"function"!==typeof e?D9(t):e}function D9(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M9(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function N9(t){return N9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},N9(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var V9=function(t){x9(n,t);var e=C9(n);function n(t){return E9(this,n),e.call(this,t,p8)}return n}(X7);function B9(t){return B9="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B9(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function F9(t){return t.map((function(t){return z9(t)})).filter((function(t){return!!t}))}var L9={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function z9(t){if(W9(t))return H9(t);var e=$9(t);return e?H9(e):"default"===t?{model:void 0,title:"Default"}:q9(t)?void 0:U9(t)}function U9(t){return"number"!==typeof t&&"string"!==typeof t||(t={title:String(t),model:"".concat(parseFloat(t),"px")}),t.view={name:"span",styles:{"font-size":t.model}},H9(t)}function H9(t){return t.view.priority||(t.view.priority=7),t}function $9(t){return L9[t]||L9[t.model]}function W9(t){return"object"===B9(t)&&t.title&&t.model&&t.view}function q9(t){var e;if("object"===B9(t)){if(!t.model)throw new Oa["b"]("font-size-invalid-definition: Provided font size definition is invalid.",null,t);e=parseFloat(t.model)}else e=parseFloat(t);return isNaN(e)}function Y9(t){return Y9="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y9(t)}function G9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J9(t,e,n){return e&&K9(t.prototype,e),n&&K9(t,n),t}function X9(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z9(t,e)}function Z9(t,e){return Z9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z9(t,e)}function Q9(t){var e=ntt();return function(){var n,r=rtt(t);if(e){var o=rtt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ttt(this,n)}}function ttt(t,e){return!e||"object"!==Y9(e)&&"function"!==typeof e?ett(t):e}function ett(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ntt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function rtt(t){return rtt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rtt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ott=function(t){X9(n,t);var e=Q9(n);function n(t){var r;return G9(this,n),r=e.call(this,t),t.config.define(p8,{options:["tiny","small","default","big","huge"],supportAllValues:!1}),r}return J9(n,null,[{key:"pluginName",get:function(){return"FontSizeEditing"}}]),J9(n,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:p8}),t.model.schema.setAttributeProperties(p8,{isFormatting:!0,copyOnEnter:!0});var e=t.config.get("fontSize.supportAllValues"),n=F9(this.editor.config.get("fontSize.options")).filter((function(t){return t.model})),r=m8(p8,n);e?this._prepareAnyValueConverters(r):t.conversion.attributeToElement(r),t.commands.add(p8,new V9(t))}},{key:"_prepareAnyValueConverters",value:function(t){var e=this.editor,n=t.model.values.filter((function(t){return!String(t).match(/[\d.]+[\w%]+/)}));if(n.length)throw new Oa["b"]("font-size-invalid-use-of-named-presets: If config.fontSize.supportAllValues is set to true, you need to use numerical values as font size options.",null,{presets:n});e.conversion.for("downcast").attributeToElement({model:p8,view:function(t,e){if(t)return e.createAttributeElement("span",{style:"font-size:"+t},{priority:7})}}),e.conversion.for("upcast").attributeToAttribute({model:{key:p8,value:function(t){return t.getStyle("font-size")}},view:{name:"span"}})}}]),n}(pz),itt=n("7de4"),att=n.n(itt);n("da88");function utt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ctt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ctt(t,e){if(t){if("string"===typeof t)return stt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?stt(t,e):void 0}}function stt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ltt(t){return ltt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ltt(t)}function ftt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function htt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ptt(t,e,n){return e&&htt(t.prototype,e),n&&htt(t,n),t}function ytt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dtt(t,e)}function dtt(t,e){return dtt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dtt(t,e)}function vtt(t){var e=gtt();return function(){var n,r=wtt(t);if(e){var o=wtt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mtt(this,n)}}function mtt(t,e){return!e||"object"!==ltt(e)&&"function"!==typeof e?btt(t):e}function btt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gtt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function wtt(t){return wtt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wtt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var _tt=function(t){ytt(n,t);var e=vtt(n);function n(){return ftt(this,n),e.apply(this,arguments)}return ptt(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.t,r=this._getLocalizedOptions(),o=e.commands.get(p8);e.ui.componentFactory.add(p8,(function(i){var a=iL(i);return uL(a,ktt(r,o)),a.buttonView.set({label:n("Font Size"),icon:att.a,tooltip:!0}),a.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),a.bind("isEnabled").to(o),t.listenTo(a,"execute",(function(t){e.execute(t.source.commandName,{value:t.source.commandParam}),e.editing.view.focus()})),a}))}},{key:"_getLocalizedOptions",value:function(){var t=this.editor,e=t.t,n={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")},r=F9(t.config.get(p8).options);return r.map((function(t){var e=n[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t}))}}]),n}(pz);function ktt(t,e){var n,r=new ou,o=utt(t);try{var i=function(){var t=n.value,o={type:"button",model:new c7({commandName:p8,commandParam:t.model,label:t.title,class:"ck-fontsize-option",withText:!0})};t.view&&t.view.styles&&o.model.set("labelStyle","font-size:".concat(t.view.styles["font-size"])),t.view&&t.view.classes&&o.model.set("class","".concat(o.model.class," ").concat(t.view.classes)),o.model.bind("isOn").to(e,"value",(function(e){return e===t.model})),r.add(o)};for(o.s();!(n=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r}function Stt(t){return Stt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Stt(t)}function Ott(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ptt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Att(t,e,n){return e&&Ptt(t.prototype,e),n&&Ptt(t,n),t}function Rtt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jtt(t,e)}function jtt(t,e){return jtt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jtt(t,e)}function Ett(t){var e=Ctt();return function(){var n,r=Itt(t);if(e){var o=Itt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xtt(this,n)}}function xtt(t,e){return!e||"object"!==Stt(e)&&"function"!==typeof e?Ttt(t):e}function Ttt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ctt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Itt(t){return Itt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Itt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Dtt=function(t){Rtt(n,t);var e=Ett(n);function n(){return Ott(this,n),e.apply(this,arguments)}return Att(n,null,[{key:"requires",get:function(){return[ott,_tt]}},{key:"pluginName",get:function(){return"FontSize"}}]),n}(pz);function Mtt(t){return Ftt(t)||Btt(t)||Vtt(t)||Ntt()}function Ntt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vtt(t,e){if(t){if("string"===typeof t)return Ltt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ltt(t,e):void 0}}function Btt(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Ftt(t){if(Array.isArray(t))return Ltt(t)}function Ltt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ztt(t,e){return function(t){t.on("attribute:url:media",n)};function n(n,r,o){if(o.consumable.consume(r.item,n.name)){var i=r.attributeNewValue,a=o.writer,u=o.mapper.toViewElement(r.item),c=Mtt(u.getChildren()).find((function(t){return t.getCustomProperty("media-content")}));a.remove(c);var s=t.getMediaViewElement(a,i,e);a.insert(a.createPositionAt(u,0),s)}}}function Utt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Htt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $tt(t,e,n){return e&&Htt(t.prototype,e),n&&Htt(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Wtt=function(){function t(){Utt(this,t),this._stack=[]}return $tt(t,[{key:"add",value:function(t,e){var n=this._stack,r=n[0];this._insertDescriptor(t);var o=n[0];r===o||qtt(r,o)||this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:e})}},{key:"remove",value:function(t,e){var n=this._stack,r=n[0];this._removeDescriptor(t);var o=n[0];r===o||qtt(r,o)||this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:e})}},{key:"_insertDescriptor",value:function(t){var e=this._stack,n=e.findIndex((function(e){return e.id===t.id}));if(!qtt(t,e[n])){n>-1&&e.splice(n,1);var r=0;while(e[r]&&Ytt(e[r],t))r++;e.splice(r,0,t)}}},{key:"_removeDescriptor",value:function(t){var e=this._stack,n=e.findIndex((function(e){return e.id===t}));n>-1&&e.splice(n,1)}}]),t}();function qtt(t,e){return t&&e&&t.priority==e.priority&&Gtt(t.classes)==Gtt(e.classes)}function Ytt(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&Gtt(t.classes)>Gtt(e.classes)}function Gtt(t){return Array.isArray(t)?t.sort().join(","):t}Xa(Wtt,Fa);var Ktt=n("5dbf"),Jtt=n.n(Ktt),Xtt="ck-widget",Ztt="ck-widget_selected";function Qtt(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function tet(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.setAttribute("contenteditable","false",t),e.addClass(Xtt,t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=uet,n.label&&net(t,n.label,e),n.hasSelectionHandle&&cet(t,e),eet(t,e,(function(t,e,n){return n.addClass(r(e.classes),t)}),(function(t,e,n){return n.removeClass(r(e.classes),t)})),t;function r(t){return Array.isArray(t)?t:[t]}}function eet(t,e,n,r){var o=new Wtt;o.on("change:top",(function(e,o){o.oldDescriptor&&r(t,o.oldDescriptor,o.writer),o.newDescriptor&&n(t,o.newDescriptor,o.writer)})),e.setCustomProperty("addHighlight",(function(t,e,n){return o.add(e,n)}),t),e.setCustomProperty("removeHighlight",(function(t,e,n){return o.remove(e,n)}),t)}function net(t,e,n){n.setCustomProperty("widgetLabel",e,t)}function ret(t){var e=t.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function oet(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(function(n,r,o){e.setAttribute("contenteditable",o?"false":"true",t)})),t.on("change:isFocused",(function(n,r,o){o?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)})),t}function iet(t,e){var n=t.getSelectedElement();if(n&&e.schema.isBlock(n))return e.createPositionAfter(n);var r=t.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return e.createPositionAt(r,0);var o=e.createPositionAfter(r);return t.focus.isTouching(o)?o:e.createPositionBefore(r)}return t.focus}function aet(t,e){var n=new bg(dd.window),r=n.getIntersection(t),o=e.height+QZ.arrowVerticalOffset;if(t.top-o>n.top||t.bottom+o<n.bottom)return null;var i=r||t,a=i.left+i.width/2-e.width/2;return{top:Math.max(t.top,0)+QZ.arrowVerticalOffset,left:a,name:"arrow_n"}}function uet(){return null}function cet(t,e){var n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){var e=this.toDomElement(t),n=new sB;return n.set("content",Jtt.a),n.render(),e.appendChild(n.element),e}));e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function set(t,e,n){return e.setCustomProperty("media",!0,t),tet(t,e,{label:n})}function fet(t,e,n,r){var o=t.createContainerElement("figure",{class:"media"});return o.getFillerOffset=yet,t.insert(t.createPositionAt(o,0),e.getMediaViewElement(t,n,r)),o}function het(t){var e=t.getSelectedElement();return e&&e.is("media")?e:null}function pet(t,e,n){t.change((function(r){var o=r.createElement("media",{url:e});t.insertContent(o,n),r.setSelection(o,"on")}))}function yet(){return null}function det(t){return det="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},det(t)}function vet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function met(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bet(t,e,n){return e&&met(t.prototype,e),n&&met(t,n),t}function get(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wet(t,e)}function wet(t,e){return wet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wet(t,e)}function _et(t){var e=Pet();return function(){var n,r=Aet(t);if(e){var o=Aet(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ket(this,n)}}function ket(t,e){return!e||"object"!==det(e)&&"function"!==typeof e?Oet(t):e}function Oet(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pet(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Aet(t){return Aet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Aet(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ret=function(t){get(n,t);var e=_et(n);function n(){return vet(this,n),e.apply(this,arguments)}return bet(n,[{key:"refresh",value:function(){var t=this.editor.model,e=t.document.selection,n=t.schema,r=e.getFirstPosition(),o=het(e),i=r.parent;i!=i.root&&(i=i.parent),this.value=o?o.getAttribute("url"):null,this.isEnabled=n.checkChild(i,"media")}},{key:"execute",value:function(t){var e=this.editor.model,n=e.document.selection,r=het(n);if(r)e.change((function(e){e.setAttribute("url",t,r)}));else{var o=iet(n,e);pet(e,t,o)}}}]),n}(eU),jet=n("1bd3"),Eet=n.n(jet);function xet(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Tet(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Tet(t,e){if(t){if("string"===typeof t)return Cet(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cet(t,e):void 0}}function Cet(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Det(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Met(t,e,n){return e&&Det(t.prototype,e),n&&Det(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Net="0 0 64 42",Vet=function(){function t(e,n){Iet(this,t);var r=n.providers,o=n.extraProviders||[],i=new Set(n.removeProviders),a=r.concat(o).filter((function(t){var e=t.name;return e?!i.has(e):(console.warn(Object(Oa["a"])("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:t}),!1)}));this.locale=e,this.providerDefinitions=a}return Met(t,[{key:"hasMedia",value:function(t){return!!this._getMedia(t)}},{key:"getMediaViewElement",value:function(t,e,n){return this._getMedia(e).getViewElement(t,n)}},{key:"_getMedia",value:function(t){if(!t)return new Bet(this.locale);t=t.trim();var e,n=xet(this.providerDefinitions);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.html,i=r.url;Array.isArray(i)||(i=[i]);var a,u=xet(i);try{for(u.s();!(a=u.n()).done;){var c=a.value,s=this._getUrlMatches(t,c);if(s)return new Bet(this.locale,t,s,o)}}catch(l){u.e(l)}finally{u.f()}}}catch(l){n.e(l)}finally{n.f()}return null}},{key:"_getUrlMatches",value:function(t,e){var n=t.match(e);if(n)return n;var r=t.replace(/^https?:\/\//,"");return n=r.match(e),n||(r=r.replace(/^www\./,""),n=r.match(e),n||null)}}]),t}(),Bet=function(){function t(e,n,r,o){Iet(this,t),this.url=this._getValidUrl(n),this._t=e.t,this._match=r,this._previewRenderer=o}return Met(t,[{key:"getViewElement",value:function(t,e){var n,r={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(r["data-oembed-url"]=this.url),e.renderForEditingView&&(r.class="ck-media__wrapper");var o=this._getPreviewHtml(e);n=t.createUIElement("div",r,(function(t){var e=this.toDomElement(t);return e.innerHTML=o,e}))}else this.url&&(r.url=this.url),n=t.createEmptyElement("oembed",r);return t.setCustomProperty("media-content",!0,n),n}},{key:"_getPreviewHtml",value:function(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var t=new gB,e=new sB;t.text=this._t("Open media in new tab"),e.content=Eet.a,e.viewBox=Net;var n=new sD({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render();return n.outerHTML}},{key:"_getValidUrl",value:function(t){return t?t.match(/^https?/)?t:"https://"+t:null}}]),t}();n("d1c4");function Fet(t){return Fet="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fet(t)}function Let(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uet(t,e,n){return e&&zet(t.prototype,e),n&&zet(t,n),t}function Het(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$et(t,e)}function $et(t,e){return $et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$et(t,e)}function Wet(t){var e=Get();return function(){var n,r=Ket(t);if(e){var o=Ket(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qet(this,n)}}function qet(t,e){return!e||"object"!==Fet(e)&&"function"!==typeof e?Yet(t):e}function Yet(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Get(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ket(t){return Ket=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ket(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Jet=function(t){Het(n,t);var e=Wet(n);function n(t){var r;return Let(this,n),r=e.call(this,t),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(t){var e=t[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+'<iframe src="https://www.dailymotion.com/embed/video/'.concat(e,'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(t){var e=t[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+'<iframe src="https://open.spotify.com/embed/'.concat(e,'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function(t){var e=t[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+'<iframe src="https://www.youtube.com/embed/'.concat(e,'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(t){var e=t[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+'<iframe src="https://player.vimeo.com/video/'.concat(e,'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),r.registry=new Vet(t.locale,t.config.get("mediaEmbed")),r}return Uet(n,null,[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),Uet(n,[{key:"init",value:function(){var t=this.editor,e=t.model.schema,n=t.t,r=t.conversion,o=t.config.get("mediaEmbed.previewsInData"),i=this.registry;t.commands.add("mediaEmbed",new Ret(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),r.for("dataDowncast").elementToElement({model:"media",view:function(t,e){var n=t.getAttribute("url");return fet(e,i,n,{renderMediaPreview:n&&o})}}),r.for("dataDowncast").add(ztt(i,{renderMediaPreview:o})),r.for("editingDowncast").elementToElement({model:"media",view:function(t,e){var r=t.getAttribute("url"),o=fet(e,i,r,{renderForEditingView:!0});return set(o,e,n("media widget"))}}),r.for("editingDowncast").add(ztt(i,{renderForEditingView:!0})),r.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:function(t,e){var n=t.getAttribute("url");if(i.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(t,e){var n=t.getAttribute("data-oembed-url");if(i.hasMedia(n))return e.createElement("media",{url:n})}})}}]),n}(pz);function Xet(t){return Xet="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xet(t)}function Zet(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Qet(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Qet(t,e){if(t){if("string"===typeof t)return tnt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tnt(t,e):void 0}}function tnt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ent(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rnt(t,e,n){return e&&nnt(t.prototype,e),n&&nnt(t,n),t}function ont(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&int(t,e)}function int(t,e){return int=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},int(t,e)}function ant(t){var e=snt();return function(){var n,r=lnt(t);if(e){var o=lnt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return unt(this,n)}}function unt(t,e){return!e||"object"!==Xet(e)&&"function"!==typeof e?cnt(t):e}function cnt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function snt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function lnt(t){return lnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lnt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var fnt=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/,hnt=function(t){ont(n,t);var e=ant(n);function n(t){var r;return ent(this,n),r=e.call(this,t),r._timeoutId=null,r._positionToInsert=null,r}return rnt(n,null,[{key:"requires",get:function(){return[Xz,aG]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),rnt(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.model.document;this.listenTo(e.plugins.get(Xz),"inputTransformation",(function(){var e=n.selection.getFirstRange(),r=Ux.fromPosition(e.start);r.stickiness="toPrevious";var o=Ux.fromPosition(e.end);o.stickiness="toNext",n.once("change:data",(function(){t._embedMediaBetweenPositions(r,o),r.detach(),o.detach()}),{priority:"high"})})),e.commands.get("undo").on("execute",(function(){t._timeoutId&&(dd.window.clearTimeout(t._timeoutId),t._positionToInsert.detach(),t._timeoutId=null,t._positionToInsert=null)}),{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(t,e){var n,r=this,o=this.editor,i=o.plugins.get(Jet).registry,a=new ik(t,e),u=a.getWalker({ignoreElementEnd:!0}),c="",s=Zet(u);try{for(s.s();!(n=s.n()).done;){var l=n.value;l.item.is("textProxy")&&(c+=l.item.data)}}catch(h){s.e(h)}finally{s.f()}if(c=c.trim(),c.match(fnt))if(i.hasMedia(c)){var f=o.commands.get("mediaEmbed");f.isEnabled?(this._positionToInsert=Ux.fromPosition(t),this._timeoutId=dd.window.setTimeout((function(){o.model.change((function(t){var e;r._timeoutId=null,t.remove(a),a.detach(),"$graveyard"!==r._positionToInsert.root.rootName&&(e=r._positionToInsert),pet(o.model,c,e),r._positionToInsert.detach(),r._positionToInsert=null}))}),100)):a.detach()}else a.detach();else a.detach()}}]),n}(pz);n("19d2");function pnt(t){return pnt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pnt(t)}function ynt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=dnt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function dnt(t,e){if(t){if("string"===typeof t)return vnt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vnt(t,e):void 0}}function vnt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gnt(t,e,n){return e&&bnt(t.prototype,e),n&&bnt(t,n),t}function wnt(t,e,n){return wnt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_nt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},wnt(t,e,n||t)}function _nt(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=jnt(t),null===t)break;return t}function knt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Snt(t,e)}function Snt(t,e){return Snt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Snt(t,e)}function Ont(t){var e=Rnt();return function(){var n,r=jnt(t);if(e){var o=jnt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pnt(this,n)}}function Pnt(t,e){return!e||"object"!==pnt(e)&&"function"!==typeof e?Ant(t):e}function Ant(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rnt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function jnt(t){return jnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jnt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ent=function(t){knt(n,t);var e=Ont(n);function n(t,r){var o;mnt(this,n),o=e.call(this,r);var i=r.t;return o.focusTracker=new IC,o.keystrokes=new HT,o.urlInputView=o._createUrlInput(),o.saveButtonView=o._createButton(i("Save"),QQ.a,"ck-button-save"),o.saveButtonView.type="submit",o.cancelButtonView=o._createButton(i("Cancel"),e0.a,"ck-button-cancel","cancel"),o._focusables=new NI,o._focusCycler=new zN({focusables:o._focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),o._validators=t,o.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[o.urlInputView,o.saveButtonView,o.cancelButtonView]}),o}return gnt(n,[{key:"render",value:function(){var t=this;wnt(jnt(n.prototype),"render",this).call(this),XQ({view:this});var e=[this.urlInputView,this.saveButtonView,this.cancelButtonView];e.forEach((function(e){t._focusables.add(e),t.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element);var r=function(t){return t.stopPropagation()};this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r),this.listenTo(this.urlInputView.element,"selectstart",(function(t,e){e.stopPropagation()}),{priority:"high"})}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"isValid",value:function(){this.resetFormStatus();var t,e=ynt(this._validators);try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n(this);if(r)return this.urlInputView.errorText=r,!1}}catch(o){e.e(o)}finally{e.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var t=this,e=this.locale.t,n=new MQ(this.locale,JQ),r=n.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),n.label=e("Media URL"),n.infoText=this._urlInputViewInfoDefault,r.placeholder="https://example.com",r.on("input",(function(){n.infoText=r.element.value?t._urlInputViewInfoTip:t._urlInputViewInfoDefault})),n}},{key:"_createButton",value:function(t,e,n,r){var o=new IB(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(t){this.urlInputView.fieldView.element.value=t.trim()}}]),n}(zD),xnt=n("2d3ad"),Tnt=n.n(xnt);function Cnt(t){return Cnt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cnt(t)}function Int(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mnt(t,e,n){return e&&Dnt(t.prototype,e),n&&Dnt(t,n),t}function Nnt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vnt(t,e)}function Vnt(t,e){return Vnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vnt(t,e)}function Bnt(t){var e=znt();return function(){var n,r=Unt(t);if(e){var o=Unt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fnt(this,n)}}function Fnt(t,e){return!e||"object"!==Cnt(e)&&"function"!==typeof e?Lnt(t):e}function Lnt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function znt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Unt(t){return Unt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Unt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Hnt=function(t){Nnt(n,t);var e=Bnt(n);function n(){return Int(this,n),e.apply(this,arguments)}return Mnt(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.commands.get("mediaEmbed"),r=e.plugins.get(Jet).registry;e.ui.componentFactory.add("mediaEmbed",(function(o){var i=iL(o),a=new Ent($nt(e.t,r),e.locale);return t._setUpDropdown(i,a,n,e),t._setUpForm(i,a,n),i}))}},{key:"_setUpDropdown",value:function(t,e,n){var r=this.editor,o=r.t,i=t.buttonView;function a(){r.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),i.set({label:o("Insert media"),icon:Tnt.a,tooltip:!0}),i.on("open",(function(){e.url=n.value||"",e.urlInputView.fieldView.select(),e.focus()}),{priority:"low"}),t.on("submit",(function(){e.isValid()&&(r.execute("mediaEmbed",e.url),a())})),t.on("change:isOpen",(function(){return e.resetFormStatus()})),t.on("cancel",(function(){return a()}))}},{key:"_setUpForm",value:function(t,e,n){e.delegate("submit","cancel").to(t),e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(t){return!t})),e.saveButtonView.bind("isEnabled").to(n)}}],[{key:"requires",get:function(){return[Jet]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),n}(pz);function $nt(t,e){return[function(e){if(!e.url.length)return t("The URL must not be empty.")},function(n){if(!e.hasMedia(n.url))return t("This media URL is not supported.")}]}function Wnt(t){return Wnt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wnt(t)}function qnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ynt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gnt(t,e,n){return e&&Ynt(t.prototype,e),n&&Ynt(t,n),t}function Knt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jnt(t,e)}function Jnt(t,e){return Jnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Jnt(t,e)}function Xnt(t){var e=trt();return function(){var n,r=ert(t);if(e){var o=ert(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Znt(this,n)}}function Znt(t,e){return!e||"object"!==Wnt(e)&&"function"!==typeof e?Qnt(t):e}function Qnt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function trt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ert(t){return ert=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ert(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var nrt=function(t){Knt(n,t);var e=Xnt(n);function n(t){var r;return qnt(this,n),r=e.call(this,t),r.domEventType="mousedown",r}return Gnt(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),n}(km);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rrt(t,e,n){return t&&Qtt(t)&&!n.isInline(e)}function ort(t){return t.closest(".ck-widget__type-around__button")}function irt(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function art(t,e){var n=t.closest(".ck-widget");return e.mapDomToView(n)}function urt(t){var e=[];return(crt(t)||lrt(t))&&e.push("before"),(srt(t)||frt(t))&&e.push("after"),e}function crt(t){return!t.previousSibling}function srt(t){return!t.nextSibling}function lrt(t){return t.previousSibling&&Qtt(t.previousSibling)}function frt(t){return t.nextSibling&&Qtt(t.nextSibling)}var hrt=n("c7cb"),prt=n.n(hrt);n("e472");function yrt(t){return yrt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yrt(t)}function drt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=vrt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function vrt(t,e){if(t){if("string"===typeof t)return mrt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mrt(t,e):void 0}}function mrt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function brt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function grt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wrt(t,e,n){return e&&grt(t.prototype,e),n&&grt(t,n),t}function _rt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&krt(t,e)}function krt(t,e){return krt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},krt(t,e)}function Srt(t){var e=Art();return function(){var n,r=Rrt(t);if(e){var o=Rrt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ort(this,n)}}function Ort(t,e){return!e||"object"!==yrt(e)&&"function"!==typeof e?Prt(t):e}function Prt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Art(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Rrt(t){return Rrt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rrt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var jrt=["before","after"],Ert=(new DOMParser).parseFromString(prt.a,"image/svg+xml").firstChild,xrt=function(t){_rt(n,t);var e=Srt(n);function n(t){var r;return brt(this,n),r=e.call(this,t),r._widgetsWithTypeAroundUI=new Set,r}return wrt(n,null,[{key:"requires",get:function(){return[a2]}},{key:"pluginName",get:function(){return"WidgetTypeAround"}}]),wrt(n,[{key:"destroy",value:function(){this._widgetsWithTypeAroundUI.clear()}},{key:"init",value:function(){this._enableTypeAroundUIInjection(),this._enableDetectionOfTypeAroundWidgets(),this._enableInsertingParagraphsOnButtonClick()}},{key:"_insertParagraph",value:function(t,e){var n,r=this.editor,o=r.editing.view,i=r.editing.mapper.toModelElement(t);n="before"===e?r.model.createPositionBefore(i):r.model.createPositionAfter(i),r.execute("insertParagraph",{position:n}),o.focus(),o.scrollToTheSelection()}},{key:"_enableTypeAroundUIInjection",value:function(){var t=this,e=this.editor,n=e.model.schema,r=e.locale.t,o={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(function(e,r,i){var a=i.mapper.toViewElement(r.item);rrt(a,r.item,n)&&(Trt(i.writer,o,a),t._widgetsWithTypeAroundUI.add(a))}),{priority:"low"})}},{key:"_enableDetectionOfTypeAroundWidgets",value:function(){var t=this,e=this.editor,n=e.editing.view;function r(t){return"ck-widget_can-type-around_".concat(t)}n.document.registerPostFixer((function(e){var n,o=drt(t._widgetsWithTypeAroundUI);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.isAttached()){var a=urt(i);e.removeClass(jrt.map(r),i),e.addClass(a.map(r),i)}else t._widgetsWithTypeAroundUI.delete(i)}}catch(u){o.e(u)}finally{o.f()}}))}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var t=this,e=this.editor,n=e.editing.view;n.document.on("mousedown",(function(e,r){var o=ort(r.domTarget);if(o){var i=irt(o),a=art(o,n.domConverter);t._insertParagraph(a,i),r.preventDefault(),e.stop()}}))}}]),n}(pz);function Trt(t,e,n){var r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(t){var n=this.toDomElement(t);return Crt(n,e),n}));t.insert(t.createPositionAt(n,"end"),r)}function Crt(t,e){var n,r=drt(jrt);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=new sD({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_".concat(o)],title:e[o]},children:[t.ownerDocument.importNode(Ert,!0)]});t.appendChild(i.render())}}catch(a){r.e(a)}finally{r.f()}}n("fecc");function Irt(t){return Irt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Irt(t)}function Drt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Mrt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Mrt(t,e){if(t){if("string"===typeof t)return Nrt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nrt(t,e):void 0}}function Nrt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Brt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Frt(t,e,n){return e&&Brt(t.prototype,e),n&&Brt(t,n),t}function Lrt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zrt(t,e)}function zrt(t,e){return zrt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zrt(t,e)}function Urt(t){var e=Wrt();return function(){var n,r=qrt(t);if(e){var o=qrt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hrt(this,n)}}function Hrt(t,e){return!e||"object"!==Irt(e)&&"function"!==typeof e?$rt(t):e}function $rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wrt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function qrt(t){return qrt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qrt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Yrt=function(t){Lrt(n,t);var e=Urt(n);function n(){return Vrt(this,n),e.apply(this,arguments)}return Frt(n,[{key:"init",value:function(){var t=this,e=this.editor.editing.view,n=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(function(e,n,r){t._clearPreviouslySelectedWidgets(r.writer);var o,i=r.writer,a=i.document.selection,u=a.getSelectedElement(),c=null,s=Drt(a.getRanges());try{for(s.s();!(o=s.n()).done;){var l,f=o.value,h=Drt(f);try{for(h.s();!(l=h.n()).done;){var p=l.value,y=p.item;Qtt(y)&&!Jrt(y,c)&&(i.addClass(Ztt,y),t._previouslySelected.add(y),c=y,y==u&&i.setSelection(a.getRanges(),{fake:!0,label:ret(u)}))}}catch(d){h.e(d)}finally{h.f()}}}catch(d){s.e(d)}finally{s.f()}}),{priority:"low"}),e.addObserver(nrt),this.listenTo(n,"mousedown",(function(){return t._onMousedown.apply(t,arguments)})),this.listenTo(n,"keydown",(function(){return t._onKeydown.apply(t,arguments)}),{priority:"high"}),this.listenTo(n,"delete",(function(e,n){t._handleDelete("forward"==n.direction)&&(n.preventDefault(),e.stop())}),{priority:"high"})}},{key:"_onMousedown",value:function(t,e){var n=this.editor,r=n.editing.view,o=r.document,i=e.target;if(Krt(i)){if(Rp.isSafari&&e.domEvent.detail>=3){var a=n.editing.mapper,u=a.toModelElement(i);this.editor.model.change((function(t){e.preventDefault(),t.setSelection(u,"in")}))}}else if(Qtt(i)||(i=i.findAncestor(Qtt),i)){e.preventDefault(),o.isFocused||r.focus();var c=n.editing.mapper.toModelElement(i);this._setSelectionOverElement(c)}}},{key:"_onKeydown",value:function(t,e){var n=e.keyCode,r="ltr"===this.editor.locale.contentLanguageDirection,o=n==Mp.arrowdown||n==Mp[r?"arrowright":"arrowleft"],i=!1;Grt(n)?i=this._handleArrowKeys(o):n===Mp.enter&&(i=this._handleEnterKey(e.shiftKey)),i&&(e.preventDefault(),t.stop())}},{key:"_handleDelete",value:function(t){var e=this;if(!this.editor.isReadOnly){var n=this.editor.model.document,r=n.selection;if(r.isCollapsed){var o=this._getObjectElementNextToSelection(t);return o?(this.editor.model.change((function(t){var n=r.anchor.parent;while(n.isEmpty){var i=n;n=i.parent,t.remove(i)}e._setSelectionOverElement(o)})),!0):void 0}}}},{key:"_handleArrowKeys",value:function(t){var e=this.editor.model,n=e.schema,r=e.document,o=r.selection,i=o.getSelectedElement();if(i&&n.isObject(i)){var a=t?o.getLastPosition():o.getFirstPosition(),u=n.getNearestSelectionRange(a,t?"forward":"backward");return u&&e.change((function(t){t.setSelection(u)})),!0}if(o.isCollapsed){var c=this._getObjectElementNextToSelection(t);return c&&n.isObject(c)?(this._setSelectionOverElement(c),!0):void 0}}},{key:"_handleEnterKey",value:function(t){var e=this.editor.model,n=e.document.selection,r=n.getSelectedElement();if(Xrt(r,e.schema))return e.change((function(n){var o=n.createPositionAt(r,t?"before":"after"),i=n.createElement("paragraph");if(e.schema.isBlock(r.parent)){var a=e.schema.findAllowedParent(o,i);o=n.split(o,a).position}n.insert(i,o),n.setSelection(i,"in")})),!0}},{key:"_setSelectionOverElement",value:function(t){this.editor.model.change((function(e){e.setSelection(e.createRangeOn(t))}))}},{key:"_getObjectElementNextToSelection",value:function(t){var e=this.editor.model,n=e.schema,r=e.document.selection,o=e.createSelection(r);e.modifySelection(o,{direction:t?"forward":"backward"});var i=t?o.focus.nodeBefore:o.focus.nodeAfter;return i&&n.isObject(i)?i:null}},{key:"_clearPreviouslySelectedWidgets",value:function(t){var e,n=Drt(this._previouslySelected);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.removeClass(Ztt,r)}}catch(o){n.e(o)}finally{n.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[xrt]}}]),n}(pz);function Grt(t){return t==Mp.arrowright||t==Mp.arrowleft||t==Mp.arrowup||t==Mp.arrowdown}function Krt(t){while(t){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(Qtt(t))return!1;t=t.parent}return!1}function Jrt(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}function Xrt(t,e){return t&&e.isObject(t)&&!e.isInline(t)}n("f9d3");function Zrt(t){return Zrt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zrt(t)}function Qrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eot(t,e,n){return e&&tot(t.prototype,e),n&&tot(t,n),t}function not(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rot(t,e)}function rot(t,e){return rot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rot(t,e)}function oot(t){var e=uot();return function(){var n,r=cot(t);if(e){var o=cot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iot(this,n)}}function iot(t,e){return!e||"object"!==Zrt(e)&&"function"!==typeof e?aot(t):e}function aot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function cot(t){return cot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cot(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var sot=function(t){not(n,t);var e=oot(n);function n(){return Qrt(this,n),e.apply(this,arguments)}return eot(n,null,[{key:"requires",get:function(){return[Jet,Hnt,hnt,Yrt]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),n}(pz);function lot(t){return lot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lot(t)}function fot(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=hot(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function hot(t,e){if(t){if("string"===typeof t)return pot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pot(t,e):void 0}}function pot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vot(t,e,n){return e&&dot(t.prototype,e),n&&dot(t,n),t}function mot(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bot(t,e)}function bot(t,e){return bot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},bot(t,e)}function got(t){var e=kot();return function(){var n,r=Sot(t);if(e){var o=Sot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wot(this,n)}}function wot(t,e){return!e||"object"!==lot(e)&&"function"!==typeof e?_ot(t):e}function _ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Sot(t){return Sot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sot(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Oot=function(t){mot(n,t);var e=got(n);function n(t,r){var o;return yot(this,n),o=e.call(this,t),o.type=r,o}return vot(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=this.editor.model,n=e.document,r=Array.from(n.selection.getSelectedBlocks()).filter((function(t){return Aot(t,e.schema)})),o=!0===this.value;e.change((function(e){if(o){var n=r[r.length-1].nextSibling,i=Number.POSITIVE_INFINITY,a=[];while(n&&"listItem"==n.name&&0!==n.getAttribute("listIndent")){var u=n.getAttribute("listIndent");u<i&&(i=u);var c=u-i;a.push({element:n,listIndent:c}),n=n.nextSibling}a=a.reverse();var s,l=fot(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;e.setAttribute("listIndent",f.listIndent,f.element)}}catch(g){l.e(g)}finally{l.f()}}if(!o){var h,p=Number.POSITIVE_INFINITY,y=fot(r);try{for(y.s();!(h=y.n()).done;){var d=h.value;d.is("listItem")&&d.getAttribute("listIndent")<p&&(p=d.getAttribute("listIndent"))}}catch(g){y.e(g)}finally{y.f()}p=0===p?1:p,Pot(r,!0,p),Pot(r,!1,p)}var v,m=fot(r.reverse());try{for(m.s();!(v=m.n()).done;){var b=v.value;o&&"listItem"==b.name?e.rename(b,"paragraph"):o||"listItem"==b.name?o||"listItem"!=b.name||b.getAttribute("listType")==t.type||e.setAttribute("listType",t.type,b):(e.setAttributes({listType:t.type,listIndent:0},b),e.rename(b,"listItem"))}}catch(g){m.e(g)}finally{m.f()}}))}},{key:"_getValue",value:function(){var t=m1(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=m1(t.getSelectedBlocks());return!!n&&Aot(n,e)}}]),n}(eU);function Pot(t,e,n){var r=e?t[0]:t[t.length-1];if(r.is("listItem")){var o=r[e?"previousSibling":"nextSibling"],i=r.getAttribute("listIndent");while(o&&o.is("listItem")&&o.getAttribute("listIndent")>=n)i>o.getAttribute("listIndent")&&(i=o.getAttribute("listIndent")),o.getAttribute("listIndent")==i&&t[e?"unshift":"push"](o),o=o[e?"previousSibling":"nextSibling"]}}function Aot(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}function Rot(t){return Rot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rot(t)}function jot(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Eot(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Eot(t,e){if(t){if("string"===typeof t)return xot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xot(t,e):void 0}}function xot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iot(t,e,n){return e&&Cot(t.prototype,e),n&&Cot(t,n),t}function Dot(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mot(t,e)}function Mot(t,e){return Mot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mot(t,e)}function Not(t){var e=Fot();return function(){var n,r=Lot(t);if(e){var o=Lot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vot(this,n)}}function Vot(t,e){return!e||"object"!==Rot(e)&&"function"!==typeof e?Bot(t):e}function Bot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Lot(t){return Lot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lot(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var zot=function(t){Dot(n,t);var e=Not(n);function n(t,r){var o;return Tot(this,n),o=e.call(this,t),o._indentBy="forward"==r?1:-1,o}return Iot(n,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=this.editor.model,n=e.document,r=Array.from(n.selection.getSelectedBlocks());e.change((function(e){var n=r[r.length-1],o=n.nextSibling;while(o&&"listItem"==o.name&&o.getAttribute("listIndent")>n.getAttribute("listIndent"))r.push(o),o=o.nextSibling;t._indentBy<0&&(r=r.reverse());var i,a=jot(r);try{for(a.s();!(i=a.n()).done;){var u=i.value,c=u.getAttribute("listIndent")+t._indentBy;c<0?e.rename(u,"paragraph"):e.setAttribute("listIndent",c,u)}}catch(s){a.e(s)}finally{a.f()}}))}},{key:"_checkEnabled",value:function(){var t=m1(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){var e=t.getAttribute("listIndent"),n=t.getAttribute("listType"),r=t.previousSibling;while(r&&r.is("listItem")&&r.getAttribute("listIndent")>=e){if(r.getAttribute("listIndent")==e)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}]),n}(eU);function Uot(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Hot(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Hot(t,e){if(t){if("string"===typeof t)return $ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$ot(t,e):void 0}}function $ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Wot(t){var e=t.createContainerElement("li");return e.getFillerOffset=Zot,e}function qot(t,e){var n=e.mapper,r=e.writer,o="numbered"==t.getAttribute("listType")?"ol":"ul",i=Wot(r),a=r.createContainerElement(o,null);return r.insert(r.createPositionAt(a,0),i),n.bindElements(t,i),i}function Yot(t,e,n,r){var o=e.parent,i=n.mapper,a=n.writer,u=i.toViewPosition(r.createPositionBefore(t)),c=Jot(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),s=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){var l=i.toViewElement(c);u=a.breakContainer(a.createPositionAfter(l))}else u=s&&"listItem"==s.name?i.toViewPosition(r.createPositionAt(s,"end")):i.toViewPosition(r.createPositionBefore(t));if(u=Kot(u),a.insert(u,o),s&&"listItem"==s.name){var f,h=i.toViewElement(s),p=a.createRange(a.createPositionAt(h,0),u),y=p.getWalker({ignoreElementEnd:!0}),d=Uot(y);try{for(d.s();!(f=d.n()).done;){var v=f.value;if(v.item.is("li")){var m=a.breakContainer(a.createPositionBefore(v.item)),b=v.item.parent,g=a.createPositionAt(e,"end");Got(a,g.nodeBefore,g.nodeAfter),a.move(a.createRangeOn(b),g),y.position=m}}}catch(A){d.e(A)}finally{d.f()}}else{var w=o.nextSibling;if(w&&(w.is("ul")||w.is("ol"))){var _,k=null,S=Uot(w.getChildren());try{for(S.s();!(_=S.n()).done;){var O=_.value,P=i.toModelElement(O);if(!(P&&P.getAttribute("listIndent")>t.getAttribute("listIndent")))break;k=O}}catch(A){S.e(A)}finally{S.f()}k&&(a.breakContainer(a.createPositionAfter(k)),a.move(a.createRangeOn(k.parent),a.createPositionAt(e,"end")))}}Got(a,o,o.nextSibling),Got(a,o.previousSibling,o)}function Got(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function Kot(t){return t.getLastMatchingPosition((function(t){return t.item.is("uiElement")}))}function Jot(t,e){var n=!!e.sameIndent,r=!!e.smallerIndent,o=e.listIndent,i=t;while(i&&"listItem"==i.name){var a=i.getAttribute("listIndent");if(n&&o==a||r&&o>a)return i;i=i.previousSibling}return null}function Xot(t,e,n,r){t.ui.componentFactory.add(e,(function(o){var i=t.commands.get(e),a=new IB(o);return a.set({label:n,icon:r,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(i,"value","isEnabled"),a.on("execute",(function(){t.execute(e),t.editing.view.focus()})),a}))}function Zot(){var t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:df.call(this)}function Qot(t,e){return nit(t)||eit(t,e)||cit(t,e)||tit()}function tit(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eit(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function nit(t){if(Array.isArray(t))return t}function rit(t){return ait(t)||iit(t)||cit(t)||oit()}function oit(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iit(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function ait(t){if(Array.isArray(t))return sit(t)}function uit(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=cit(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function cit(t,e){if(t){if("string"===typeof t)return sit(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sit(t,e):void 0}}function sit(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function lit(t){return function(e,n,r){var o=r.consumable;if(o.test(n.item,"insert")&&o.test(n.item,"attribute:listType")&&o.test(n.item,"attribute:listIndent")){o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");var i=n.item,a=qot(i,r);Yot(i,a,r,t)}}}function fit(t){return function(e,n,r){var o=r.mapper.toViewPosition(n.position).getLastMatchingPosition((function(t){return!t.item.is("li")})),i=o.nodeAfter,a=r.writer;a.breakContainer(a.createPositionBefore(i)),a.breakContainer(a.createPositionAfter(i));var u=i.parent,c=u.previousSibling,s=a.createRangeOn(u),l=a.remove(s);c&&c.nextSibling&&Got(a,c,c.nextSibling);var f=r.mapper.toModelElement(i);Ait(f.getAttribute("listIndent")+1,n.position,s.start,i,r,t);var h,p=uit(a.createRangeIn(l).getItems());try{for(p.s();!(h=p.n()).done;){var y=h.value;r.mapper.unbindViewElement(y)}}catch(d){p.e(d)}finally{p.f()}e.stop()}}function hit(t,e,n){if(n.consumable.consume(e.item,"attribute:listType")){var r=n.mapper.toViewElement(e.item),o=n.writer;o.breakContainer(o.createPositionBefore(r)),o.breakContainer(o.createPositionAfter(r));var i=r.parent,a="numbered"==e.attributeNewValue?"ol":"ul";o.rename(a,i)}}function pit(t,e,n){var r=n.mapper.toViewElement(e.item),o=r.parent,i=n.writer;Got(i,o,o.nextSibling),Got(i,o.previousSibling,o);var a,u=uit(e.item.getChildren());try{for(u.s();!(a=u.n()).done;){var c=a.value;n.consumable.consume(c,"insert")}}catch(s){u.e(s)}finally{u.f()}}function yit(t){return function(e,n,r){if(r.consumable.consume(n.item,"attribute:listIndent")){var o=r.mapper.toViewElement(n.item),i=r.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));var a=o.parent,u=a.previousSibling,c=i.createRangeOn(a);i.remove(c),u&&u.nextSibling&&Got(i,u,u.nextSibling),Ait(n.attributeOldValue+1,n.range.start,c.start,o,r,t),Yot(n.item,o,r,t);var s,l=uit(n.item.getChildren());try{for(l.s();!(s=l.n()).done;){var f=s.value;r.consumable.consume(f,"insert")}}catch(h){l.e(h)}finally{l.f()}}}}function dit(t,e,n){if("listItem"!=e.item.name){var r=n.mapper.toViewPosition(e.range.start),o=n.writer,i=[];while("ul"==r.parent.name||"ol"==r.parent.name){if(r=o.breakContainer(r),"li"!=r.parent.name)break;var a=r,u=o.createPositionAt(r.parent,"end");if(!a.isEqual(u)){var c=o.remove(o.createRange(a,u));i.push(c)}r=o.createPositionAfter(r.parent)}if(i.length>0){for(var s=0;s<i.length;s++){var l=r.nodeBefore,f=o.insert(r,i[s]);if(r=f.end,s>0){var h=Got(o,l,l.nextSibling);h&&h.parent==l&&r.offset--}}Got(o,r.nodeBefore,r.nodeAfter)}}}function vit(t,e,n){var r=n.mapper.toViewPosition(e.position),o=r.nodeBefore,i=r.nodeAfter;Got(n.writer,o,i)}function mit(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){var r=n.writer,o=r.createElement("listItem"),i=jit(e.viewItem);r.setAttribute("listIndent",i,o);var a=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";r.setAttribute("listType",a,o);var u=n.splitToAllowedParent(o,e.modelCursor);if(!u)return;r.insert(o,u.position);var c=Oit(o,e.viewItem.getChildren(),n);e.modelRange=r.createRange(e.modelCursor,c),u.cursorParent?e.modelCursor=r.createPositionAt(u.cursorParent,0):e.modelCursor=e.modelRange.end}}function bit(t,e,n){if(n.consumable.test(e.viewItem,{name:!0}))for(var r=Array.from(e.viewItem.getChildren()),o=0,i=r;o<i.length;o++){var a=i[o],u=!(a.is("li")||Rit(a));u&&a._remove()}}function git(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;var r,o=rit(e.viewItem.getChildren()),i=!1,a=!0,u=uit(o);try{for(u.s();!(r=u.n()).done;){var c=r.value;i&&!Rit(c)&&c._remove(),c.is("text")?(a&&(c._data=c.data.replace(/^\s+/,"")),c.nextSibling&&!Rit(c.nextSibling)||(c._data=c.data.replace(/\s+$/,""))):Rit(c)&&(i=!0),a=!1}}catch(s){u.e(s)}finally{u.f()}}}function wit(t){return function(e,n){if(!n.isPhantom){var r=n.modelPosition.nodeBefore;if(r&&r.is("listItem")){var o,i=n.mapper.toViewElement(r),a=i.getAncestors().find(Rit),u=t.createPositionAt(i,0).getWalker(),c=uit(u);try{for(c.s();!(o=c.n()).done;){var s=o.value;if("elementStart"==s.type&&s.item.is("li")){n.viewPosition=s.previousPosition;break}if("elementEnd"==s.type&&s.item==a){n.viewPosition=s.nextPosition;break}}}catch(l){c.e(l)}finally{c.f()}}}}}function _it(t){return function(e,n){var r=n.viewPosition,o=r.parent,i=n.mapper;if("ul"==o.name||"ol"==o.name){if(r.isAtEnd){var a=i.toModelElement(r.nodeBefore),u=i.getModelLength(r.nodeBefore);n.modelPosition=t.createPositionBefore(a).getShiftedBy(u)}else{var c=i.toModelElement(r.nodeAfter);n.modelPosition=t.createPositionBefore(c)}e.stop()}else if("li"==o.name&&r.nodeBefore&&("ul"==r.nodeBefore.name||"ol"==r.nodeBefore.name)){var s=i.toModelElement(o),l=1,f=r.nodeBefore;while(f&&Rit(f))l+=i.getModelLength(f),f=f.previousSibling;n.modelPosition=t.createPositionBefore(s).getShiftedBy(l),e.stop()}}}function kit(t,e){var n,r=t.document.differ.getChanges(),o=new Map,i=!1,a=uit(r);try{for(a.s();!(n=a.n()).done;){var u=n.value;if("insert"==u.type&&"listItem"==u.name)v(u.position);else if("insert"==u.type&&"listItem"!=u.name){if("$text"!=u.name){var c=u.position.nodeAfter;c.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",c),i=!0),c.hasAttribute("listType")&&(e.removeAttribute("listType",c),i=!0);var s,l=uit(Array.from(t.createRangeIn(c)).filter((function(t){return t.item.is("listItem")})));try{for(l.s();!(s=l.n()).done;){var f=s.value;v(f.previousPosition)}}catch(g){l.e(g)}finally{l.f()}}var h=u.position.getShiftedBy(u.length);v(h)}else"remove"==u.type&&"listItem"==u.name?v(u.position):("attribute"==u.type&&"listIndent"==u.attributeKey||"attribute"==u.type&&"listType"==u.attributeKey)&&v(u.range.start)}}catch(g){a.e(g)}finally{a.f()}var p,y=uit(o.values());try{for(y.s();!(p=y.n()).done;){var d=p.value;m(d),b(d)}}catch(g){y.e(g)}finally{y.f()}return i;function v(t){var e=t.nodeBefore;if(e&&e.is("listItem")){var n=e;if(o.has(n))return;for(var r=n.previousSibling;r&&r.is("listItem");r=n.previousSibling)if(n=r,o.has(n))return;o.set(e,n)}else{var i=t.nodeAfter;i&&i.is("listItem")&&o.set(i,i)}}function m(t){var n=0,r=null;while(t&&t.is("listItem")){var o=t.getAttribute("listIndent");if(o>n){var a=void 0;null===r?(r=o-n,a=n):(r>o&&(r=o),a=o-r),e.setAttribute("listIndent",a,t),i=!0}else r=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function b(t){var n=[],r=null;while(t&&t.is("listItem")){var o=t.getAttribute("listIndent");if(r&&r.getAttribute("listIndent")>o&&(n=n.slice(0,o+1)),0!=o)if(n[o]){var a=n[o];t.getAttribute("listType")!=a&&(e.setAttribute("listType",a,t),i=!0)}else n[o]=t.getAttribute("listType");r=t,t=t.nextSibling}}}function Sit(t,e){var n,r=Qot(e,2),o=r[0],i=r[1],a=o.is("documentFragment")?o.getChild(0):o;if(n=i?this.createSelection(i):this.document.selection,a&&a.is("listItem")){var u=n.getFirstPosition(),c=null;if(u.parent.is("listItem")?c=u.parent:u.nodeBefore&&u.nodeBefore.is("listItem")&&(c=u.nodeBefore),c){var s=c.getAttribute("listIndent");if(s>0)while(a&&a.is("listItem"))a._setAttribute("listIndent",a.getAttribute("listIndent")+s),a=a.nextSibling}}}function Oit(t,e,n){var r,o=n.writer,i=n.schema,a=o.createPositionAfter(t),u=uit(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;if("ul"==c.name||"ol"==c.name)a=n.convertItem(c,a).modelCursor;else{var s=n.convertItem(c,o.createPositionAt(t,"end")),l=s.modelRange.start.nodeAfter,f=l&&l.is("element")&&!i.checkChild(t,l.name);f&&(t=s.modelCursor.parent.is("listItem")?s.modelCursor.parent:Pit(s.modelCursor),a=o.createPositionAfter(t))}}}catch(h){u.e(h)}finally{u.f()}return a}function Pit(t){var e,n=new $w({startPosition:t});do{e=n.next()}while(!e.value.item.is("listItem"));return e.value.item}function Ait(t,e,n,r,o,i){var a,u=Jot(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),c=o.mapper,s=o.writer,l=u?u.getAttribute("listIndent"):null;if(u)if(l==t){var f=c.toViewElement(u).parent;a=s.createPositionAfter(f)}else{var h=i.createPositionAt(u,"end");a=c.toViewPosition(h)}else a=n;a=Kot(a);for(var p=0,y=rit(r.getChildren());p<y.length;p++){var d=y[p];Rit(d)&&(a=s.move(s.createRangeOn(d),a).end,Got(s,d,d.nextSibling),Got(s,d.previousSibling,d))}}function Rit(t){return t.is("ol")||t.is("ul")}function jit(t){var e=0,n=t.parent;while(n){if(n.is("li"))e++;else{var r=n.previousSibling;r&&r.is("li")&&e++}n=n.parent}return e}function Eit(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=xit(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function xit(t,e){if(t){if("string"===typeof t)return Tit(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tit(t,e):void 0}}function Tit(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cit(t){return Cit="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cit(t)}function Iit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mit(t,e,n){return e&&Dit(t.prototype,e),n&&Dit(t,n),t}function Nit(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vit(t,e)}function Vit(t,e){return Vit=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vit(t,e)}function Bit(t){var e=zit();return function(){var n,r=Uit(t);if(e){var o=Uit(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fit(this,n)}}function Fit(t,e){return!e||"object"!==Cit(e)&&"function"!==typeof e?Lit(t):e}function Lit(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zit(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Uit(t){return Uit=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uit(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Hit=function(t){Nit(n,t);var e=Bit(n);function n(){return Iit(this,n),e.apply(this,arguments)}return Mit(n,[{key:"init",value:function(){var t=this,e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n=e.data,r=e.editing;e.model.document.registerPostFixer((function(t){return kit(e.model,t)})),r.mapper.registerViewToModelLength("li",$it),n.mapper.registerViewToModelLength("li",$it),r.mapper.on("modelToViewPosition",wit(r.view)),r.mapper.on("viewToModelPosition",_it(e.model)),n.mapper.on("modelToViewPosition",wit(r.view)),e.conversion.for("editingDowncast").add((function(t){t.on("insert",dit,{priority:"high"}),t.on("insert:listItem",lit(e.model)),t.on("attribute:listType:listItem",hit,{priority:"high"}),t.on("attribute:listType:listItem",pit,{priority:"low"}),t.on("attribute:listIndent:listItem",yit(e.model)),t.on("remove:listItem",fit(e.model)),t.on("remove",vit,{priority:"low"})})),e.conversion.for("dataDowncast").add((function(t){t.on("insert",dit,{priority:"high"}),t.on("insert:listItem",lit(e.model))})),e.conversion.for("upcast").add((function(t){t.on("element:ul",bit,{priority:"high"}),t.on("element:ol",bit,{priority:"high"}),t.on("element:li",git,{priority:"high"}),t.on("element:li",mit)})),e.model.on("insertContent",Sit,{priority:"high"}),e.commands.add("numberedList",new Oot(e,"numbered")),e.commands.add("bulletedList",new Oot(e,"bulleted")),e.commands.add("indentList",new zot(e,"forward")),e.commands.add("outdentList",new zot(e,"backward"));var o=r.view.document;this.listenTo(o,"enter",(function(e,n){var r=t.editor.model.document,o=r.selection.getLastPosition().parent;r.selection.isCollapsed&&"listItem"==o.name&&o.isEmpty&&(t.editor.execute("outdentList"),n.preventDefault(),e.stop())})),this.listenTo(o,"delete",(function(e,n){if("backward"===n.direction){var r=t.editor.model.document.selection;if(r.isCollapsed){var o=r.getFirstPosition();if(o.isAtStart){var i=o.parent;if("listItem"===i.name){var a=i.previousSibling&&"listItem"===i.previousSibling.name;a||(t.editor.execute("outdentList"),n.preventDefault(),e.stop())}}}}}),{priority:"high"});var i=function(e){return function(n,r){var o=t.editor.commands.get(e);o.isEnabled&&(t.editor.execute(e),r())}};e.keystrokes.set("Tab",i("indentList")),e.keystrokes.set("Shift+Tab",i("outdentList"))}},{key:"afterInit",value:function(){var t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[a2]}}]),n}(pz);function $it(t){var e,n=1,r=Eit(t.getChildren());try{for(r.s();!(e=r.n()).done;){var o=e.value;if("ul"==o.name||"ol"==o.name){var i,a=Eit(o.getChildren());try{for(a.s();!(i=a.n()).done;){var u=i.value;n+=$it(u)}}catch(c){a.e(c)}finally{a.f()}}}}catch(c){r.e(c)}finally{r.f()}return n}var Wit=n("dde1"),qit=n.n(Wit),Yit=n("7eec"),Git=n.n(Yit);function Kit(t){return Kit="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kit(t)}function Jit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zit(t,e,n){return e&&Xit(t.prototype,e),n&&Xit(t,n),t}function Qit(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tat(t,e)}function tat(t,e){return tat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tat(t,e)}function eat(t){var e=oat();return function(){var n,r=iat(t);if(e){var o=iat(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nat(this,n)}}function nat(t,e){return!e||"object"!==Kit(e)&&"function"!==typeof e?rat(t):e}function rat(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oat(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function iat(t){return iat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iat(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var aat=function(t){Qit(n,t);var e=eat(n);function n(){return Jit(this,n),e.apply(this,arguments)}return Zit(n,[{key:"init",value:function(){var t=this.editor.t;Xot(this.editor,"numberedList",t("Numbered List"),qit.a),Xot(this.editor,"bulletedList",t("Bulleted List"),Git.a)}}]),n}(pz);function uat(t){return uat="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uat(t)}function cat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lat(t,e,n){return e&&sat(t.prototype,e),n&&sat(t,n),t}function fat(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hat(t,e)}function hat(t,e){return hat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hat(t,e)}function pat(t){var e=vat();return function(){var n,r=mat(t);if(e){var o=mat(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yat(this,n)}}function yat(t,e){return!e||"object"!==uat(e)&&"function"!==typeof e?dat(t):e}function dat(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vat(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function mat(t){return mat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mat(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var bat=function(t){fat(n,t);var e=pat(n);function n(){return cat(this,n),e.apply(this,arguments)}return lat(n,null,[{key:"requires",get:function(){return[Hit,aat]}},{key:"pluginName",get:function(){return"List"}}]),n}(pz);function gat(t){return gat="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gat(t)}function wat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kat(t,e,n){return e&&_at(t.prototype,e),n&&_at(t,n),t}function Sat(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oat(t,e)}function Oat(t,e){return Oat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Oat(t,e)}function Pat(t){var e=jat();return function(){var n,r=Eat(t);if(e){var o=Eat(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Aat(this,n)}}function Aat(t,e){return!e||"object"!==gat(e)&&"function"!==typeof e?Rat(t):e}function Rat(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jat(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Eat(t){return Eat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eat(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var xat=function(t){Sat(n,t);var e=Pat(n);function n(){return wat(this,n),e.apply(this,arguments)}return kat(n,[{key:"observe",value:function(t){var e=this;this.listenTo(t,"load",(function(t,n){var r=n.target;"IMG"==r.tagName&&e._fireEvents(n)}),{useCapture:!0})}},{key:"_fireEvents",value:function(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}]),n}($d);function Tat(t){return Mat(t)||Dat(t)||Iat(t)||Cat()}function Cat(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Iat(t,e){if(t){if("string"===typeof t)return Nat(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nat(t,e):void 0}}function Dat(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Mat(t){if(Array.isArray(t))return Nat(t)}function Nat(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Vat(t,e,n){return e.setCustomProperty("image",!0,t),tet(t,e,{label:r});function r(){var e=Hat(t),r=e.getAttribute("alt");return r?"".concat(r," ").concat(n):n}}function Bat(t){return!!t.getCustomProperty("image")&&Qtt(t)}function Fat(t){var e=t.getSelectedElement();return e&&Bat(e)?e:null}function Lat(t){return!!t&&t.is("image")}function zat(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.createElement("image",n),o=iet(e.document.selection,e);e.insertContent(r,o),r.parent&&t.setSelection(r,"on")}function Uat(t){var e=t.schema,n=t.document.selection;return $at(n,e,t)&&!Wat(n,e)&&qat(n)}function Hat(t){return Array.from(t.getChildren()).find((function(t){return t.is("img")}))}function $at(t,e,n){var r=Yat(t,n);return e.checkChild(r,"image")}function Wat(t,e){var n=t.getSelectedElement();return n&&e.isObject(n)}function qat(t){return Tat(t.focus.getAncestors()).every((function(t){return!t.is("image")}))}function Yat(t,e){var n=iet(t,e),r=n.parent;return r.isEmpty&&!r.is("$root")?r.parent:r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gat(){return function(e){e.on("element:figure",t)};function t(t,e,n){if(n.consumable.test(e.viewItem,{name:!0,classes:"image"})){var r=Hat(e.viewItem);if(r&&r.hasAttribute("src")&&n.consumable.test(r,{name:!0})){var o=n.convertItem(r,e.modelCursor),i=m1(o.modelRange.getItems());i&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(i,0)),e.modelRange=o.modelRange,e.modelCursor=o.modelCursor)}}}}function Kat(){return function(e){e.on("attribute:srcset:image",t)};function t(t,e,n){if(n.consumable.consume(e.item,t.name)){var r=n.writer,o=n.mapper.toViewElement(e.item),i=Hat(o);if(null===e.attributeNewValue){var a=e.attributeOldValue;a.data&&(r.removeAttribute("srcset",i),r.removeAttribute("sizes",i),a.width&&r.removeAttribute("width",i))}else{var u=e.attributeNewValue;u.data&&(r.setAttribute("srcset",u.data,i),r.setAttribute("sizes","100vw",i),u.width&&r.setAttribute("width",u.width,i))}}}}function Jat(t){return function(n){n.on("attribute:".concat(t,":image"),e)};function e(t,e,n){if(n.consumable.consume(e.item,t.name)){var r=n.writer,o=n.mapper.toViewElement(e.item),i=Hat(o);null!==e.attributeNewValue?r.setAttribute(e.attributeKey,e.attributeNewValue,i):r.removeAttribute(e.attributeKey,i)}}}function Xat(t){return Xat="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xat(t)}function Zat(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Qat(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Qat(t,e){if(t){if("string"===typeof t)return tut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tut(t,e):void 0}}function tut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rut(t,e,n){return e&&nut(t.prototype,e),n&&nut(t,n),t}function out(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iut(t,e)}function iut(t,e){return iut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},iut(t,e)}function aut(t){var e=sut();return function(){var n,r=lut(t);if(e){var o=lut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uut(this,n)}}function uut(t,e){return!e||"object"!==Xat(e)&&"function"!==typeof e?cut(t):e}function cut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function lut(t){return lut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lut(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var fut=function(t){out(n,t);var e=aut(n);function n(){return eut(this,n),e.apply(this,arguments)}return rut(n,[{key:"refresh",value:function(){this.isEnabled=Uat(this.editor.model)}},{key:"execute",value:function(t){var e=this.editor.model;e.change((function(n){var r,o=Array.isArray(t.source)?t.source:[t.source],i=Zat(o);try{for(i.s();!(r=i.n()).done;){var a=r.value;zat(n,e,{src:a})}}catch(u){i.e(u)}finally{i.f()}}))}}]),n}(eU);function hut(t){return hut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hut(t)}function put(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dut(t,e,n){return e&&yut(t.prototype,e),n&&yut(t,n),t}function vut(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mut(t,e)}function mut(t,e){return mut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mut(t,e)}function but(t){var e=_ut();return function(){var n,r=kut(t);if(e){var o=kut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gut(this,n)}}function gut(t,e){return!e||"object"!==hut(e)&&"function"!==typeof e?wut(t):e}function wut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function kut(t){return kut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kut(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Sut=function(t){vut(n,t);var e=but(n);function n(){return put(this,n),e.apply(this,arguments)}return dut(n,[{key:"init",value:function(){var t=this.editor,e=t.model.schema,n=t.t,r=t.conversion;t.editing.view.addObserver(xat),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),r.for("dataDowncast").elementToElement({model:"image",view:function(t,e){return Out(e)}}),r.for("editingDowncast").elementToElement({model:"image",view:function(t,e){return Vat(Out(e),e,n("image widget"))}}),r.for("downcast").add(Jat("src")).add(Jat("alt")).add(Kat()),r.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(t,e){return e.createElement("image",{src:t.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(t){var e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}}).add(Gat()),t.commands.add("imageInsert",new fut(t))}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),n}(pz);function Out(t){var e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert(t.createPositionAt(n,0),e),n}function Put(t){return Put="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Put(t)}function Aut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jut(t,e,n){return e&&Rut(t.prototype,e),n&&Rut(t,n),t}function Eut(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xut(t,e)}function xut(t,e){return xut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xut(t,e)}function Tut(t){var e=Dut();return function(){var n,r=Mut(t);if(e){var o=Mut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cut(this,n)}}function Cut(t,e){return!e||"object"!==Put(e)&&"function"!==typeof e?Iut(t):e}function Iut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Mut(t){return Mut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mut(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Nut=function(t){Eut(n,t);var e=Tut(n);function n(){return Aut(this,n),e.apply(this,arguments)}return jut(n,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Lat(t),Lat(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(t){var e=this.editor.model,n=e.document.selection.getSelectedElement();e.change((function(e){e.setAttribute("alt",t.newValue,n)}))}}]),n}(eU);function Vut(t){return Vut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vut(t)}function But(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lut(t,e,n){return e&&Fut(t.prototype,e),n&&Fut(t,n),t}function zut(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uut(t,e)}function Uut(t,e){return Uut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Uut(t,e)}function Hut(t){var e=qut();return function(){var n,r=Yut(t);if(e){var o=Yut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $ut(this,n)}}function $ut(t,e){return!e||"object"!==Vut(e)&&"function"!==typeof e?Wut(t):e}function Wut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Yut(t){return Yut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yut(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Gut=function(t){zut(n,t);var e=Hut(n);function n(){return But(this,n),e.apply(this,arguments)}return Lut(n,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new Nut(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),n}(pz);n("6649");function Kut(t){return Kut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kut(t)}function Jut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zut(t,e,n){return e&&Xut(t.prototype,e),n&&Xut(t,n),t}function Qut(t,e,n){return Qut="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=tct(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Qut(t,e,n||t)}function tct(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=uct(t),null===t)break;return t}function ect(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nct(t,e)}function nct(t,e){return nct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nct(t,e)}function rct(t){var e=act();return function(){var n,r=uct(t);if(e){var o=uct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oct(this,n)}}function oct(t,e){return!e||"object"!==Kut(e)&&"function"!==typeof e?ict(t):e}function ict(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function act(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function uct(t){return uct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uct(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var cct=function(t){ect(n,t);var e=rct(n);function n(t){var r;Jut(this,n),r=e.call(this,t);var o=r.locale.t;return r.focusTracker=new IC,r.keystrokes=new HT,r.labeledInput=r._createLabeledInputView(),r.saveButtonView=r._createButton(o("Save"),QQ.a,"ck-button-save"),r.saveButtonView.type="submit",r.cancelButtonView=r._createButton(o("Cancel"),e0.a,"ck-button-cancel","cancel"),r._focusables=new NI,r._focusCycler=new zN({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[r.labeledInput,r.saveButtonView,r.cancelButtonView]}),r}return Zut(n,[{key:"render",value:function(){var t=this;Qut(uct(n.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),XQ({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((function(e){t._focusables.add(e),t.focusTracker.add(e.element)}))}},{key:"_createButton",value:function(t,e,n,r){var o=new IB(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}},{key:"_createLabeledInputView",value:function(){var t=this.locale.t,e=new MQ(this.locale,JQ);return e.label=t("Text alternative"),e.fieldView.placeholder=t("Text alternative"),e}}]),n}(zD),sct=n("546e"),lct=n.n(sct);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function fct(t){var e=t.plugins.get("ContextualBalloon");if(Fat(t.editing.view.document.selection)){var n=hct(t);e.updatePosition(n)}}function hct(t){var e=t.editing.view,n=QZ.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}function pct(t){return pct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pct(t)}function yct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vct(t,e,n){return e&&dct(t.prototype,e),n&&dct(t,n),t}function mct(t,e,n){return mct="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=bct(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},mct(t,e,n||t)}function bct(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Pct(t),null===t)break;return t}function gct(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wct(t,e)}function wct(t,e){return wct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wct(t,e)}function _ct(t){var e=Oct();return function(){var n,r=Pct(t);if(e){var o=Pct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kct(this,n)}}function kct(t,e){return!e||"object"!==pct(e)&&"function"!==typeof e?Sct(t):e}function Sct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Pct(t){return Pct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pct(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Act=function(t){gct(n,t);var e=_ct(n);function n(){return yct(this,n),e.apply(this,arguments)}return vct(n,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){mct(Pct(n.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("imageTextAlternative",(function(r){var o=e.commands.get("imageTextAlternative"),i=new IB(r);return i.set({label:n("Change image text alternative"),icon:lct.a,tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),t.listenTo(i,"execute",(function(){t._showForm()})),i}))}},{key:"_createForm",value:function(){var t=this,e=this.editor,n=e.editing.view,r=n.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new cct(e.locale),this._form.render(),this.listenTo(this._form,"submit",(function(){e.execute("imageTextAlternative",{newValue:t._form.labeledInput.fieldView.element.value}),t._hideForm(!0)})),this.listenTo(this._form,"cancel",(function(){t._hideForm(!0)})),this._form.keystrokes.set("Esc",(function(e,n){t._hideForm(!0),n()})),this.listenTo(e.ui,"update",(function(){Fat(r.selection)?t._isVisible&&fct(e):t._hideForm(!0)})),ZF({emitter:this._form,activator:function(){return t._isVisible},contextElements:[this._balloon.view.element],callback:function(){return t._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:hct(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select()}}},{key:"_hideForm",value:function(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[_Q]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),n}(pz);function Rct(t){return Rct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rct(t)}function jct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ect(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xct(t,e,n){return e&&Ect(t.prototype,e),n&&Ect(t,n),t}function Tct(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cct(t,e)}function Cct(t,e){return Cct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Cct(t,e)}function Ict(t){var e=Nct();return function(){var n,r=Vct(t);if(e){var o=Vct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dct(this,n)}}function Dct(t,e){return!e||"object"!==Rct(e)&&"function"!==typeof e?Mct(t):e}function Mct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Vct(t){return Vct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vct(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Bct=function(t){Tct(n,t);var e=Ict(n);function n(){return jct(this,n),e.apply(this,arguments)}return xct(n,null,[{key:"requires",get:function(){return[Gut,Act]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),n}(pz);n("92bd");function Fct(t){return Fct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fct(t)}function Lct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uct(t,e,n){return e&&zct(t.prototype,e),n&&zct(t,n),t}function Hct(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$ct(t,e)}function $ct(t,e){return $ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$ct(t,e)}function Wct(t){var e=Gct();return function(){var n,r=Kct(t);if(e){var o=Kct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qct(this,n)}}function qct(t,e){return!e||"object"!==Fct(e)&&"function"!==typeof e?Yct(t):e}function Yct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Kct(t){return Kct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kct(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Jct=function(t){Hct(n,t);var e=Wct(n);function n(){return Lct(this,n),e.apply(this,arguments)}return Uct(n,null,[{key:"requires",get:function(){return[Sut,Yrt,Bct]}},{key:"pluginName",get:function(){return"Image"}}]),n}(pz);function Xct(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Zct(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Zct(t,e){if(t){if("string"===typeof t)return Qct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qct(t,e):void 0}}function Qct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tst(t,e){return function(n){var r=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,r),XC({view:t,element:r,text:e}),oet(r,n)}}function est(t){var e,n=Xct(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r&&r.is("caption"))return r}}catch(o){n.e(o)}finally{n.f()}return null}function nst(t){var e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null}function rst(t){return rst="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rst(t)}function ost(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ist(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ist(t,e){if(t){if("string"===typeof t)return ast(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ast(t,e):void 0}}function ast(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ust(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sst(t,e,n){return e&&cst(t.prototype,e),n&&cst(t,n),t}function lst(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fst(t,e)}function fst(t,e){return fst=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fst(t,e)}function hst(t){var e=dst();return function(){var n,r=vst(t);if(e){var o=vst(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pst(this,n)}}function pst(t,e){return!e||"object"!==rst(e)&&"function"!==typeof e?yst(t):e}function yst(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dst(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function vst(t){return vst=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vst(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var mst=function(t){lst(n,t);var e=hst(n);function n(){return ust(this,n),e.apply(this,arguments)}return sst(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.editing.view,r=e.model.schema,o=e.data,i=e.editing,a=e.t;r.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),e.model.document.registerPostFixer((function(e){return t._insertMissingModelCaptionElement(e)})),e.conversion.for("upcast").elementToElement({view:nst,model:"caption"});var u=function(t){return t.createContainerElement("figcaption")};o.downcastDispatcher.on("insert:caption",bst(u,!1));var c=tst(n,a("Enter image caption"));i.downcastDispatcher.on("insert:caption",bst(c)),i.downcastDispatcher.on("insert",this._fixCaptionVisibility((function(t){return t.item})),{priority:"high"}),i.downcastDispatcher.on("remove",this._fixCaptionVisibility((function(t){return t.position.parent})),{priority:"high"}),n.document.registerPostFixer((function(e){return t._updateCaptionVisibility(e)}))}},{key:"_updateCaptionVisibility",value:function(t){var e,n=this.editor.editing.mapper,r=this._lastSelectedCaption,o=this.editor.model.document.selection,i=o.getSelectedElement();if(i&&i.is("image")){var a=est(i);e=n.toViewElement(a)}var u=o.getFirstPosition(),c=wst(u.parent);if(c&&(e=n.toViewElement(c)),e)return r?(r===e||(_st(r,t),this._lastSelectedCaption=e),kst(e,t)):(this._lastSelectedCaption=e,kst(e,t));if(r){var s=_st(r,t);return this._lastSelectedCaption=null,s}return!1}},{key:"_fixCaptionVisibility",value:function(t){var e=this;return function(n,r,o){var i=t(r),a=wst(i),u=e.editor.editing.mapper,c=o.writer;if(a){var s=u.toViewElement(a);s&&(a.childCount?c.removeClass("ck-hidden",s):c.addClass("ck-hidden",s))}}}},{key:"_insertMissingModelCaptionElement",value:function(t){var e,n=this.editor.model,r=n.document.differ.getChanges(),o=[],i=ost(r);try{for(i.s();!(e=i.n()).done;){var a=e.value;if("insert"==a.type&&"$text"!=a.name){var u=a.position.nodeAfter;if(u.is("image")&&!est(u)&&o.push(u),!u.is("image")&&u.childCount){var c,s=ost(n.createRangeIn(u).getItems());try{for(s.s();!(c=s.n()).done;){var l=c.value;l.is("image")&&!est(l)&&o.push(l)}}catch(y){s.e(y)}finally{s.f()}}}}}catch(y){i.e(y)}finally{i.f()}for(var f=0,h=o;f<h.length;f++){var p=h[f];t.appendElement("caption",p)}return!!o.length}}],[{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),n}(pz);function bst(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r,o){var i=r.item;if((i.childCount||e)&&Lat(i.parent)){if(!o.consumable.consume(r.item,"insert"))return;var a=o.mapper.toViewElement(r.range.start.parent),u=t(o.writer),c=o.writer;i.childCount||c.addClass("ck-hidden",u),gst(u,r.item,a,o)}}}function gst(t,e,n,r){var o=r.writer.createPositionAt(n,"end");r.writer.insert(o,t),r.mapper.bindElements(e,t)}function wst(t){var e=t.getAncestors({includeSelf:!0}),n=e.find((function(t){return"caption"==t.name}));return n&&n.parent&&"image"==n.parent.name?n:null}function _st(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0)}function kst(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0)}n("c44c");function Sst(t){return Sst="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sst(t)}function Ost(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ast(t,e,n){return e&&Pst(t.prototype,e),n&&Pst(t,n),t}function Rst(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jst(t,e)}function jst(t,e){return jst=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jst(t,e)}function Est(t){var e=Cst();return function(){var n,r=Ist(t);if(e){var o=Ist(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xst(this,n)}}function xst(t,e){return!e||"object"!==Sst(e)&&"function"!==typeof e?Tst(t):e}function Tst(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cst(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ist(t){return Ist=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ist(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Dst=function(t){Rst(n,t);var e=Est(n);function n(){return Ost(this,n),e.apply(this,arguments)}return Ast(n,null,[{key:"requires",get:function(){return[mst]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),n}(pz);function Mst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vst(t,e,n){return e&&Nst(t.prototype,e),n&&Nst(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Bst=function(){function t(e){Mst(this,t),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}return Vst(t,[{key:"begin",value:function(t,e,n){var r=new bg(e);this.activeHandlePosition=Ust(t),this._referenceCoordinates=Lst(e,Hst(this.activeHandlePosition)),this.originalWidth=r.width,this.originalHeight=r.height,this.aspectRatio=r.width/r.height;var o=n.style.width;o&&o.match(/^\d+\.?\d*%$/)?this.originalWidthPercents=parseFloat(o):this.originalWidthPercents=Fst(n,r)}},{key:"update",value:function(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}]),t}();function Fst(t,e){var n=t.parentElement,r=parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width);return e.width/r*100}function Lst(t,e){var n=new bg(t),r=e.split("-"),o={x:"right"==r[1]?n.right:n.left,y:"bottom"==r[0]?n.bottom:n.top};return o.x+=t.ownerDocument.defaultView.scrollX,o.y+=t.ownerDocument.defaultView.scrollY,o}function zst(t){return"ck-widget__resizer__handle-".concat(t)}function Ust(t){for(var e=["top-left","top-right","bottom-right","bottom-left"],n=0,r=e;n<r.length;n++){var o=r[n];if(t.classList.contains(zst(o)))return o}}function Hst(t){var e=t.split("-"),n={top:"bottom",bottom:"top",left:"right",right:"left"};return"".concat(n[e[0]],"-").concat(n[e[1]])}function $st(t){return $st="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$st(t)}function Wst(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qst(t,e)}function qst(t,e){return qst=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qst(t,e)}function Yst(t){var e=Jst();return function(){var n,r=Xst(t);if(e){var o=Xst(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gst(this,n)}}function Gst(t,e){return!e||"object"!==$st(e)&&"function"!==typeof e?Kst(t):e}function Kst(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jst(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Xst(t){return Xst=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xst(t)}function Zst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tlt(t,e,n){return e&&Qst(t.prototype,e),n&&Qst(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(Bst,Ef);var elt=function(){function t(e){var n=this;Zst(this,t),this._options=e,this._domResizerWrapper=null,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",(function(t){n.state.proposedWidth||n.state.proposedWidthPercents||(n._cleanup(),t.stop())}),{priority:"high"})}return tlt(t,[{key:"attach",value:function(){var t=this,e=this,n=this._options.viewElement,r=this._options.editor.editing.view;r.change((function(r){var o=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(t){var n=this.toDomElement(t);return e._appendHandles(n),e._appendSizeUI(n),e._domResizerWrapper=n,e.on("change:isEnabled",(function(t,e,r){n.style.display=r?"":"none"})),n.style.display=e.isEnabled?"":"none",n}));r.insert(r.createPositionAt(n,"end"),o),r.addClass("ck-widget_with-resizer",n),t._viewResizerWrapper=o}))}},{key:"begin",value:function(t){this.state=new Bst(this._options),this._sizeUI.bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}},{key:"updateSize",value:function(t){var e=this,n=this._proposeNewSize(t),r=this._options.editor.editing.view;r.change((function(t){var r=e._options.unit||"%",o=("%"===r?n.widthPercents:n.width)+r;t.setStyle("width",o,e._options.viewElement)}));var o=this._getHandleHost(),i=new bg(o);n.handleHostWidth=Math.round(i.width),n.handleHostHeight=Math.round(i.height);var a=new bg(o);n.width=Math.round(a.width),n.height=Math.round(a.height),this.redraw(i),this.state.update(n)}},{key:"commit",value:function(){var t=this,e=this._options.unit||"%",n=("%"===e?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change((function(){t._cleanup(),t._options.onCommit(n)}))}},{key:"cancel",value:function(){this._cleanup()}},{key:"destroy",value:function(){this.cancel()}},{key:"redraw",value:function(t){var e=this,n=this._domResizerWrapper;function r(t){return t&&t.ownerDocument&&t.ownerDocument.contains(t)}r(n)&&this._options.editor.editing.view.change((function(r){var o=n.parentElement,i=e._getHandleHost(),a=t||new bg(i);r.setStyle("width",a.width+"px",e._viewResizerWrapper),r.setStyle("height",a.height+"px",e._viewResizerWrapper);var u={left:i.offsetLeft,top:i.offsetTop,height:i.offsetHeight,width:i.offsetWidth};o.isSameNode(i)||(r.setStyle("left",u.left+"px",e._viewResizerWrapper),r.setStyle("top",u.top+"px",e._viewResizerWrapper),r.setStyle("height",u.height+"px",e._viewResizerWrapper),r.setStyle("width",u.width+"px",e._viewResizerWrapper))}))}},{key:"containsHandle",value:function(t){return this._domResizerWrapper.contains(t)}},{key:"_cleanup",value:function(){var t=this;this._sizeUI.dismiss(),this._sizeUI.isVisible=!1;var e=this._options.editor.editing.view;e.change((function(e){e.setStyle("width",t._initialViewWidth,t._options.viewElement)}))}},{key:"_proposeNewSize",value:function(t){var e=this.state,n=olt(t),r=!this._options.isCentered||this._options.isCentered(this),o={x:e._referenceCoordinates.x-(n.x+e.originalWidth),y:n.y-e.originalHeight-e._referenceCoordinates.y};r&&e.activeHandlePosition.endsWith("-right")&&(o.x=n.x-(e._referenceCoordinates.x+e.originalWidth)),r&&(o.x*=2);var i={width:Math.abs(e.originalWidth+o.x),height:Math.abs(e.originalHeight+o.y)};i.dominant=i.width/e.aspectRatio>i.height?"width":"height",i.max=i[i.dominant];var a={width:i.width,height:i.height};return"width"==i.dominant?a.height=a.width/e.aspectRatio:a.width=a.height*e.aspectRatio,{width:Math.round(a.width),height:Math.round(a.height),widthPercents:Math.min(Math.round(e.originalWidthPercents/e.originalWidth*a.width*100)/100,100)}}},{key:"_getResizeHost",value:function(){var t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}},{key:"_getHandleHost",value:function(){var t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}},{key:"_appendHandles",value:function(t){for(var e=["top-left","top-right","bottom-right","bottom-left"],n=0,r=e;n<r.length;n++){var o=r[n];t.appendChild(new sD({tag:"div",attributes:{class:"ck-widget__resizer__handle ".concat(rlt(o))}}).render())}}},{key:"_appendSizeUI",value:function(t){var e=new nlt;e.render(),this._sizeUI=e,t.appendChild(e.element)}}],[{key:"isResizeHandle",value:function(t){return t.classList.contains("ck-widget__resizer__handle")}}]),t}();Xa(elt,Ef);var nlt=function(t){Wst(n,t);var e=Yst(n);function n(){var t;Zst(this,n),t=e.call(this);var r=t.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",r.to("activeHandlePosition",(function(t){return t?"ck-orientation-".concat(t):""}))],style:{display:r.if("isVisible","none",(function(t){return!t}))}},children:[{text:r.to("label")}]}),t}return tlt(n,[{key:"bindToState",value:function(t,e){this.bind("isVisible").to(e,"proposedWidth",e,"proposedHeight",(function(t,e){return null!==t&&null!==e})),this.bind("label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",(function(e,n,r){return"px"===t.unit?"".concat(e,"×").concat(n):"".concat(r,"%")})),this.bind("activeHandlePosition").to(e)}},{key:"dismiss",value:function(){this.unbind(),this.isVisible=!1}}]),n}(zD);function rlt(t){return"ck-widget__resizer__handle-".concat(t)}function olt(t){return{x:t.pageX,y:t.pageY}}var ilt="Expected a function";function alt(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError(ilt);return bt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Km(t,e,{leading:r,maxWait:e,trailing:o})}var ult=alt;n("fc4c");function clt(t){return clt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},clt(t)}function slt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=llt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function llt(t,e){if(t){if("string"===typeof t)return flt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?flt(t,e):void 0}}function flt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function plt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ylt(t,e,n){return e&&plt(t.prototype,e),n&&plt(t,n),t}function dlt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vlt(t,e)}function vlt(t,e){return vlt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vlt(t,e)}function mlt(t){var e=wlt();return function(){var n,r=_lt(t);if(e){var o=_lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return blt(this,n)}}function blt(t,e){return!e||"object"!==clt(e)&&"function"!==typeof e?glt(t):e}function glt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wlt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _lt(t){return _lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_lt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var klt=function(t){dlt(n,t);var e=mlt(n);function n(){return hlt(this,n),e.apply(this,arguments)}return ylt(n,[{key:"init",value:function(){var t=this;this.set("_visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map;var e=dd.window.document;this.editor.model.schema.setAttributeProperties("width",{isFormatting:!0}),this._observer=Object.create(Bd),this._observer.listenTo(e,"mousedown",this._mouseDownListener.bind(this)),this._observer.listenTo(e,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(e,"mouseup",this._mouseUpListener.bind(this));var n=function(){t._visibleResizer&&t._visibleResizer.redraw()},r=ult(n,200);this.on("change:_visibleResizer",n),this.editor.ui.on("update",r),this._observer.listenTo(dd.window,"resize",r);var o=this.editor.editing.view.document.selection;o.on("change",(function(){var e=o.getSelectedElement();t._visibleResizer=t._getResizerByViewElement(e)||null}))}},{key:"destroy",value:function(){this._observer.stopListening();var t,e=slt(this._resizers.values());try{for(e.s();!(t=e.n()).done;){var n=t.value;n.destroy()}}catch(r){e.e(r)}finally{e.f()}}},{key:"attachTo",value:function(t){var e=new elt(t),n=this.editor.plugins;if(e.attach(),n.has("WidgetToolbarRepository")){var r=n.get("WidgetToolbarRepository");e.on("begin",(function(){r.forceDisabled("resize")}),{priority:"lowest"}),e.on("cancel",(function(){r.clearForceDisabled("resize")}),{priority:"highest"}),e.on("commit",(function(){r.clearForceDisabled("resize")}),{priority:"highest"})}return this._resizers.set(t.viewElement,e),e}},{key:"_getResizerByHandle",value:function(t){var e,n=slt(this._resizers.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.containsHandle(t))return r}}catch(o){n.e(o)}finally{n.f()}}},{key:"_getResizerByViewElement",value:function(t){return this._resizers.get(t)}},{key:"_mouseDownListener",value:function(t,e){if(elt.isResizeHandle(e.target)){var n=e.target;this._activeResizer=this._getResizerByHandle(n),this._activeResizer&&this._activeResizer.begin(n)}}},{key:"_mouseMoveListener",value:function(t,e){this._activeResizer&&this._activeResizer.updateSize(e)}},{key:"_mouseUpListener",value:function(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}],[{key:"pluginName",get:function(){return"WidgetResize"}}]),n}(pz);function Slt(t){return Slt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Slt(t)}function Olt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Plt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Alt(t,e,n){return e&&Plt(t.prototype,e),n&&Plt(t,n),t}function Rlt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jlt(t,e)}function jlt(t,e){return jlt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jlt(t,e)}function Elt(t){var e=Clt();return function(){var n,r=Ilt(t);if(e){var o=Ilt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xlt(this,n)}}function xlt(t,e){return!e||"object"!==Slt(e)&&"function"!==typeof e?Tlt(t):e}function Tlt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Clt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ilt(t){return Ilt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ilt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(klt,Ef);var Dlt=function(t){Rlt(n,t);var e=Elt(n);function n(){return Olt(this,n),e.apply(this,arguments)}return Alt(n,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Lat(t),t&&t.hasAttribute("width")?this.value={width:t.getAttribute("width"),height:null}:this.value=null}},{key:"execute",value:function(t){var e=this.editor.model,n=e.document.selection.getSelectedElement();e.change((function(e){e.setAttribute("width",t.width,n)}))}}]),n}(eU);n("d043");function Mlt(t){return Mlt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mlt(t)}function Nlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vlt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Blt(t,e,n){return e&&Vlt(t.prototype,e),n&&Vlt(t,n),t}function Flt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Llt(t,e)}function Llt(t,e){return Llt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Llt(t,e)}function zlt(t){var e=$lt();return function(){var n,r=Wlt(t);if(e){var o=Wlt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ult(this,n)}}function Ult(t,e){return!e||"object"!==Mlt(e)&&"function"!==typeof e?Hlt(t):e}function Hlt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Wlt(t){return Wlt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wlt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var qlt=function(t){Flt(n,t);var e=zlt(n);function n(){return Nlt(this,n),e.apply(this,arguments)}return Blt(n,[{key:"init",value:function(){var t=this.editor,e=new Dlt(t);this._registerSchema(),this._registerConverters(),t.commands.add("imageResize",e),t.editing.downcastDispatcher.on("insert:image",(function(n,r,o){var i=o.mapper.toViewElement(r.item),a=t.plugins.get(klt).attachTo({unit:t.config.get("image.resizeUnit")||"%",modelElement:r.item,viewElement:i,editor:t,getHandleHost:function(t){return t.querySelector("img")},getResizeHost:function(t){return t},isCentered:function(){var t=r.item.getAttribute("imageStyle");return!t||"full"==t||"alignCenter"==t},onCommit:function(e){t.execute("imageResize",{width:e})}});a.on("updateSize",(function(){i.hasClass("image_resized")||t.editing.view.change((function(t){t.addClass("image_resized",i)}))})),a.bind("isEnabled").to(e)}),{priority:"low"})}},{key:"_registerSchema",value:function(){this.editor.model.schema.extend("image",{allowAttributes:"width"})}},{key:"_registerConverters",value:function(){var t=this.editor;t.conversion.for("downcast").add((function(t){return t.on("attribute:width:image",(function(t,e,n){if(n.consumable.consume(e.item,t.name)){var r=n.writer,o=n.mapper.toViewElement(e.item);null!==e.attributeNewValue?(r.setStyle("width",e.attributeNewValue,o),r.addClass("image_resized",o)):(r.removeStyle("width",o),r.removeClass("image_resized",o))}}))})),t.conversion.for("upcast").attributeToAttribute({view:{name:"figure",styles:{width:/.+/}},model:{key:"width",value:function(t){return t.getStyle("width")}}})}}],[{key:"requires",get:function(){return[klt]}},{key:"pluginName",get:function(){return"ImageResize"}}]),n}(pz);function Ylt(t){return Ylt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ylt(t)}function Glt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Klt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jlt(t,e,n){return e&&Klt(t.prototype,e),n&&Klt(t,n),t}function Xlt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zlt(t,e)}function Zlt(t,e){return Zlt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zlt(t,e)}function Qlt(t){var e=nft();return function(){var n,r=rft(t);if(e){var o=rft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tft(this,n)}}function tft(t,e){return!e||"object"!==Ylt(e)&&"function"!==typeof e?eft(t):e}function eft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function rft(t){return rft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rft(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var oft=function(t){Xlt(n,t);var e=Qlt(n);function n(t,r){var o;return Glt(this,n),o=e.call(this,t),o.defaultStyle=!1,o.styles=r.reduce((function(t,e){return t[e.name]=e,e.isDefault&&(o.defaultStyle=e.name),t}),{}),o}return Jlt(n,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Lat(t),t)if(t.hasAttribute("imageStyle")){var e=t.getAttribute("imageStyle");this.value=!!this.styles[e]&&e}else this.value=this.defaultStyle;else this.value=!1}},{key:"execute",value:function(t){var e=this,n=t.value,r=this.editor.model,o=r.document.selection.getSelectedElement();r.change((function(t){e.styles[n].isDefault?t.removeAttribute("imageStyle",o):t.setAttribute("imageStyle",n,o)}))}}]),n}(eU);function ift(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=aft(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function aft(t,e){if(t){if("string"===typeof t)return uft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uft(t,e):void 0}}function uft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cft(t){return function(e,n,r){if(r.consumable.consume(n.item,e.name)){var o=lft(n.attributeNewValue,t),i=lft(n.attributeOldValue,t),a=r.mapper.toViewElement(n.item),u=r.writer;i&&u.removeClass(i.className,a),o&&u.addClass(o.className,a)}}}function sft(t){var e=t.filter((function(t){return!t.isDefault}));return function(t,n,r){if(n.modelRange){var o=n.viewItem,i=m1(n.modelRange.getItems());if(r.schema.checkAttribute(i,"imageStyle")){var a,u=ift(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;r.consumable.consume(o,{classes:c.className})&&r.writer.setAttribute("imageStyle",c.name,i)}}catch(s){u.e(s)}finally{u.f()}}}}}function lft(t,e){var n,r=ift(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.name===t)return o}}catch(i){r.e(i)}finally{r.f()}}var fft=n("660d"),hft=n.n(fft),pft=n("1a1b"),yft=n.n(pft),dft=n("0524"),vft=n.n(dft),mft=n("0db1"),bft=n.n(mft),gft={full:{name:"full",title:"Full size image",icon:hft.a,isDefault:!0},side:{name:"side",title:"Side image",icon:bft.a,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:yft.a,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:vft.a,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:bft.a,className:"image-style-align-right"}},wft={full:hft.a,left:yft.a,right:bft.a,center:vft.a};function _ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(kft)}function kft(t){if("string"==typeof t){var e=t;gft[e]?t=Object.assign({},gft[e]):(console.warn(Object(Oa["a"])("image-style-not-found: There is no such image style of given name."),{name:e}),t={name:e})}else if(gft[t.name]){var n=gft[t.name],r=Object.assign({},t);for(var o in n)t.hasOwnProperty(o)||(r[o]=n[o]);t=r}return"string"==typeof t.icon&&wft[t.icon]&&(t.icon=wft[t.icon]),t}function Sft(t){return Sft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sft(t)}function Oft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Aft(t,e,n){return e&&Pft(t.prototype,e),n&&Pft(t,n),t}function Rft(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jft(t,e)}function jft(t,e){return jft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jft(t,e)}function Eft(t){var e=Cft();return function(){var n,r=Ift(t);if(e){var o=Ift(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xft(this,n)}}function xft(t,e){return!e||"object"!==Sft(e)&&"function"!==typeof e?Tft(t):e}function Tft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ift(t){return Ift=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ift(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Dft=function(t){Rft(n,t);var e=Eft(n);function n(){return Oft(this,n),e.apply(this,arguments)}return Aft(n,[{key:"init",value:function(){var t=this.editor,e=t.model.schema,n=t.data,r=t.editing;t.config.define("image.styles",["full","side"]);var o=_ft(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});var i=cft(o);r.downcastDispatcher.on("attribute:imageStyle:image",i),n.downcastDispatcher.on("attribute:imageStyle:image",i),n.upcastDispatcher.on("element:figure",sft(o),{priority:"low"}),t.commands.add("imageStyle",new oft(t,o))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),n}(pz);n("7201");function Mft(t){return Mft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mft(t)}function Nft(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Vft(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Vft(t,e){if(t){if("string"===typeof t)return Bft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bft(t,e):void 0}}function Bft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zft(t,e,n){return e&&Lft(t.prototype,e),n&&Lft(t,n),t}function Uft(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hft(t,e)}function Hft(t,e){return Hft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hft(t,e)}function $ft(t){var e=Yft();return function(){var n,r=Gft(t);if(e){var o=Gft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wft(this,n)}}function Wft(t,e){return!e||"object"!==Mft(e)&&"function"!==typeof e?qft(t):e}function qft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Gft(t){return Gft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gft(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Kft=function(t){Uft(n,t);var e=$ft(n);function n(){return Fft(this,n),e.apply(this,arguments)}return zft(n,[{key:"init",value:function(){var t,e=this.editor,n=e.config.get("image.styles"),r=Jft(_ft(n),this.localizedDefaultStylesTitles),o=Nft(r);try{for(o.s();!(t=o.n()).done;){var i=t.value;this._createButton(i)}}catch(a){o.e(a)}finally{o.f()}}},{key:"_createButton",value:function(t){var e=this,n=this.editor,r="imageStyle:".concat(t.name);n.ui.componentFactory.add(r,(function(r){var o=n.commands.get("imageStyle"),i=new IB(r);return i.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(o,"isEnabled"),i.bind("isOn").to(o,"value",(function(e){return e===t.name})),e.listenTo(i,"execute",(function(){n.execute("imageStyle",{value:t.name}),n.editing.view.focus()})),i}))}},{key:"localizedDefaultStylesTitles",get:function(){var t=this.editor.t;return{"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),n}(pz);function Jft(t,e){var n,r=Nft(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e[o.title]&&(o.title=e[o.title])}}catch(i){r.e(i)}finally{r.f()}return t}function Xft(t){return Xft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xft(t)}function Zft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tht(t,e,n){return e&&Qft(t.prototype,e),n&&Qft(t,n),t}function eht(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nht(t,e)}function nht(t,e){return nht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nht(t,e)}function rht(t){var e=aht();return function(){var n,r=uht(t);if(e){var o=uht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oht(this,n)}}function oht(t,e){return!e||"object"!==Xft(e)&&"function"!==typeof e?iht(t):e}function iht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function uht(t){return uht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uht(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var cht=function(t){eht(n,t);var e=rht(n);function n(){return Zft(this,n),e.apply(this,arguments)}return tht(n,null,[{key:"requires",get:function(){return[Dft,Kft]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),n}(pz);function sht(t){return sht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sht(t)}function lht(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=fht(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function fht(t,e){if(t){if("string"===typeof t)return hht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hht(t,e):void 0}}function hht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dht(t,e,n){return e&&yht(t.prototype,e),n&&yht(t,n),t}function vht(t,e,n){return vht="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=mht(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},vht(t,e,n||t)}function mht(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Oht(t),null===t)break;return t}function bht(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ght(t,e)}function ght(t,e){return ght=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ght(t,e)}function wht(t){var e=Sht();return function(){var n,r=Oht(t);if(e){var o=Oht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _ht(this,n)}}function _ht(t,e){return!e||"object"!==sht(e)&&"function"!==typeof e?kht(t):e}function kht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Oht(t){return Oht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Oht(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Pht=function(t){bht(n,t);var e=wht(n);function n(){return pht(this,n),e.apply(this,arguments)}return dht(n,[{key:"init",value:function(){var t=this,e=this.editor;if(e.plugins.has("BalloonToolbar")){var n=e.plugins.get("BalloonToolbar");this.listenTo(n,"show",(function(t){jht(e.editing.view.document.selection)&&t.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(function(){t._updateToolbarsVisibility()})),this.listenTo(e.ui,"update",(function(){t._updateToolbarsVisibility()})),this.listenTo(e.ui.focusTracker,"change:isFocused",(function(){t._updateToolbarsVisibility()}),{priority:"low"})}},{key:"destroy",value:function(){vht(Oht(n.prototype),"destroy",this).call(this);var t,e=lht(this._toolbarDefinitions.values());try{for(e.s();!(t=e.n()).done;){var r=t.value;r.view.destroy()}}catch(o){e.e(o)}finally{e.f()}}},{key:"register",value:function(t,e){var n=e.ariaLabel,r=e.items,o=e.getRelatedElement,i=e.balloonClassName,a=void 0===i?"ck-toolbar-container":i,u=this.editor,c=u.t,s=new xL(u.locale);if(s.ariaLabel=n||c("Widget toolbar"),this._toolbarDefinitions.has(t))throw new Oa["b"]("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t});s.fillFromConfig(r,u.ui.componentFactory),this._toolbarDefinitions.set(t,{view:s,getRelatedElement:o,balloonClassName:a})}},{key:"_updateToolbarsVisibility",value:function(){var t,e=0,n=null,r=null,o=lht(this._toolbarDefinitions.values());try{for(o.s();!(t=o.n()).done;){var i=t.value,a=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&a)if(this.editor.ui.focusTracker.isFocused){var u=a.getAncestors().length;u>e&&(e=u,n=a,r=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}}catch(c){o.e(c)}finally{o.f()}r&&this._showToolbar(r,n)}},{key:"_hideToolbar",value:function(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(t,e){var n=this;this._isToolbarVisible(t)?Aht(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:Rht(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(function(){var t,e=lht(n._toolbarDefinitions.values());try{for(e.s();!(t=e.n()).done;){var r=t.value;if(n._isToolbarVisible(r)){var o=r.getRelatedElement(n.editor.editing.view.document.selection);Aht(n.editor,o)}}}catch(i){e.e(i)}finally{e.f()}})))}},{key:"_isToolbarVisible",value:function(t){return this._balloon.visibleView===t.view}},{key:"_isToolbarInBalloon",value:function(t){return this._balloon.hasView(t.view)}}],[{key:"requires",get:function(){return[_Q]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),n}(pz);function Aht(t,e){var n=t.plugins.get("ContextualBalloon"),r=Rht(t,e);n.updatePosition(r)}function Rht(t,e){var n=t.editing.view,r=QZ.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,aet]}}function jht(t){var e=t.getSelectedElement();return!(!e||!Qtt(e))}function Eht(t){return Eht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eht(t)}function xht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cht(t,e,n){return e&&Tht(t.prototype,e),n&&Tht(t,n),t}function Iht(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dht(t,e)}function Dht(t,e){return Dht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dht(t,e)}function Mht(t){var e=Bht();return function(){var n,r=Fht(t);if(e){var o=Fht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nht(this,n)}}function Nht(t,e){return!e||"object"!==Eht(e)&&"function"!==typeof e?Vht(t):e}function Vht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Fht(t){return Fht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fht(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Lht=function(t){Iht(n,t);var e=Mht(n);function n(){return xht(this,n),e.apply(this,arguments)}return Cht(n,[{key:"afterInit",value:function(){var t=this.editor,e=t.t,n=t.plugins.get(Pht);n.register("image",{ariaLabel:e("Image toolbar"),items:t.config.get("image.toolbar")||[],getRelatedElement:Fat})}}],[{key:"requires",get:function(){return[Pht]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),n}(pz);function zht(t){return zht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zht(t)}function Uht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $ht(t,e,n){return e&&Hht(t.prototype,e),n&&Hht(t,n),t}function Wht(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qht(t,e)}function qht(t,e){return qht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qht(t,e)}function Yht(t){var e=Jht();return function(){var n,r=Xht(t);if(e){var o=Xht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ght(this,n)}}function Ght(t,e){return!e||"object"!==zht(e)&&"function"!==typeof e?Kht(t):e}function Kht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Xht(t){return Xht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xht(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Zht=function(t){Wht(n,t);var e=Yht(n);function n(t){var r;return Uht(this,n),r=e.call(this,t),r.buttonView=new IB(t),r._fileInputView=new Qht(t),r._fileInputView.bind("acceptedType").to(Kht(r)),r._fileInputView.bind("allowMultipleFiles").to(Kht(r)),r._fileInputView.delegate("done").to(Kht(r)),r.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[r.buttonView,r._fileInputView]}),r.buttonView.on("execute",(function(){r._fileInputView.open()})),r}return $ht(n,[{key:"focus",value:function(){this.buttonView.focus()}}]),n}(zD),Qht=function(t){Wht(n,t);var e=Yht(n);function n(t){var r;Uht(this,n),r=e.call(this,t),r.set("acceptedType"),r.set("allowMultipleFiles",!1);var o=r.bindTemplate;return r.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to((function(){r.element&&r.element.files&&r.element.files.length&&r.fire("done",r.element.files),r.element.value=""}))}}),r}return $ht(n,[{key:"open",value:function(){this.element.click()}}]),n}(zD),tpt=n("1414"),ept=n.n(tpt);
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function npt(t){var e=t.map((function(t){return t.replace("+","\\+")}));return new RegExp("^image\\/(".concat(e.join("|"),")$"))}function rpt(t){return new Promise((function(e,n){var r=t.getAttribute("src");fetch(r).then((function(t){return t.blob()})).then((function(t){var n=ipt(t,r),o=n.replace("image/",""),i="image.".concat(o),a=new File([t],i,{type:n});e(a)})).catch(n)}))}function opt(t){return!(!t.is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))}function ipt(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function apt(t){return apt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},apt(t)}function upt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cpt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function spt(t,e,n){return e&&cpt(t.prototype,e),n&&cpt(t,n),t}function lpt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fpt(t,e)}function fpt(t,e){return fpt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fpt(t,e)}function hpt(t){var e=dpt();return function(){var n,r=vpt(t);if(e){var o=vpt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ppt(this,n)}}function ppt(t,e){return!e||"object"!==apt(e)&&"function"!==typeof e?ypt(t):e}function ypt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dpt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function vpt(t){return vpt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vpt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var mpt=function(t){lpt(n,t);var e=hpt(n);function n(){return upt(this,n),e.apply(this,arguments)}return spt(n,[{key:"init",value:function(){var t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",(function(n){var r=new Zht(n),o=t.commands.get("imageUpload"),i=t.config.get("image.upload.types"),a=npt(i);return r.set({acceptedType:i.map((function(t){return"image/".concat(t)})).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:e("Insert image"),icon:ept.a,tooltip:!0}),r.buttonView.bind("isEnabled").to(o),r.on("done",(function(e,n){var r=Array.from(n).filter((function(t){return a.test(t.type)}));r.length&&t.execute("imageUpload",{file:r})})),r}))}}]),n}(pz);function bpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gpt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wpt(t,e,n){return e&&gpt(t.prototype,e),n&&gpt(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var _pt=function(){function t(e){bpt(this,t),this.context=e}return wpt(t,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),t}();function kpt(t){return kpt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kpt(t)}function Spt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Opt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ppt(t,e,n){return e&&Opt(t.prototype,e),n&&Opt(t,n),t}function Apt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rpt(t,e)}function Rpt(t,e){return Rpt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Rpt(t,e)}function jpt(t){var e=Tpt();return function(){var n,r=Cpt(t);if(e){var o=Cpt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ept(this,n)}}function Ept(t,e){return!e||"object"!==kpt(e)&&"function"!==typeof e?xpt(t):e}function xpt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tpt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Cpt(t){return Cpt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cpt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(_pt,Ef);var Ipt=function(t){Apt(n,t);var e=jpt(n);function n(){return Spt(this,n),e.apply(this,arguments)}return Ppt(n,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new ou({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(t){if("string"!==typeof t)throw new Oa["b"]("pendingactions-add-invalid-message: The message must be a string.",this);var e=Object.create(Ef);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}},{key:"remove",value:function(t){this._actions.remove(t),this.hasAny=!!this._actions.length}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}},{key:"first",get:function(){return this._actions.get(0)}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),n}(_pt);function Dpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mpt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Npt(t,e,n){return e&&Mpt(t.prototype,e),n&&Mpt(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Vpt=function(){function t(){var e=this;Dpt(this,t);var n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=function(t){e.loaded=t.loaded}}return Npt(t,[{key:"read",value:function(t){var e=this,n=this._reader;return this.total=t.size,new Promise((function(r,o){n.onload=function(){var t=n.result;e._data=t,r(t)},n.onerror=function(){o("error")},n.onabort=function(){o("aborted")},e._reader.readAsDataURL(t)}))}},{key:"abort",value:function(){this._reader.abort()}},{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}}]),t}();function Bpt(t){return Bpt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bpt(t)}function Fpt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Lpt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Lpt(t,e){if(t){if("string"===typeof t)return zpt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zpt(t,e):void 0}}function zpt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Upt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hpt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $pt(t,e,n){return e&&Hpt(t.prototype,e),n&&Hpt(t,n),t}function Wpt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qpt(t,e)}function qpt(t,e){return qpt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qpt(t,e)}function Ypt(t){var e=Jpt();return function(){var n,r=Xpt(t);if(e){var o=Xpt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gpt(this,n)}}function Gpt(t,e){return!e||"object"!==Bpt(e)&&"function"!==typeof e?Kpt(t):e}function Kpt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jpt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Xpt(t){return Xpt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xpt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Xa(Vpt,Ef);var Zpt=function(t){Wpt(n,t);var e=Ypt(n);function n(){return Upt(this,n),e.apply(this,arguments)}return $pt(n,[{key:"init",value:function(){var t=this;this.loaders=new ou,this.loaders.on("add",(function(){return t._updatePendingAction()})),this.loaders.on("remove",(function(){return t._updatePendingAction()})),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(t,e){return e?t/e*100:0}))}},{key:"getLoader",value:function(t){return this._loadersMap.get(t)||null}},{key:"createLoader",value:function(t){var e=this;if(!this.createUploadAdapter)return console.warn(Object(Oa["a"])("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;var n=new Qpt(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(t,n),t instanceof Promise&&n.file.then((function(t){e._loadersMap.set(t,n)})).catch((function(){})),n.on("change:uploaded",(function(){var t,n=0,r=Fpt(e.loaders);try{for(r.s();!(t=r.n()).done;){var o=t.value;n+=o.uploaded}}catch(i){r.e(i)}finally{r.f()}e.uploaded=n})),n.on("change:uploadTotal",(function(){var t,n=0,r=Fpt(e.loaders);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.uploadTotal&&(n+=o.uploadTotal)}}catch(i){r.e(i)}finally{r.f()}e.uploadTotal=n})),n}},{key:"destroyLoader",value:function(t){var e=this,n=t instanceof Qpt?t:this.getLoader(t);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((function(t,r){t===n&&e._loadersMap.delete(r)}))}},{key:"_updatePendingAction",value:function(){var t=this.editor.plugins.get(Ipt);if(this.loaders.length){if(!this._pendingAction){var e=this.editor.t,n=function(t){return"".concat(e("Upload in progress")," ").concat(parseInt(t),"%.")};this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[Ipt]}}]),n}(pz);Xa(Zpt,Ef);var Qpt=function(){function t(e,n){Upt(this,t),this.id=_a(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=n(this),this._reader=new Vpt,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(t,e){return e?t/e*100:0})),this.set("uploadResponse",null)}return $pt(t,[{key:"read",value:function(){var t=this;if("idle"!=this.status)throw new Oa["b"]("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then((function(e){return t._reader.read(e)})).then((function(e){if("reading"!==t.status)throw t.status;return t.status="idle",e})).catch((function(e){if("aborted"===e)throw t.status="aborted","aborted";throw t.status="error",t._reader.error?t._reader.error:e}))}},{key:"upload",value:function(){var t=this;if("idle"!=this.status)throw new Oa["b"]("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then((function(){return t._adapter.upload()})).then((function(e){return t.uploadResponse=e,t.status="idle",e})).catch((function(e){if("aborted"===t.status)throw"aborted";throw t.status="error",e}))}},{key:"abort",value:function(){var t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((function(){})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(t){var e={};return e.promise=new Promise((function(n,r){e.rejecter=r,e.isFulfilled=!1,t.then((function(t){e.isFulfilled=!0,n(t)})).catch((function(t){e.isFulfilled=!0,r(t)}))})),e}},{key:"file",get:function(){var t=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((function(e){return t._filePromiseWrapper?e:null})):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}}]),t}();Xa(Qpt,Ef);var tyt=n("3879"),eyt=n.n(tyt);n("8030"),n("bcf9"),n("5f69");function nyt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ryt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ryt(t,e){if(t){if("string"===typeof t)return oyt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oyt(t,e):void 0}}function oyt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iyt(t){return iyt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iyt(t)}function ayt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uyt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cyt(t,e,n){return e&&uyt(t.prototype,e),n&&uyt(t,n),t}function syt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lyt(t,e)}function lyt(t,e){return lyt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lyt(t,e)}function fyt(t){var e=yyt();return function(){var n,r=dyt(t);if(e){var o=dyt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hyt(this,n)}}function hyt(t,e){return!e||"object"!==iyt(e)&&"function"!==typeof e?pyt(t):e}function pyt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yyt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function dyt(t){return dyt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dyt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var vyt=function(t){syt(n,t);var e=fyt(n);function n(t){var r;return ayt(this,n),r=e.call(this,t),r.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent(eyt.a),r}return cyt(n,[{key:"init",value:function(){var t=this,e=this.editor;e.editing.downcastDispatcher.on("attribute:uploadStatus:image",(function(){return t.uploadStatusChange.apply(t,arguments)}))}},{key:"uploadStatusChange",value:function(t,e,n){var r=this.editor,o=e.item,i=o.getAttribute("uploadId");if(n.consumable.consume(e.item,t.name)){var a=r.plugins.get(Zpt),u=i?e.attributeNewValue:null,c=this.placeholder,s=r.editing.mapper.toViewElement(o),l=n.writer;if("reading"==u)return myt(s,l),void gyt(c,s,l);if("uploading"==u){var f=a.loaders.get(i);return myt(s,l),void(f?(wyt(s,l),_yt(s,l,f,r.editing.view),jyt(s,l,f)):gyt(c,s,l))}"complete"==u&&a.loaders.get(i)&&Syt(s,l,r.editing.view),kyt(s,l),wyt(s,l),byt(s,l)}}}]),n}(pz);function myt(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function byt(t,e){e.removeClass("ck-appear",t)}function gyt(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);var r=Hat(e);r.getAttribute("src")!==t&&n.setAttribute("src",t,r),Ayt(e,"placeholder")||n.insert(n.createPositionAfter(r),Pyt(n))}function wyt(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),Ryt(t,e,"placeholder")}function _yt(t,e,n,r){var o=Oyt(e);e.insert(e.createPositionAt(t,"end"),o),n.on("change:uploadedPercent",(function(t,e,n){r.change((function(t){t.setStyle("width",n+"%",o)}))}))}function kyt(t,e){Ryt(t,e,"progressBar")}function Syt(t,e,n){var r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),r),setTimeout((function(){n.change((function(t){return t.remove(t.createRangeOn(r))}))}),3e3)}function Oyt(t){var e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}function Pyt(t){var e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}function Ayt(t,e){var n,r=nyt(t.getChildren());try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.getCustomProperty(e))return o}}catch(i){r.e(i)}finally{r.f()}}function Ryt(t,e,n){var r=Ayt(t,n);r&&e.remove(e.createRangeOn(r))}function jyt(t,e,n){if(n.data){var r=Hat(t);e.setAttribute("src",n.data,r)}}function Eyt(t){return Eyt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eyt(t)}function xyt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tyt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cyt(t,e,n){return e&&Tyt(t.prototype,e),n&&Tyt(t,n),t}function Iyt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dyt(t,e)}function Dyt(t,e){return Dyt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dyt(t,e)}function Myt(t){var e=Byt();return function(){var n,r=Fyt(t);if(e){var o=Fyt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nyt(this,n)}}function Nyt(t,e){return!e||"object"!==Eyt(e)&&"function"!==typeof e?Vyt(t):e}function Vyt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Byt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Fyt(t){return Fyt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fyt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Lyt=function(t){Iyt(n,t);var e=Myt(n);function n(){return xyt(this,n),e.apply(this,arguments)}return Cyt(n,[{key:"init",value:function(){this.on("show:warning",(function(t,e){window.alert(e.message)}),{priority:"lowest"})}},{key:"showSuccess",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}},{key:"showInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}},{key:"showWarning",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}},{key:"_showNotification",value:function(t){var e="show:".concat(t.type)+(t.namespace?":".concat(t.namespace):"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),n}(_pt);function zyt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uyt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hyt(t,e,n){return e&&Uyt(t.prototype,e),n&&Uyt(t,n),t}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var $yt=function(){function t(e){zyt(this,t),this.document=e}return Hyt(t,[{key:"createDocumentFragment",value:function(t){return new fy(this.document,t)}},{key:"createElement",value:function(t,e,n){return new Wl(this.document,t,e,n)}},{key:"createText",value:function(t){return new Zu(this.document,t)}},{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t._clone(e)}},{key:"appendChild",value:function(t,e){return e._appendChild(t)}},{key:"insertChild",value:function(t,e,n){return n._insertChild(t,e)}},{key:"removeChildren",value:function(t,e,n){return n._removeChildren(t,e)}},{key:"remove",value:function(t){var e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}},{key:"replace",value:function(t,e){var n=t.parent;if(n){var r=n.getChildIndex(t);return this.removeChildren(r,1,n),this.insertChild(r,e,n),!0}return!1}},{key:"unwrapElement",value:function(t){var e=t.parent;if(e){var n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}},{key:"rename",value:function(t,e){var n=new Wl(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}},{key:"setAttribute",value:function(t,e,n){n._setAttribute(t,e)}},{key:"removeAttribute",value:function(t,e){e._removeAttribute(t)}},{key:"addClass",value:function(t,e){e._addClass(t)}},{key:"removeClass",value:function(t,e){e._removeClass(t)}},{key:"setStyle",value:function(t,e,n){H(t)&&void 0===n&&(n=e),n._setStyle(t,e)}},{key:"removeStyle",value:function(t,e){e._removeStyle(t)}},{key:"setCustomProperty",value:function(t,e,n){n._setCustomProperty(t,e)}},{key:"removeCustomProperty",value:function(t,e){return e._removeCustomProperty(t)}},{key:"createPositionAt",value:function(t,e){return bh._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return bh._createAfter(t)}},{key:"createPositionBefore",value:function(t){return bh._createBefore(t)}},{key:"createRange",value:function(t,e){return new Ph(t,e)}},{key:"createRangeOn",value:function(t){return Ph._createOn(t)}},{key:"createRangeIn",value:function(t){return Ph._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Vh(t,e,n)}}]),t}();function Wyt(t){return Wyt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wyt(t)}function qyt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Yyt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Yyt(t,e){if(t){if("string"===typeof t)return Gyt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gyt(t,e):void 0}}function Gyt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kyt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jyt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xyt(t,e,n){return e&&Jyt(t.prototype,e),n&&Jyt(t,n),t}function Zyt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qyt(t,e)}function Qyt(t,e){return Qyt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qyt(t,e)}function tdt(t){var e=rdt();return function(){var n,r=odt(t);if(e){var o=odt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return edt(this,n)}}function edt(t,e){return!e||"object"!==Wyt(e)&&"function"!==typeof e?ndt(t):e}function ndt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rdt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function odt(t){return odt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},odt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var idt=function(t){Zyt(n,t);var e=tdt(n);function n(){return Kyt(this,n),e.apply(this,arguments)}return Xyt(n,[{key:"refresh",value:function(){this.isEnabled=Uat(this.editor.model)}},{key:"execute",value:function(t){var e=this.editor,n=e.model,r=e.plugins.get(Zpt);n.change((function(e){var o,i=Array.isArray(t.file)?t.file:[t.file],a=qyt(i);try{for(a.s();!(o=a.n()).done;){var u=o.value;adt(e,n,r,u)}}catch(c){a.e(c)}finally{a.f()}}))}}]),n}(eU);function adt(t,e,n,r){var o=n.createLoader(r);o&&zat(t,e,{uploadId:o.id})}function udt(t){return udt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},udt(t)}function cdt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=sdt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function sdt(t,e){if(t){if("string"===typeof t)return ldt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ldt(t,e):void 0}}function ldt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hdt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pdt(t,e,n){return e&&hdt(t.prototype,e),n&&hdt(t,n),t}function ydt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ddt(t,e)}function ddt(t,e){return ddt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ddt(t,e)}function vdt(t){var e=gdt();return function(){var n,r=wdt(t);if(e){var o=wdt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mdt(this,n)}}function mdt(t,e){return!e||"object"!==udt(e)&&"function"!==typeof e?bdt(t):e}function bdt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gdt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function wdt(t){return wdt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wdt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var _dt=function(t){ydt(n,t);var e=vdt(n);function n(t){var r;return fdt(this,n),r=e.call(this,t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),r}return pdt(n,null,[{key:"requires",get:function(){return[Zpt,Lyt,Xz]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),pdt(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.model.document,r=e.model.schema,o=e.conversion,i=e.plugins.get(Zpt),a=npt(e.config.get("image.upload.types"));r.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),e.commands.add("imageUpload",new idt(e)),o.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(function(t,n){if(!kdt(n.dataTransfer)){var r=Array.from(n.dataTransfer.files).filter((function(t){return!!t&&a.test(t.type)})),o=n.targetRanges.map((function(t){return e.editing.mapper.toModelRange(t)}));e.model.change((function(n){n.setSelection(o),r.length&&(t.stop(),e.model.enqueueChange("default",(function(){e.execute("imageUpload",{file:r})})))}))}})),this.listenTo(e.plugins.get(Xz),"inputTransformation",(function(t,n){var r=Array.from(e.editing.view.createRangeIn(n.content)).filter((function(t){return opt(t.item)&&!t.item.getAttribute("uploadProcessed")})).map((function(t){return{promise:rpt(t.item),imageElement:t.item}}));if(r.length){var o,a=new $yt(e.editing.view.document),u=cdt(r);try{for(u.s();!(o=u.n()).done;){var c=o.value;a.setAttribute("uploadProcessed",!0,c.imageElement);var s=i.createLoader(c.promise);s&&(a.setAttribute("src","",c.imageElement),a.setAttribute("uploadId",s.id,c.imageElement))}}catch(l){u.e(l)}finally{u.f()}}})),e.editing.view.document.on("dragover",(function(t,e){e.preventDefault()})),n.on("change",(function(){var r,o=n.differ.getChanges({includeChangesInGraveyard:!0}),a=cdt(o);try{for(a.s();!(r=a.n()).done;){var u=r.value;if("insert"==u.type&&"$text"!=u.name){var c,s=u.position.nodeAfter,l="$graveyard"==u.position.root.rootName,f=cdt(Sdt(e,s));try{for(f.s();!(c=f.n()).done;){var h=c.value,p=h.getAttribute("uploadId");if(p){var y=i.loaders.get(p);y&&(l?y.abort():"idle"==y.status&&t._readAndUpload(y,h))}}}catch(d){f.e(d)}finally{f.f()}}}}catch(d){a.e(d)}finally{a.f()}}))}},{key:"_readAndUpload",value:function(t,e){var n=this,r=this.editor,o=r.model,i=r.locale.t,a=r.plugins.get(Zpt),u=r.plugins.get(Lyt);return o.enqueueChange("transparent",(function(t){t.setAttribute("uploadStatus","reading",e)})),t.read().then((function(){var n=t.upload();if(Rp.isSafari){var i=r.editing.mapper.toViewElement(e),a=Hat(i);r.editing.view.once("render",(function(){if(a.parent){var t=r.editing.view.domConverter.mapViewToDom(a.parent);if(t){var e=t.style.display;t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=e}}}))}return o.enqueueChange("transparent",(function(t){t.setAttribute("uploadStatus","uploading",e)})),n})).then((function(t){o.enqueueChange("transparent",(function(r){r.setAttributes({uploadStatus:"complete",src:t.default},e),n._parseAndSetSrcsetAttributeOnImage(t,e,r)})),c()})).catch((function(n){if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&n&&u.showWarning(n,{title:i("Upload failed"),namespace:"upload"}),c(),o.enqueueChange("transparent",(function(t){t.remove(e)}))}));function c(){o.enqueueChange("transparent",(function(t){t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e)})),a.destroyLoader(t)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(t,e,n){var r=0,o=Object.keys(t).filter((function(t){var e=parseInt(t,10);if(!isNaN(e))return r=Math.max(r,e),!0})).map((function(e){return"".concat(t[e]," ").concat(e,"w")})).join(", ");""!=o&&n.setAttribute("srcset",{data:o,width:r},e)}}]),n}(pz);function kdt(t){return Array.from(t.types).includes("text/html")&&""!==t.getData("text/html")}function Sdt(t,e){return Array.from(t.model.createRangeOn(e)).filter((function(t){return t.item.is("image")})).map((function(t){return t.item}))}function Odt(t){return Odt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Odt(t)}function Pdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Adt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rdt(t,e,n){return e&&Adt(t.prototype,e),n&&Adt(t,n),t}function jdt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Edt(t,e)}function Edt(t,e){return Edt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Edt(t,e)}function xdt(t){var e=Idt();return function(){var n,r=Ddt(t);if(e){var o=Ddt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tdt(this,n)}}function Tdt(t,e){return!e||"object"!==Odt(e)&&"function"!==typeof e?Cdt(t):e}function Cdt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Idt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ddt(t){return Ddt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ddt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Mdt=function(t){jdt(n,t);var e=xdt(n);function n(){return Pdt(this,n),e.apply(this,arguments)}return Rdt(n,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[_dt,mpt,vyt]}}]),n}(pz),Ndt=n("2074"),Vdt=n.n(Ndt);function Bdt(t){return Bdt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bdt(t)}function Fdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ldt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zdt(t,e,n){return e&&Ldt(t.prototype,e),n&&Ldt(t,n),t}function Udt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hdt(t,e)}function Hdt(t,e){return Hdt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hdt(t,e)}function $dt(t){var e=Ydt();return function(){var n,r=Gdt(t);if(e){var o=Gdt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wdt(this,n)}}function Wdt(t,e){return!e||"object"!==Bdt(e)&&"function"!==typeof e?qdt(t):e}function qdt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ydt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Gdt(t){return Gdt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gdt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Kdt=function(t){Udt(n,t);var e=$dt(n);function n(){return Fdt(this,n),e.apply(this,arguments)}return zdt(n,[{key:"init",value:function(){var t=this.editor,e=t.ui.componentFactory,n=t.t;e.add("ckfinder",(function(e){var r=t.commands.get("ckfinder"),o=new IB(e);return o.set({label:n("Insert image or file"),icon:Vdt.a,tooltip:!0}),o.bind("isEnabled").to(r),o.on("execute",(function(){t.execute("ckfinder"),t.editing.view.focus()})),o}))}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),n}(pz);function Jdt(t){return Jdt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jdt(t)}function Xdt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Zdt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Zdt(t,e){if(t){if("string"===typeof t)return Qdt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qdt(t,e):void 0}}function Qdt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tvt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function evt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nvt(t,e,n){return e&&evt(t.prototype,e),n&&evt(t,n),t}function rvt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ovt(t,e)}function ovt(t,e){return ovt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ovt(t,e)}function ivt(t){var e=cvt();return function(){var n,r=svt(t);if(e){var o=svt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return avt(this,n)}}function avt(t,e){return!e||"object"!==Jdt(e)&&"function"!==typeof e?uvt(t):e}function uvt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cvt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function svt(t){return svt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},svt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var lvt=function(t){rvt(n,t);var e=ivt(n);function n(t){var r;return tvt(this,n),r=e.call(this,t),r.stopListening(r.editor.model.document,"change"),r.listenTo(r.editor.model.document,"change",(function(){return r.refresh()}),{priority:"low"}),r}return nvt(n,[{key:"refresh",value:function(){var t=this.editor.commands.get("imageInsert"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}},{key:"execute",value:function(){var t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new Oa["b"]('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',t);var n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;var r=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=function(e){r&&r(e),e.on("files:choose",(function(n){var r,o=n.data.files.toArray(),i=o.filter((function(t){return!t.isImage()})),a=o.filter((function(t){return t.isImage()})),u=Xdt(i);try{for(u.s();!(r=u.n()).done;){var c=r.value;t.execute("link",c.getUrl())}}catch(y){u.e(y)}finally{u.f()}var s,l=[],f=Xdt(a);try{for(f.s();!(s=f.n()).done;){var h=s.value,p=h.getUrl();l.push(p||e.request("file:getProxyUrl",{file:h}))}}catch(y){f.e(y)}finally{f.f()}l.length&&fvt(t,l)})),e.on("file:choose:resizedImage",(function(e){var n=e.data.resizedUrl;if(n)fvt(t,[n]);else{var r=t.plugins.get("Notification"),o=t.locale.t;r.showWarning(o("Could not obtain resized image URL."),{title:o("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[e](n)}}]),n}(eU);function fvt(t,e){var n=t.commands.get("imageInsert");if(n.isEnabled)t.execute("imageInsert",{source:e});else{var r=t.plugins.get("Notification"),o=t.locale.t;r.showWarning(o("Could not insert image at the current position."),{title:o("Inserting image failed"),namespace:"ckfinder"})}}function hvt(t){return hvt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hvt(t)}function pvt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yvt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dvt(t,e,n){return e&&yvt(t.prototype,e),n&&yvt(t,n),t}function vvt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mvt(t,e)}function mvt(t,e){return mvt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mvt(t,e)}function bvt(t){var e=_vt();return function(){var n,r=kvt(t);if(e){var o=kvt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gvt(this,n)}}function gvt(t,e){return!e||"object"!==hvt(e)&&"function"!==typeof e?wvt(t):e}function wvt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _vt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function kvt(t){return kvt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kvt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Svt=function(t){vvt(n,t);var e=bvt(n);function n(){return pvt(this,n),e.apply(this,arguments)}return dvt(n,[{key:"init",value:function(){var t=this.editor;t.commands.add("ckfinder",new lvt(t))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[Lyt,Sut,RZ]}}]),n}(pz);function Ovt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Pvt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Pvt(t,e){if(t){if("string"===typeof t)return Avt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Avt(t,e):void 0}}function Avt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Rvt="ckCsrfToken",jvt=40,Evt="abcdefghijklmnopqrstuvwxyz0123456789";function xvt(){var t=Tvt(Rvt);return t&&t.length==jvt||(t=Ivt(jvt),Cvt(Rvt,t)),t}function Tvt(t){t=t.toLowerCase();var e,n=document.cookie.split(";"),r=Ovt(n);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.split("="),a=decodeURIComponent(i[0].trim().toLowerCase());if(a===t)return decodeURIComponent(i[1])}}catch(u){r.e(u)}finally{r.f()}return null}function Cvt(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"}function Ivt(t){var e="",n=new Uint8Array(t);window.crypto.getRandomValues(n);for(var r=0;r<n.length;r++){var o=Evt.charAt(n[r]%Evt.length);e+=Math.random()>.5?o.toUpperCase():o}return e}function Dvt(t){return Dvt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dvt(t)}function Mvt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nvt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vvt(t,e,n){return e&&Nvt(t.prototype,e),n&&Nvt(t,n),t}function Bvt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fvt(t,e)}function Fvt(t,e){return Fvt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fvt(t,e)}function Lvt(t){var e=Hvt();return function(){var n,r=$vt(t);if(e){var o=$vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zvt(this,n)}}function zvt(t,e){return!e||"object"!==Dvt(e)&&"function"!==typeof e?Uvt(t):e}function Uvt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hvt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function $vt(t){return $vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$vt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Wvt=function(t){Bvt(n,t);var e=Lvt(n);function n(){return Mvt(this,n),e.apply(this,arguments)}return Vvt(n,[{key:"init",value:function(){var t=this,e=this.editor.config.get("ckfinder.uploadUrl");e&&(this.editor.plugins.get(Zpt).createUploadAdapter=function(n){return new qvt(n,e,t.editor.t)})}}],[{key:"requires",get:function(){return[Zpt]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),n}(pz),qvt=function(){function t(e,n,r){Mvt(this,t),this.loader=e,this.url=n,this.t=r}return Vvt(t,[{key:"upload",value:function(){var t=this;return this.loader.file.then((function(e){return new Promise((function(n,r){t._initRequest(),t._initListeners(n,r,e),t._sendRequest(e)}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}},{key:"_initListeners",value:function(t,e,n){var r=this.xhr,o=this.loader,i=this.t,a=i("Cannot upload file:")+" ".concat(n.name,".");r.addEventListener("error",(function(){return e(a)})),r.addEventListener("abort",(function(){return e()})),r.addEventListener("load",(function(){var n=r.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:a);t({default:n.url})})),r.upload&&r.upload.addEventListener("progress",(function(t){t.lengthComputable&&(o.uploadTotal=t.total,o.uploaded=t.loaded)}))}},{key:"_sendRequest",value:function(t){var e=new FormData;e.append("upload",t),e.append("ckCsrfToken",xvt()),this.xhr.send(e)}}]),t}();function Yvt(t){return Yvt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yvt(t)}function Gvt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kvt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jvt(t,e,n){return e&&Kvt(t.prototype,e),n&&Kvt(t,n),t}function Xvt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zvt(t,e)}function Zvt(t,e){return Zvt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zvt(t,e)}function Qvt(t){var e=nmt();return function(){var n,r=rmt(t);if(e){var o=rmt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tmt(this,n)}}function tmt(t,e){return!e||"object"!==Yvt(e)&&"function"!==typeof e?emt(t):e}function emt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nmt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function rmt(t){return rmt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rmt(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var omt=function(t){Xvt(n,t);var e=Qvt(n);function n(){return Gvt(this,n),e.apply(this,arguments)}return Jvt(n,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return[Svt,Kdt,Wvt]}}]),n}(pz);function imt(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function amt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){imt(i,r,o,a,u,"next",t)}function u(t){imt(i,r,o,a,u,"throw",t)}a(void 0)}))}}function umt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cmt={name:"CalendarEvents",components:{HeaderBox:u["a"],Pagination:c["a"]},data:function(){var t;return t={editor:cz,editorData:"",editorConfig:{plugins:[bG,gK,iJ,v1,a2,j5,N7,x4,O6,R9,Dtt,sot,bat,Jct,qlt,Mdt,Lht,Dst,cht,omt],toolbar:{items:["heading","|","bold","italic","|","fontBackgroundColor","fontColor","fontSize","|","link","imageUpload","mediaEmbed","|","alignment","numberedList","|","undo","redo"]},image:{toolbar:["imageTextAlternative","|","imageStyle:full","imageStyle:side"]},ckfinder:{uploadUrl:"https://scan.1966.org.tw/images/Upload/Pic",options:{resourceType:"Images"}}},userNameLoading:!1,eventsData:"",eventTypeData:"",unitsData:"",usersData:"",rolesData:["主席/主任委員","副主任委員","執行秘書","副執行秘書","當任委員/代表","選任委員/代表","系(中心)主任代表","導師代表","教師代表","學生代表","職員(工)代表","家長代表","業務單位代表","專家(學者)顧問代表","業界代表","列席代表(人員)","諮詢顧問","社會公正人士","工作小組人員"],userData:"",usersTable:[],allMembersData:"",eventNameInput:"",inputDescription:"",eventCategorySelete:"",showDate:[],eventDate:[],eventSiteInput:"",eventUrlInput:"",unitSelete:"",uploadUrl:"",unit1:"",unit2:"",unit3:"",userNameSelect:"",rloeSelect:"",isRelated:!0,memberTitle:"",eventIds:"",changeMemberData:[],changeMember:"",newChangeMember:""},umt(t,"allMembersData",""),umt(t,"copyEventId",""),umt(t,"searchLoading",!1),umt(t,"addLoading",!1),umt(t,"totalCount",""),umt(t,"pageSize",""),umt(t,"currentPage",1),umt(t,"addOrEdit","新增"),umt(t,"editEventId",""),umt(t,"startDate",""),umt(t,"endDate",""),umt(t,"keyWordInput",""),umt(t,"uploadHeader",{Authorization:"Bearer ".concat(window.localStorage.getItem("Token"))}),umt(t,"member",""),umt(t,"buttonList",[]),umt(t,"addOrEditDialog",!1),umt(t,"importDialogVisible",!1),umt(t,"changeDialog",!1),umt(t,"searchDate",""),t},computed:{unitLv1:function(){var t=this;return t.unitsData.filter((function(t){return"1"===t.UntLevelb}))},unitLv2:function(){var t=this,e=t.unitsData.filter((function(e){return e.UntId===t.unit1})),n=e[0];return t.unitsData.filter((function(t){return t.UntIdUp===n.UntId&&"2"===t.UntLevelb}))},unitLv3:function(){var t=this,e=t.unitsData.filter((function(e){return e.UntId===t.unit2})),n=e[0];return t.unitsData.filter((function(t){return t.UntIdUp===n.UntId&&"3"===t.UntLevelb}))},usersTableData:function(){return this.usersTable},userControlUnit:function(){var t=this,e=JSON.parse(window.localStorage.getItem("user")).CtrlUnits,n=e.map((function(e){return t.unitsData.filter((function(t){return t.UntId===e}))[0]}));return n}},methods:{onReady:function(t){var e=this.$refs.ck;console.log(e),this.$refs.ck.prepend(t.ui.view.toolbar.element)},beforeUpload:function(t){return console.log(t),!1},getUnits:function(){var t=this;return amt(a.a.mark((function e(){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,n.$api.GetUnits().then((function(t){n.unitsData=t.data}));case 3:case"end":return e.stop()}}),e)})))()},getEvents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,n={key:e.keyWordInput,page:t,startDate:e.startDate,endDate:e.endDate};e.$api.GetEventsPage(n).then((function(n){console.log(n),e.totalCount=n.data.response.dataCount,e.pageSize=n.data.response.PageSize,e.currentPage=t;var r=n.data.response.data;r.map((function(t){t.EventEndDate=l()(t.EventEndDate).format("YYYY-MM-DD HH:mm"),t.EventStartDate=l()(t.EventStartDate).format("YYYY-MM-DD HH:mm"),t.ShowEndDate=l()(t.ShowEndDate).format("YYYY-MM-DD HH:mm"),t.ShowStartDate=l()(t.ShowStartDate).format("YYYY-MM-DD HH:mm")})),e.eventsData=r,e.$store.dispatch("loadingHandler",!1)}))},getEventType:function(){var t=JSON.parse(window.localStorage.user);this.eventTypeData=t.DropCtrlTypes},getAllUser:function(){var t=this;t.$api.GetUsers({unitCode:""}).then((function(e){t.allMembersData=e.data.map((function(t){return t.value=t.Name,t}))}))},lv1Change:function(){var t=this;t.unit2="",t.unit3="",t.userNameSelect="";var e=t.unit1,n={unitCode:e};t.getUsers(n)},lv2Change:function(){var t=this;t.unit3="",t.userNameSelect="";var e=t.unit2,n={unitCode:e};t.getUsers(n)},lv3Change:function(){var t=this;t.userNameSelect="";var e=t.unit3,n={unitCode:e};t.getUsers(n)},setUser:function(){var t=this,e=t.userNameSelect,n=t.usersData.filter((function(t){return t.Account===e}));t.userData=n[0],console.log(t.userData)},getUsers:function(t){var e=this;if(e.userNameLoading=!0,e.isRelated)e.$api.GetUsers(t).then((function(t){e.usersData=t.data,e.userNameLoading=!1}));else{var n={unitCode:""};e.$api.GetUsers(n).then((function(t){console.log(t),e.usersData=t.data,e.userNameLoading=!1}))}},successUpload:function(t){var e=this;e.uploadUrl.push(t.response),e.$nextTick((function(){e.$refs.upload.clearFiles()}))},delFile:function(t){console.log(t),this.uploadUrl.splice(t,1)},fileName:function(t){if(t)return t.split("\\")[1].split(".")[0]},addToTable:function(){var t=this;if(t.userData)if(t.addLoading=!0,t.isRelated){var e=t.userData.Account,n=t.userData.UserType,r=t.userData.UnitCode,o=t.userData.Name,i=t.memberTitle,a=t.userData.UnitName,u=t.eventCategorySelete,c={userId:e,eventId:u,userType:n,unitCode:r,userName:o,usertitle:i,unit:a},s=l()(t.eventDate[0]).format("YYYY-MM-DD HH:mm:ss"),f=l()(t.eventDate[1]).format("YYYY-MM-DD HH:mm:ss"),h=t.userData.Name,p={startDate:s,EndDate:f,UserName:h};t.$api.CheckUserHasEvent(p).then((function(e){e.data.success?(t.$alertT.fire({icon:"success",title:"成功加入".concat(h)}),t.addLoading=!1,t.usersTable.push(c),t.unit1="",t.unit2="",t.unit3="",t.memberTitle="",t.rloeSelect="",t.userNameSelect="",t.userData="",t.usersData=""):t.$swal({title:"重複參與活動/會議提示",text:"".concat(o," 已於同時間參與 ").concat(e.data.response," 活動，是否依舊將加入活動參與人員 ?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#2f3e52",cancelButtonColor:"#522f2f",confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(e){e.value?(t.addLoading=!1,t.$alertT.fire({icon:"success",title:"成功加入".concat(h)}),t.usersTable.push(c),t.unit1="",t.unit2="",t.unit3="",t.memberTitle="",t.rloeSelect="",t.userNameSelect="",t.userData="",t.usersData=""):(t.addLoading=!1,t.$alertT.fire({icon:"info",title:"已取消加入"}))}))}))}else{console.log("nR");var y=t.userData.Account,d=t.userData.UserType,v=t.unit3||t.unit2||t.unit1,m=t.userData.Name,b=t.memberTitle,g=t.unitsData.filter((function(t){return t.UntId===v})),w=g[0].UntNameFull,_=t.eventCategorySelete,k={userId:y,eventId:_,userType:d,unitCode:v,userName:m,usertitle:b,unit:w},S=l()(t.eventDate[0]).format("YYYY-MM-DD HH:mm:ss"),O=l()(t.eventDate[1]).format("YYYY-MM-DD HH:mm:ss"),P=t.userData.Name,A={startDate:S,EndDate:O,UserName:P};t.$api.CheckUserHasEvent(A).then((function(e){console.log(e),e.data.success?(t.addLoading=!1,t.$alertT.fire({icon:"success",title:"成功加入".concat(P)}),t.usersTable.push(k),t.unit1="",t.unit2="",t.unit3="",t.memberTitle="",t.rloeSelect="",t.userNameSelect="",t.userData="",t.usersData=""):t.$swal({title:"重複參與活動/會議提示",text:"".concat(m," 已於同時間參與 ").concat(e.data.response," 活動，是否依舊將加入活動參與人員 ?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#2f3e52",cancelButtonColor:"#522f2f",confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(e){e.value?(t.addLoading=!1,t.$alertT.fire({icon:"success",title:"成功加入".concat(P)}),t.usersTable.push(k),t.unit1="",t.unit2="",t.unit3="",t.memberTitle="",t.rloeSelect="",t.userNameSelect="",t.userData="",t.usersData=""):(t.addLoading=!1,t.$alertT.fire({icon:"info",title:"已取消加入"}))}))}))}else t.$alertM.fire({icon:"error",title:"請確認是否正確選擇參與人員及會議 / 活動時間"})},deleteRow:function(t,e){e.splice(t,1)},addHandler:function(){var t=this;return amt(a.a.mark((function e(){var n,r,o,i,u,c,s,f,h,p,y,d,v,m,b,g;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,n.$refs.obs.validate();case 3:r=e.sent,r?0==n.usersTableData.length?n.$alertM.fire({icon:"error",title:"請確實新增參與人員!"}):(o=n.eventNameInput,i=n.eventCategorySelete,u=n.inputDescription,c=l()(n.eventDate[0]).format("YYYY-MM-DD HH:mm:ss"),s=l()(n.eventDate[1]).format("YYYY-MM-DD HH:mm:ss"),f=l()(n.showDate[0]).format("YYYY-MM-DD HH:mm:ss"),h=l()(n.showDate[1]).format("YYYY-MM-DD HH:mm:ss"),p=n.eventSiteInput,y=!0,d=n.unitSelete,v=n.uploadUrl,m=n.eventUrlInput,b=n.usersTableData,g={eventName:o,eventTypeId:i,summary:u,eventStartDate:c,eventEndDate:s,showStartDate:f,showEndDate:h,eventAddr:p,pushData:y,unitCode:d,attachDoc:v,linkUrl:m,joinUsers:b},console.log(g),n.$api.AddEvent(g).then((function(t){t.data.success?(n.addOrEditDialog=!1,n.$alertM.fire({icon:"success",title:"成功".concat(n.addOrEdit).concat(o)}),n.getEvents()):(n.addOrEditDialog=!1,n.$alertM.fire({icon:"error",title:"".concat(n.addOrEdit,"失敗")}))}))):n.$alertM.fire({icon:"error",title:"請確認欄位是否正確填寫"});case 5:case"end":return e.stop()}}),e)})))()},handleAddOrEdit:function(t,e){var n=this;return amt(a.a.mark((function r(){var o,i;return a.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=n,!o.$refs.obs){r.next=4;break}return r.next=4,o.$refs.obs.reset();case 4:"add"===t?(o.addOrEdit="新增",o.addOrEditDialog=!0,o.eventNameInput="",o.inputDescription="",o.eventCategorySelete="",o.showDate=[],o.eventDate=[],o.eventSiteInput="",o.eventUrlInput="",o.uploadUrl=[],o.unit1="",o.unit2="",o.unit3="",o.userNameSelect="",o.unitSelete="",o.rloeSelect="",o.usersTable=[],o.$nextTick((function(){o.$refs.upload.clearFiles()}))):(o.addOrEdit="編輯",o.editEventId=e.Id,o.$store.dispatch("loadingHandler",!0),i={Id:e.Id},o.$api.GetEventById(i).then((function(t){var e=t.data.response;o.$store.dispatch("loadingHandler",!1),console.log(e),o.showDate=[],o.eventDate=[],o.eventNameInput=e.EventName,o.inputDescription=e.Summary,o.uploadUrl=e.AttachDoc,o.eventCategorySelete=e.EventTypeId,o.showDate[0]=l()(e.ShowStartDate).format("YYYY-MM-DD HH:mm:ss"),o.showDate[1]=l()(e.ShowEndDate).format("YYYY-MM-DD HH:mm:ss"),o.eventDate[0]=l()(e.EventStartDate).format("YYYY-MM-DD HH:mm:ss"),o.eventDate[1]=l()(e.EventEndDate).format("YYYY-MM-DD HH:mm:ss"),o.eventSiteInput=e.EventAddr,o.eventUrlInput=e.LinkUrl,o.unitSelete=e.UnitCode,o.unit1="",o.unit2="",o.unit3="",o.userNameSelect="",o.rloeSelect="",o.usersTable=e.JoinUsers,o.$nextTick((function(){o.addOrEditDialog=!0,o.$nextTick((function(){o.$refs.upload.clearFiles()}))}))})));case 5:case"end":return r.stop()}}),r)})))()},changeHandler:function(){var t=this;return amt(a.a.mark((function e(){var n,r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,n.$store.dispatch("loadingHandler",!0),!n.$refs.obs2){e.next=5;break}return e.next=5,n.$refs.obs2.reset();case 5:n.changeMember="",n.newChangeMember="",r=n.eventIds,r?(o={eventIds:r},n.$api.GetJoinUserByEventIds(o).then((function(t){console.log(t.data.response),n.changeMemberData=t.data.response,n.changeDialog=!0,n.$store.dispatch("loadingHandler",!1)}))):(n.$store.dispatch("loadingHandler",!1),n.$alertM.fire({icon:"error",title:"請勾選欲替換人員之活動"}));case 9:case"end":return e.stop()}}),e)})))()},confirmChange:function(){var t=this;return amt(a.a.mark((function e(){var n,r,o,i,u,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,n.$refs.obs2.validate();case 3:r=e.sent,r&&n.changeMember?(o=n.eventIds,i=n.changeMember,u=n.newChangeMember,c={eventIds:o,oldName:i,newName:u},n.$api.ChangeMember(c).then((function(t){n.changeDialog=!1,console.log(t),n.getEvents(),n.$alertM.fire({icon:"success",title:"人員替換成功! ".concat(t.data.response)})}))):n.$alertM.fire({icon:"error",title:"請確認欄位是否正確填寫"});case 5:case"end":return e.stop()}}),e)})))()},searchHandlerDate:function(t){var e=t.page,n=t.key,r=t.startDate,o=t.endDate;console.log(e,n,r,o);var i=this;i.searchLoading=!0,i.keyWordInput=n,i.startDate=r,i.endDate=o;var a={key:n,page:e,startDate:r,endDate:o};i.$api.SearchEvent(a).then((function(t){i.totalCount=t.data.response.dataCount,i.pageSize=t.data.response.PageSize;var e=t.data.response.data;e.map((function(t){t.EventEndDate=l()(t.EventEndDate).format("YYYY-MM-DD HH:mm"),t.EventStartDate=l()(t.EventStartDate).format("YYYY-MM-DD HH:mm"),t.ShowEndDate=l()(t.ShowEndDate).format("YYYY-MM-DD HH:mm"),t.ShowStartDate=l()(t.ShowStartDate).format("YYYY-MM-DD HH:mm")})),i.eventsData=e,i.searchLoading=!1,i.currentPage=1}))},exportHandler:function(t){var e,n,r=this,o=t.key,i=t.startDate,a=t.endDate,u=this,c=l()(new Date).format("YYYYMMDDHHMM");e=i?"".concat(i," ~ ").concat(a):"所有",n=o?"關鍵字為".concat(o):"",u.$swal({title:"匯出提示",html:"即將匯出".concat(e).concat(n,"的資料 <br /><p class='fontRed'>*匯出內容將與搜尋結果相同*</p>"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#2f3e52",cancelButtonColor:"#522f2f",confirmButtonText:"確定匯出",cancelButtonText:"取消"}).then((function(t){if(t.value){var e={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.$store.state.token)},responseType:"blob"};r.$http.get("https://scan.1966.org.tw/api/CalendarEvent/GetCalendarExcel?key=".concat(o,"&startDate=").concat(i,"&endDate=").concat(a),e).then((function(t){console.log(t);var e=new Blob([t.data],{type:"application/"+t.headers["content-type"]}),n=document.createElement("a"),r=window.URL.createObjectURL(e);n.href=r,n.download="行事曆事件_".concat(c,".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r),u.$alertT.fire({icon:"success",title:"匯出成功"})}))}else u.$alertT.fire({icon:"info",title:"已取消匯出"})}))},importHandler:function(t){var e=this;this.importDialogVisible=t,this.$nextTick((function(){e.$refs.import.clearFiles()}))},importExceed:function(){var t=this;t.$alertM.fire({icon:"info",title:"限制單檔上傳"})},confireImport:function(){this.$refs.import.submit()},beforeAvatarUpload:function(t){var e=this,n=t.name.substring(t.name.lastIndexOf(".")+1),r="xls"===n,o="xlsx"===n;if(!r&&!o)return e.$alertM.fire({icon:"error",title:"僅接受檔案格式為 xlsx 或 xls !"}),!1},successImport:function(t){var e=this;t.success?(e.$alertM.fire({icon:"success",title:t.msg}),e.importDialogVisible=!1,e.getEvents()):(e.$alertM.fire({icon:"error",title:t.msg}),e.importDialogVisible=!1)},errorImport:function(t){var e=this;e.$alertM.fire({icon:"error",title:t.msg})},copyHandler:function(t){console.log(t);var e=this;e.addOrEdit="複製",e.copyEventId=t.Id,e.$store.dispatch("loadingHandler",!0);var n={Id:t.Id};e.$api.GetEventById(n).then((function(t){var n=t.data.response;e.$store.dispatch("loadingHandler",!1),console.log(n),e.showDate=[],e.eventDate=[],e.eventNameInput=n.EventName,e.inputDescription=n.Summary,e.eventCategorySelete=n.EventTypeId,e.uploadUrl=n.AttachDoc,e.showDate[0]=l()(n.ShowStartDate).format("YYYY-MM-DD HH:mm:ss"),e.showDate[1]=l()(n.ShowEndDate).format("YYYY-MM-DD HH:mm:ss"),e.eventDate[0]=l()(n.EventStartDate).format("YYYY-MM-DD HH:mm:ss"),e.eventDate[1]=l()(n.EventEndDate).format("YYYY-MM-DD HH:mm:ss"),e.eventSiteInput=n.EventAddr,e.eventUrlInput=n.LinkUrl,e.unitSelete=n.UnitCode,e.unit1="",e.unit2="",e.unit3="",e.userNameSelect="",e.rloeSelect="",e.usersTable=n.JoinUsers,e.$nextTick((function(){e.addOrEditDialog=!0,e.$nextTick((function(){e.$refs.upload.clearFiles()}))}))}))},editHandler:function(){var t=this;return amt(a.a.mark((function e(){var n,r,o,i,u,c,s,f,h,p,y,d,v,m,b,g,w;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,n.$refs.obs.validate();case 3:r=e.sent,r?0==n.usersTableData.length?n.$alertM.fire({icon:"error",title:"請確實新增參與人員!"}):(o=n.editEventId,i=n.eventNameInput,u=n.eventCategorySelete,c=n.inputDescription,s=l()(n.eventDate[0]).format("YYYY-MM-DD HH:mm:ss"),f=l()(n.eventDate[1]).format("YYYY-MM-DD HH:mm:ss"),h=l()(n.showDate[0]).format("YYYY-MM-DD HH:mm:ss"),p=l()(n.showDate[1]).format("YYYY-MM-DD HH:mm:ss"),y=n.eventSiteInput,d=!0,v=n.unitSelete,m=n.uploadUrl,b=n.eventUrlInput,g=n.usersTableData,w={id:o,eventName:i,eventTypeId:u,summary:c,eventStartDate:s,eventEndDate:f,showStartDate:h,showEndDate:p,eventAddr:y,pushData:d,unitCode:v,attachDoc:m,linkUrl:b,joinUsers:g},console.log(w),n.$api.EditEvent(w).then((function(t){t.data.success?(n.addOrEditDialog=!1,n.$alertM.fire({icon:"success",title:"".concat(i," 編輯成功")}),n.getEvents()):(n.addOrEditDialog=!1,n.$alertM.fire({icon:"error",title:"編輯失敗"}))}))):n.$alertM.fire({icon:"error",title:"請確認欄位是否正確填寫!"});case 5:case"end":return e.stop()}}),e)})))()},hasBtn:function(t){return this.buttonList.some((function(e){return e.iconCls==t}))},deleteHandler:function(t){console.log(t);var e=this;e.$swal({title:"刪除提示",text:"確認刪除 ".concat(t.EventName," (").concat(t.EventTypeName,") ?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#2f3e52",cancelButtonColor:"#522f2f",confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(n){if(n.value){var r={id:t.Id};e.$api.DeleteEvent(r).then((function(t){e.getEvents()})),e.$alertM.fire({icon:"success",title:"".concat(t.EventName," (").concat(t.EventTypeName,") 删除成功")})}else e.addLoading=!1,e.$alertT.fire({icon:"info",title:"已取消刪除"})}))},handleSelectionChange:function(t){var e=this,n=[];t.map((function(t){n.push(t.Id)})),e.eventIds=n.join(",")},getSearchDate:function(t){this.searchDate=t},getButtonList:function(t,e){var n=this,r=[];return e.forEach((function(e){if(t&&e.path){var o=t.toLowerCase();if(e.path&&e.path.toLowerCase()===o)return r=e.children,void(n.buttonList=r);e.children&&n.getButtonList(o,e.children)}})),r},querySearch:function(t,e){var n=this.allMembersData,r=t?n.filter(this.createFilter(t)):n;e(r),console.log(r)},createFilter:function(t){return function(e){return 0===e.value.indexOf(t)}}},mounted:function(){var t=this;return amt(a.a.mark((function e(){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("loadingHandler",!0),n=JSON.parse(window.localStorage.router)?JSON.parse(window.localStorage.router):[],t.getButtonList(t.$route.path,n),t.getEvents(),t.getEventType(),t.getAllUser(),e.next=8,t.getUnits();case 8:t.$store.dispatch("loadingHandler",!1);case 9:case"end":return e.stop()}}),e)})))()}},smt=cmt,lmt=n("2877"),fmt=Object(lmt["a"])(smt,r,o,!1,null,null,null);e["default"]=fmt.exports},f2ea:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function c(t){var e=p();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){var e="function"===typeof Map?new Map:void 0;return f=function(t){if(null===t||!y(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,v(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,t)},f(t)}function h(t,e,n){return h=p()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(t,r),i=new o;return n&&d(i,n.prototype),i},h.apply(null,arguments)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function y(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}
/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return g}));var m="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html",b=function(t){u(n,t);var e=c(n);function n(t,r,i){var a;return o(this,n),t=g(t),i&&(t+=" "+JSON.stringify(i)),a=e.call(this,t),a.name="CKEditorError",a.context=r,a.data=i,a}return a(n,[{key:"is",value:function(t){return"CKEditorError"===t}}],[{key:"rethrowUnexpectedError",value:function(t,e){if(t.is&&t.is("CKEditorError"))throw t;var r=new n(t.message,e);throw r.stack=t.stack,r}}]),n}(f(Error));function g(t){var e=t.match(/^([^:]+):/);return e?t+" Read more: ".concat(m,"#error-").concat(e[1],"\n"):t}},f422:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'},f5e9:function(t,e,n){},f945:function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>'},f9d3:function(t,e,n){},fa71:function(t,e){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>'},fc4c:function(t,e,n){},fecc:function(t,e,n){},ff23:function(t,e,n){},ffa0:function(t,e,n){}}]);
//# sourceMappingURL=chunk-83e9da20.1f04cd7a.js.map