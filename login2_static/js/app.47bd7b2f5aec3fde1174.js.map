{"version":3,"sources":["webpack:///./src/main.js"],"names":["Vue","config","productionTip","use","VueRouter","el","data","login_email","login_password","forget_sms","forget_newpassword","re_forget_newpassword","forget_phone","message","loging","show_news","mounted","methods","isShow","val","this","console","log","login","_ref","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","a","mark","_callee3","menu_arr","_this","wrap","_context3","prev","next","abrupt","axios","post","then","_ref2","_callee2","res","_context2","msg","localStorage","dk3_user","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","response","get","_ref3","_callee","res2","_context","dk3_token","token","uid","menu","alert","RoleId","location","href","stop","_x2","apply","arguments","_x","send_sms","_ref4","_callee4","_this2","_context4","check_sms","_ref5","_callee5","_this3","_context5","set_new_password","_ref6","_callee6","_this4","_context6","put","template"],"mappings":"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","file":"static/js/app.47bd7b2f5aec3fde1174.js","sourcesContent":["// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport \"@babel/polyfill\";\nimport Vue from 'vue'\nimport axios from 'axios'\nimport VueRouter from 'vue-router'\nimport './css/index.css'\n\nVue.config.productionTip = false\n\nVue.use(VueRouter)\n\n/* eslint-disable no-new */\nnew Vue({\n    el: \"#main\",\n    data() {\n      return {\n        login_email: \"\",\n        login_password: \"\",\n        forget_sms: \"\",\n        forget_newpassword: \"\",\n        re_forget_newpassword: \"\",\n        forget_phone: \"\",\n        message: \"login\",\n        loging:false,\n        show_news:true\n      }\n    },\n\t  mounted:function (){},\n    methods: {\n      isShow: function isShow(val) {\n        switch (val) {\n          case 0:\n            this.message = \"login\";\n            break;\n          case 1:\n            this.message = \"forget_newpassword\";\n            break;\n          case 2:\n            this.message = \"forget_sms\";\n            break;\n          case 3:\n            this.message = \"forget_setnewpassword\";\n            break;\n          default:\n            this.message = \"login\";\n            console.log(\"有問題回登入\");\n        }\n        return this.message;\n      },\n\t  login:async function() {\n      if(this.loging) {\n        return 0\n      }\n      this.loging=true\n\t    var menu_arr=[]\n        await axios.post(\"https://api.donkeymove.com/api/CompanyUser/CompanyUserLogin?acc=\"+this.login_email+\"&pwd=\"+this.login_password)\n        .then(async res=>{\n\t\t  console.log(res)\n\t\t  if(res.data.msg==\"成功\") {\n\t\t    localStorage.dk3_user =JSON.stringify(res.data.response);\n            await axios.get(\"https://api.donkeymove.com/api/CompanyUser/GetJwtToken/api/CompanyJWTToken?name=\"+this.login_email+\"&pass=\"+this.login_password)\n\t\t\t.then(async res2=>{\n\t\t\t  localStorage.dk3_token=JSON.stringify({token:res2.data.token,uid:res.data.response,menu:menu_arr})\n        alert(\"登入成功\")\n        if(res.data.response.RoleId==34) {\n          location.href = './new/#/DragDispatch/';\n        }\n        else {\n          location.href = './new/#/Chart1';\n        }\n\t\t\t})\n\t\t  }\n      else if(res.data.msg==\"當前使用系統設定之密碼，首次登入需先更換密碼方可正常使用\") {\n        alert(res.data.msg)\n        this.forget_phone=this.login_email\n        this.isShow(3)\n        this.loging=false\n      }\n\t\t  else {\n\t\t\t  alert(res.data.msg)\n        this.loging=false\n\t\t  }\n\t    })\n\t  },\n    send_sms:async function() {\n      if(this.forget_phone==\"\") {\n        alert(\"請輸入帳號\")\n        return 0\n      }\n      else {\n        await axios.get(\"https://api.donkeymove.com/api/CompanyUser/PushPhoneMessage?account=\"+this.forget_phone)\n\t\t\t  .then(res=>{\n          if(res.data.msg=\"成功\") {\n            alert(\"已寄驗證碼至您的手機，請確認\")\n            this.isShow(2)\n          }\n        });\n      }\n    },\n    check_sms:async function() {\n      await axios.get(\"https://api.donkeymove.com/api/CompanyUser/CheckPhoneCode?account=\"+this.forget_phone+\"&vCode=\"+this.forget_sms)\n\t\t\t  .then(res=>{\n          if(res.data.msg==\"正確\") {\n            this.isShow(3)\n          }\n          else {\n            alert(\"驗證碼不正確\")\n          }\n        });\n    },\n    set_new_password:async function() {\n      if(this.forget_newpassword==\"\"||this.re_forget_newpassword==\"\"||this.forget_newpassword!=this.re_forget_newpassword) {\n        alert(\"輸入不正確\")\n        return 0\n      }\n      await axios.put(\"https://api.donkeymove.com/api/CompanyUser/PutForgetPwd?companyUserAcc=\"+this.forget_phone+\"&Password=\"+this.forget_newpassword)\n\t\t\t  .then(res=>{\n          if(res.data.msg==\"更新成功\") {\n            alert(\"修改成功\")\n            this.isShow(0)\n            this.loging=false\n          }\n          else {\n            alert(res.data.msg)\n          }\n        });\n    }\n    },\n    template: '<div id=\"main\">\\\n    <div class=\"login\" v-if=\"message===\\'login\\' \">\\\n    <div class=\"logincont\">\\\n    <div class=\"titleArea\">\\\n      <h1>新北市政府</h1>\\\n      <h3>長照交通接送統一預約服務及管理系統</h3>\\\n    </div>\\\n    <div class=\"managerArea\">\\\n      <h2>管理者Login</h2>\\\n      <p>為了保障您的帳號安全，建議您最少於三個月變更一次密碼</p>\\\n    </div>\\\n    <div class=\"inputArea\">\\\n      <form action=\"\" @keyup.enter=\"login\">\\\n        <input type=\"email\" name=\"\" id=\"\" v-model=\"login_email\" placeholder=\"請輸入您的帳號\" />\\\n        <input type=\"password\" name=\"\" id=\"\" v-model=\"login_password\" placeholder=\"請輸入您的密碼\" />\\\n        <a class=\"loginBtn\" @click=\"login\">登入</a>\\\n      </form>\\\n    </div>\\\n    <a href=\"\" class=\"forgetPWD\" @click.prevent=\"isShow(1)\">忘記密碼？</a>\\\n  </div>\\\n    </div>\\\n    <div class=\"login forget_newpassword\" v-else-if=\"message===\\'forget_newpassword\\'\">\\\n    <div class=\"logincont\">\\\n      <div class=\"titleArea\">\\\n        <h1>新北市政府</h1>\\\n        <h3>長照交通接送統一預約服務及管理系統</h3>\\\n      </div>\\\n      <div class=\"managerArea\">\\\n        <h2>忘記密碼</h2>\\\n        <p>請準備好您的手機</p>\\\n      </div>\\\n      <div class=\"inputArea\">\\\n        <form action=\"\">\\\n          <input type=\"tel\" name=\"\" id=\"\" placeholder=\"請輸入您的帳號\" v-model=\"forget_phone\" />\\\n          <a class=\"loginBtn\" @click.prevent=\"send_sms\">下一步</a>\\\n        </form>\\\n      </div>\\\n      <p style=\"color:white;\">點選下一步，請依照步驟完成驗證註冊</p>\\\n    </div>\\\n  </div>\\\n  <div class=\"login forget_sms\" v-else-if=\"message===\\'forget_sms\\'\">\\\n  <div class=\"logincont\">\\\n    <div class=\"titleArea\">\\\n      <h1>新北市政府</h1>\\\n      <h3>長照交通接送統一預約服務及管理系統</h3>\\\n    </div>\\\n    <div class=\"managerArea\">\\\n      <h2>已發送簡訊驗證碼到您的手機</h2>\\\n      <p v-if=\"false\">手機號碼:{{}}</p>\\\n    </div>\\\n    <div class=\"inputArea\">\\\n      <form action=\"\">\\\n        <input type=\"text\" name=\"\" id=\"\" placeholder=\"請輸入簡訊內的驗證碼\" v-model=\"forget_sms\" />\\\n        <a class=\"loginBtn\" @click.prevent=\"check_sms\">下一步</a>\\\n      </form>\\\n    </div>\\\n    <p style=\"color:white;\">點選下一步，請依照步驟完成驗證註冊</p>\\\n  </div>\\\n</div>\\\n<div class=\"login forget_setnewpassword\" v-else-if=\"message===\\'forget_setnewpassword\\'\">\\\n<div class=\"logincont\">\\\n  <div class=\"titleArea\">\\\n    <h1>新北市政府</h1>\\\n    <h3>長照交通接送統一預約服務及管理系統</h3>\\\n  </div>\\\n  <div class=\"managerArea\">\\\n    <h2>設定登入密碼</h2>\\\n    <p>8碼以上且大寫英文、小寫英文、數字、特殊符號，4選3</p>\\\n  </div>\\\n  <div class=\"inputArea\">\\\n    <form action=\"\">\\\n      <input type=\"password\" name=\"\" id=\"\" placeholder=\"請輸入新的密碼\" v-model=\"forget_newpassword\"/>\\\n      <input type=\"password\" name=\"\" id=\"\" placeholder=\"再一次輸入新密碼確認\" v-model=\"re_forget_newpassword\"/>\\\n      <a class=\"loginBtn\" @click.prevent=\"set_new_password\">完成</a>\\\n    </form>\\\n  </div>\\\n  <p style=\"color:white;\">點選下一步，請依照步驟完成驗證註冊</p>\\\n</div>\\\n</div>\\\n    </div>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}